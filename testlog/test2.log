GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.784s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.793s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (36.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.505s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.771s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.706s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.274s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 16:58:48.201840 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 16:58:48.737060 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 16:58:56.951476 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 16:58:57.474607 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 16:59:05.238303 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 16:59:05.757397 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.409s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 16:59:17.356322 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 16:59:17.902591 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 16:59:27.839263 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 16:59:28.390156 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 16:59:38.942386 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 16:59:39.502345 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.478s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 16:59:55.646183 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 16:59:56.612396 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:00:08.127351 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:00:08.656058 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:00:19.087273 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:00:19.606427 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.740s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 17:00:33.629863 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:00:34.181052 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:00:42.905617 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:00:43.405974 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:00:52.388908 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:00:52.929608 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.692s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 17:01:04.479112 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:01:04.991608 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:01:14.060950 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:01:15.041884 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:01:23.678168 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:01:24.178527 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.078s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.532s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 17:01:40.307950 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:01:40.826191 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:01:49.826567 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:01:50.344917 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:01:59.599725 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:02:00.112696 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.545s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 17:02:12.827289 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:02:13.391596 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:02:28.235173 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:02:28.815109 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:02:44.867101 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:02:45.439304 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.037s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.884s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 17:03:41.923317 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:03:42.424763 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:03:55.298241 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:03:55.844027 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:04:07.871917 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:04:08.429502 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.633s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 17:04:24.844632 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:04:25.565707 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:04:35.882943 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:04:36.434473 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:04:46.029934 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:04:46.577182 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.146s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.400s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.519s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.645s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.815s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (22.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.888s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 17:07:33.861940 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:07:34.380890 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:07:41.994318 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:07:42.522726 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:07:50.456522 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:07:50.973719 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (32.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.393s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 17:08:07.102236 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:08:07.642566 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:08:17.395953 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:08:17.937686 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:08:29.372189 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:08:29.902890 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.826s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 17:08:44.134802 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:08:44.635753 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:08:54.817570 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:08:55.317998 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:09:06.367966 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:09:06.869148 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.393s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 17:09:21.380791 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:09:21.939896 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:09:30.983383 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:09:31.506900 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:09:39.574720 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:09:40.114524 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.670s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 17:09:52.693127 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:09:53.194425 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:10:02.106294 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:10:02.911425 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:10:11.668024 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:10:12.197835 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.198s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.022s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 17:10:29.310209 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:10:29.849228 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:10:38.940013 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:10:39.481080 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:10:48.288410 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:10:48.823660 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.189s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 17:11:01.531297 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:11:02.126877 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:11:17.545183 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:11:18.130280 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:11:32.814749 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:11:33.372839 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.778s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.963s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 17:12:29.273600 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:12:29.774066 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:12:42.319923 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:12:42.821241 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:12:55.220174 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:12:55.720815 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.785s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 17:13:11.136972 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:13:11.874650 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:13:21.619897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:13:22.120909 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:13:31.475981 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:13:31.997509 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.443s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.042s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.250s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (39.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.047s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (9.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	9.711s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.618s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.461s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 17:16:30.391141 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:16:30.914091 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:16:39.352591 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:16:39.863764 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:16:47.990289 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:16:48.513255 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.345s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 17:17:00.449083 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:17:01.006217 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:17:11.589992 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:17:12.108976 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:17:22.806778 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:17:23.349641 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.523s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 17:17:38.822987 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:17:39.324662 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:17:50.874015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:17:51.375410 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:18:02.077159 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:18:02.578391 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.867s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 17:18:17.408165 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:18:17.948637 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:18:26.480766 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:18:27.082012 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:18:35.704330 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:18:36.227720 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.276s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 17:18:47.983788 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:18:49.049953 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:18:57.928905 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:18:58.542856 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:19:07.389939 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:19:07.912907 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.442s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.510s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 17:19:23.604122 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:19:24.122797 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:19:33.675403 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:19:34.188506 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:19:42.607165 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:19:43.131191 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.312s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 17:19:55.988751 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:19:56.614995 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:20:11.267366 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:20:11.832785 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:20:27.090794 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:20:27.672267 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.346s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.959s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 17:21:26.211440 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:21:26.718607 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:21:38.736496 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:21:39.237451 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:21:51.513615 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:21:52.014363 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (42.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.319s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 17:22:08.645245 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:22:09.667249 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:22:20.283346 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:22:20.808021 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:22:31.588896 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:22:32.136052 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.105s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (29.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.382s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.452s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.784s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.773s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.500s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.726s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 17:25:19.147775 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:25:19.670885 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:25:27.617458 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:25:28.129723 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:25:36.246893 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:25:36.763480 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.602s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 17:25:48.548968 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:25:49.101625 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:25:59.304173 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:25:59.867744 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:26:09.745623 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:26:10.297881 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.899s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 17:26:25.986409 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:26:26.487323 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:26:37.024932 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:26:37.525860 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:26:48.680048 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:26:49.181284 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.561s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 17:27:04.703515 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:27:05.213258 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:27:15.317459 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:27:15.818702 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:27:24.418483 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:27:24.919217 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.136s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 17:27:37.409154 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:27:38.239208 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:27:46.473945 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:27:47.265673 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:27:56.794185 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:27:57.334196 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.040s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (7.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.077s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 17:28:16.735100 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:28:17.274786 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:28:26.031029 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:28:26.568904 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:28:35.190285 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:28:35.713135 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.365s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 17:28:48.098527 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:28:48.680432 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:29:03.796700 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:29:04.360838 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:29:19.195729 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:29:19.743271 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.391s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.520s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 17:30:17.127546 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:30:17.627960 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:30:29.735454 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:30:30.246845 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:30:43.034623 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:30:43.580096 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.225s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 17:30:59.098924 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:30:59.599874 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:31:09.166048 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:31:09.681889 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:31:19.886897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:31:20.456053 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.502s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (28.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.353s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.526s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.530s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.677s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.737s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.242s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 17:34:08.656022 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:34:09.168835 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:34:16.955173 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:34:17.473224 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:34:25.377146 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:34:25.890089 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.591s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 17:34:37.862547 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:34:38.425615 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:34:48.667225 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:34:49.208907 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:35:00.094584 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:35:00.642395 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.410s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 17:35:16.190536 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:35:16.714715 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:35:27.259644 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:35:27.760506 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:35:40.334168 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:35:40.875413 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.444s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 17:35:55.200860 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:35:55.706197 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:36:05.847793 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:36:06.348132 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:36:14.715098 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:36:15.216231 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.951s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 17:36:29.637985 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:36:30.172554 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:36:38.333985 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:36:38.858651 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:36:47.717061 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:36:48.244970 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.165s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.600s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 17:37:04.993828 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:37:05.512753 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:37:14.464995 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:37:15.017234 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:37:24.144421 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:37:24.657621 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.643s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 17:37:37.598758 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:37:38.169532 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:37:52.730193 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:37:53.387677 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:38:07.920365 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:38:08.485443 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.066s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.490s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 17:39:05.829759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:39:06.375764 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:39:21.023076 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:39:21.562083 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:39:31.397641 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:39:31.899207 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (44.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.029s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 17:39:50.611394 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:39:51.112723 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:40:00.406732 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:40:00.907109 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:40:11.577564 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:40:12.101096 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.344s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.396s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.419s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.324s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.743s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.679s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (30.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.081s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 17:43:00.027060 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:43:00.550850 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:43:08.393273 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:43:08.939169 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:43:16.904347 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:43:17.423187 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.285s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 17:43:29.074289 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:43:29.632882 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:43:40.394263 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:43:40.950875 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:43:51.924331 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:43:52.472211 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.224s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 17:44:07.928611 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:44:08.429392 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:44:20.284697 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:44:20.785663 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:44:31.992584 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:44:32.495142 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.997s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 17:44:46.878892 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:44:47.379757 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:44:56.562797 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:44:57.099829 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:45:06.459408 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:45:07.060913 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.452s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 17:45:20.562309 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:45:21.075238 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:45:30.170193 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:45:31.198913 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:45:40.047436 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:45:40.588602 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.766s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.524s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 17:45:55.668554 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:45:56.187920 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:46:05.327160 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:46:05.861622 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:46:14.867334 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:46:15.397321 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.907s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 17:46:28.463836 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:46:29.030866 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:46:45.685826 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:46:46.934418 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:47:02.085718 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:47:02.633332 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (52.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.038s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.171s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 17:48:03.190770 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:48:03.692400 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:48:16.086268 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:48:16.610758 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:48:27.237000 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:48:27.737327 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.623s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 17:48:44.225769 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:48:44.750701 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:48:53.482406 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:48:53.983493 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:49:03.195363 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:49:03.741650 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.039s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.995s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.968s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.315s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (6.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.697s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.727s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.856s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 17:51:50.599057 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:51:51.118001 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:51:58.809623 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:51:59.322976 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:52:07.507411 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:52:08.040678 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.231s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 17:52:19.530426 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:52:20.093916 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:52:31.118853 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:52:31.669956 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:52:42.554056 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:52:43.089054 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.891s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 17:52:58.221040 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:52:58.721942 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:53:10.693310 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:53:11.194541 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:53:21.688050 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:53:22.189413 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.741s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 17:53:37.511624 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:53:38.012781 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:53:47.007267 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:53:47.539458 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:53:56.642038 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:53:57.143277 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.113s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 17:54:09.586885 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:54:10.088150 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:54:19.404902 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:54:19.928555 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:54:28.396015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:54:28.896957 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.734s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.467s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 17:54:43.977825 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:54:44.501816 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:54:53.183765 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:54:53.702766 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:55:02.938052 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:55:03.456758 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.515s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 17:55:16.393286 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:55:16.964103 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:55:32.429840 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:55:33.009271 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:55:52.133150 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:55:52.822890 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (52.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.790s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.034s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 17:56:50.547553 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:56:51.048083 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:57:03.421251 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:57:03.940753 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:57:15.841951 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:57:16.343061 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.715s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 17:57:32.059831 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:57:32.919763 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:57:43.263066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:57:43.787945 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 17:57:53.071476 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 17:57:53.572651 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.042s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.842s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.101s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.997s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.745s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.890s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.436s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 18:00:40.735801 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:00:41.258588 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:00:49.182959 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:00:49.702846 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:00:58.470176 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:00:59.010399 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.732s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 18:01:11.261869 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:01:11.803530 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:01:22.033826 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:01:22.578848 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:01:32.894204 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:01:33.412364 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.732s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 18:01:48.712884 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:01:49.214227 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:01:59.949002 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:02:00.449550 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:02:11.706759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:02:12.211838 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.831s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 18:02:27.027554 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:02:27.539264 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:02:35.958158 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:02:36.459100 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:02:45.228071 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:02:45.731021 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (29.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.936s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 18:02:57.943885 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:02:58.446932 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:03:06.819463 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:03:07.723269 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:03:16.715583 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:03:17.249178 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.115s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.721s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 18:03:37.926790 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:03:38.469075 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:03:46.332426 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:03:46.857658 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:03:55.059300 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:03:55.583154 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (29.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.720s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 18:04:08.616647 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:04:09.713640 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:04:23.541072 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:04:24.120537 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:04:38.909408 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:04:39.500327 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.079s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.330s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 18:05:38.641270 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:05:39.142081 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:05:50.991648 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:05:51.493036 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:06:03.171005 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:06:03.671686 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.268s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 18:06:19.317218 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:06:19.818369 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:06:31.204140 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:06:31.742716 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:06:42.113587 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:06:42.667176 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.309s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.254s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.150s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.463s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.795s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.536s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.492s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 18:09:32.243008 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:09:32.784659 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:09:40.903542 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:09:41.427466 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:09:49.129182 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:09:49.664527 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.159s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 18:10:01.095730 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:10:01.659848 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:10:12.495876 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:10:13.033379 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:10:23.405412 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:10:23.940645 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.605s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 18:10:39.389798 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:10:39.891225 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:10:50.328133 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:10:50.828874 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:11:03.116123 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:11:03.640103 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (39.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.617s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 18:11:21.105606 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:11:21.858118 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:11:30.159964 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:11:30.711832 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:11:39.750872 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:11:40.588832 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.599s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 18:11:52.897803 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:11:53.437514 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:12:01.984241 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:12:02.616641 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:12:11.249010 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:12:11.749980 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (29.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.580s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (7.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.130s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 18:12:30.050911 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:12:30.569024 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:12:39.659375 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:12:40.173060 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:12:49.672769 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:12:50.201987 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.035s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 18:13:03.119265 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:13:03.678759 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:13:19.567981 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:13:20.183627 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:13:34.526917 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:13:35.108294 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.335s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.069s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 18:14:32.631597 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:14:33.165599 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:14:43.999435 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:14:44.500069 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:14:56.561214 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:14:57.062237 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.431s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 18:15:12.487615 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:15:12.989070 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:15:23.140187 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:15:23.681526 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:15:34.171657 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:15:34.709410 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.520s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.402s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.316s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.339s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (12.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	12.049s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.485s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.549s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 18:18:24.470504 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:18:24.997892 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:18:32.795581 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:18:33.324645 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:18:44.169168 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:18:44.693268 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (31.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.828s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 18:18:57.511805 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:18:58.090082 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:19:08.106963 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:19:08.658427 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:19:16.824401 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:19:17.375662 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (34.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.512s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 18:19:33.032625 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:19:33.534050 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:19:44.429711 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:19:44.975326 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:19:56.014083 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:19:56.514736 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.608s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 18:20:11.230759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:20:11.731923 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:20:21.476115 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:20:22.000692 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:20:29.243645 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:20:30.238187 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.854s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 18:20:43.786449 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:20:44.326390 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:20:52.759664 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:20:53.260495 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:21:02.023749 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:21:02.524880 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.525s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.705s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 18:21:17.662029 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:21:18.180376 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:21:27.003496 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:21:27.516052 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:21:36.437160 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:21:36.964847 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.194s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 18:21:49.772419 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:21:50.337558 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:22:05.348899 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:22:06.004942 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:22:20.134246 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:22:20.696799 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.412s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.136s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 18:23:17.540674 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:23:18.049826 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:23:30.365021 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:23:30.865922 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:23:42.167498 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:23:42.668577 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.824s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 18:23:58.205005 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:23:58.706058 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:24:07.630307 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:24:08.454454 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:24:18.384033 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:24:18.885020 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.437s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.006s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.785s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.582s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (9.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	9.673s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (26.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.420s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (30.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.476s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 18:27:11.873316 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:27:12.407703 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:27:20.060636 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:27:20.572580 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:27:28.749772 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:27:29.262830 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.916s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 18:27:41.048682 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:27:41.586236 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:27:52.274205 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:27:52.803728 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:28:03.566662 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:28:04.101127 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.994s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 18:28:19.596127 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:28:20.096674 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:28:31.680322 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:28:32.198342 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:28:43.426900 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:28:43.927220 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (39.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.139s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 18:29:00.251721 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:29:00.775864 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:29:10.405420 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:29:10.906024 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:29:19.420556 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:29:19.921034 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.035s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 18:29:33.838247 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:29:34.653030 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:29:42.965543 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:29:43.658612 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:29:52.148125 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:29:52.982046 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.515s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.665s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 18:30:09.817335 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:30:10.329588 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:30:19.473219 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:30:20.013050 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:30:29.133983 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:30:29.653293 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.566s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 18:30:42.293142 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:30:42.911350 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:30:58.088767 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:30:58.677308 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:31:13.883645 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:31:14.442441 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.406s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.682s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 18:32:09.850730 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:32:10.351776 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:32:21.794597 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:32:22.295108 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:32:34.774734 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:32:35.303704 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.224s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 18:32:50.877736 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:32:51.378153 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:33:01.290655 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:33:01.809546 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:33:10.651476 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:33:11.495880 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.249s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.974s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (35.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.481s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.008s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.103s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (26.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.432s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.495s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 18:36:06.245421 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:36:06.757754 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:36:14.712136 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:36:15.230363 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:36:23.107799 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:36:23.630565 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.229s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 18:36:35.283156 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:36:35.846335 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:36:46.178266 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:36:46.712488 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:36:57.159321 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:36:57.693936 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.016s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 18:37:13.306389 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:37:13.836153 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:37:24.647270 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:37:25.150503 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:37:36.342477 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:37:36.843507 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.249s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 18:37:52.213823 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:37:52.781681 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:38:02.353425 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:38:02.853680 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:38:11.648524 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:38:12.148806 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.263s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 18:38:23.657936 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:38:24.161998 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:38:32.648637 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:38:33.254428 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:38:42.414762 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:38:42.973494 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.572s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.581s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 18:38:58.355902 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:38:58.897417 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:39:07.903790 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:39:08.433149 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:39:17.121394 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:39:17.666625 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.581s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 18:39:30.839123 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:39:31.394794 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:39:45.647753 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:39:46.329265 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:40:01.208331 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:40:01.764334 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.465s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.150s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 18:40:58.338051 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:40:58.848357 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:41:10.630005 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:41:11.187270 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:41:23.195694 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:41:23.708563 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.287s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 18:41:38.717533 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:41:39.321882 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:41:49.170134 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:41:49.690844 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:42:00.796671 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:42:01.342747 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.160s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.098s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (35.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.590s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (37.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.072s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.770s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.133s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.073s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 18:44:52.832236 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:44:53.356611 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:45:01.435110 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:45:01.953904 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:45:09.822662 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:45:10.345161 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.179s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 18:45:21.748094 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:45:22.298542 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:45:32.730623 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:45:33.274303 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:45:43.549098 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:45:44.061542 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.272s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 18:45:59.581560 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:46:00.117293 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:46:09.849310 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:46:10.350241 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:46:21.224439 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:46:21.768128 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.769s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 18:46:36.256023 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:46:36.800568 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:46:45.362677 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:46:45.866609 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:46:54.700527 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:46:55.234899 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.597s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 18:47:08.511423 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:47:09.426851 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:47:20.042299 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:47:20.792337 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:47:30.133546 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:47:30.634622 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (33.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.588s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.635s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 18:47:46.157529 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:47:46.671068 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:47:55.798398 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:47:56.310700 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:48:05.546865 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:48:06.065611 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.756s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 18:48:18.919776 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:48:19.469171 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:48:33.947086 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:48:34.595975 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:48:48.879792 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:48:49.422096 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.270s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.282s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 18:49:45.488014 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:49:46.021060 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:49:56.911973 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:49:57.413127 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:50:12.547967 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:50:13.048967 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (42.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.738s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 18:50:29.246191 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:50:29.762470 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:50:40.155746 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:50:40.701063 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:50:49.846838 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:50:50.348323 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.689s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.970s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.507s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.126s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.746s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.710s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.419s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 18:53:36.903572 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:53:37.423950 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:53:45.243133 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:53:45.755888 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:53:53.659214 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:53:54.188318 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.802s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 18:54:06.395134 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:54:06.923491 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:54:17.867174 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:54:18.406649 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:54:29.267783 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:54:29.809480 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.526s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 18:54:45.820460 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:54:46.321580 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:54:57.393877 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:54:57.894883 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:55:09.555643 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:55:10.104862 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.591s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 18:55:23.862043 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:55:24.419231 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:55:33.507249 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:55:34.036695 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:55:44.006646 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:55:44.587897 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.966s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 18:55:57.882760 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:55:58.387674 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:56:06.994989 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:56:07.775719 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:56:17.032317 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:56:17.657036 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.713s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.626s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 18:56:33.436130 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:56:33.954712 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:56:42.698061 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:56:43.215882 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:56:52.184977 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:56:52.703719 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.189s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 18:57:05.537486 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:57:06.111978 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:57:21.624352 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:57:22.182334 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:57:46.847737 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:57:47.921171 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (58.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	58.705s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.314s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 18:58:42.662413 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:58:43.165368 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:58:54.852546 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:58:55.353602 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:59:06.794738 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:59:07.295719 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.392s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 18:59:24.364546 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:59:24.905196 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:59:35.162291 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:59:35.663613 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 18:59:44.372472 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 18:59:44.917148 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.820s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.143s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.966s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.041s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.639s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.823s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (30.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.739s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 19:02:34.004968 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:02:34.550376 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:02:42.975460 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:02:43.510190 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:02:52.702416 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:02:53.237549 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (30.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.335s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 19:03:04.979630 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:03:05.517413 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:03:16.315601 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:03:16.867512 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:03:27.480296 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:03:28.021478 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.139s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 19:03:43.905536 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:03:44.405914 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:03:55.923147 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:03:56.423533 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:04:07.591831 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:04:08.105501 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.259s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 19:04:22.598616 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:04:23.099693 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:04:31.179993 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:04:32.257470 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:04:42.281437 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:04:42.782478 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.383s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 19:04:55.849002 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:04:56.349546 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:05:06.685925 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:05:07.232184 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:05:17.273247 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:05:17.849504 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (37.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.841s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
2022/08/03 19:06:52.835990 cluster.go:205: [0;33m[warning] normal req: cmd_type:Put put:<cf:"lock" key:"k111" value:"v111" > [0m
--- FAIL: TestOneSnapshot2C (93.41s)
panic: request timeout [recovered]
	panic: request timeout

goroutine 43 [running]:
testing.tRunner.func1.2({0xa106e0, 0xb944a0})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa106e0, 0xb944a0})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x4, {0xc0e53c3040, 0x4, 0x8}, {0xc0043c1418, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:209 +0x478
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xadacbb, {0xadb2b3, 0x4}, {0xc0e53c3040, 0x4, 0x8}, {0xc0e53c3050, 0x4, 0x8})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:311 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestOneSnapshot2C(0xc0002431e0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:470 +0x525
testing.tRunner(0xc0002431e0, 0xb10cf8)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	93.452s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 19:07:06.171631 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:07:06.684374 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:07:15.537456 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:07:16.045747 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:07:24.682700 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:07:25.187268 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (29.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.845s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 19:07:36.748009 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:07:37.300730 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:07:51.298094 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:07:51.819321 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:08:05.602460 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:08:06.116755 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (45.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.404s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.304s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 19:08:59.817228 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:09:00.317968 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:09:12.536053 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:09:13.037012 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:09:24.317546 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:09:24.818765 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.783s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 19:09:39.487442 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:09:39.988821 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:09:49.115054 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:09:49.615495 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:10:00.156427 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:10:00.741852 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.545s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (26.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.697s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.552s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.429s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.739s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.190s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.539s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 19:12:46.592477 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:12:47.120251 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:12:54.802394 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:12:55.320205 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:13:03.063258 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:13:03.576627 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.910s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 19:13:15.231073 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:13:15.782677 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:13:26.395689 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:13:26.963878 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:13:37.442558 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:13:37.989227 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.922s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 19:13:53.896505 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:13:54.396961 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:14:05.849739 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:14:06.362001 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:14:16.967780 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:14:17.468934 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.916s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 19:14:32.641484 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:14:33.236553 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:14:43.609192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:14:44.221884 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:14:53.417446 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:14:53.918034 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.030s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 19:15:06.752903 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:15:07.396009 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:15:16.373643 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:15:16.903157 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:15:25.898320 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:15:26.448083 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.756s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.849s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 19:15:42.542951 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:15:43.055649 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:15:51.940605 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:15:52.462528 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:16:01.520842 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:16:02.033175 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.214s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 19:16:14.660836 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:16:15.270162 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:16:30.114741 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:16:30.704550 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:16:44.668239 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:16:45.242981 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.808s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.867s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 19:17:42.529973 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:17:43.030203 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:17:54.224082 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:17:54.724894 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:18:06.990263 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:18:07.524629 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.490s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 19:18:23.025107 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:18:23.525878 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:18:32.751406 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:18:33.252058 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:18:42.888608 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:18:43.511608 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.412s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.952s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.255s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.796s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.789s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.149s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.036s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 19:21:29.957745 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:21:30.486465 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:21:38.823957 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:21:39.336257 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:21:47.357390 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:21:47.881630 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.558s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 19:21:58.583544 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:21:59.112599 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:22:09.333387 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:22:09.886481 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:22:19.923107 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:22:20.464481 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.960s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 19:22:36.164289 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:22:36.664670 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:22:47.597495 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:22:48.097859 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:22:59.193807 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:22:59.788014 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.735s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 19:23:14.281332 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:23:14.782401 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:23:24.099287 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:23:24.973304 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:23:33.895171 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:23:34.528879 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.692s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 19:23:46.761801 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:23:47.802744 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:23:57.255978 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:23:58.202477 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:24:06.389929 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:24:06.920224 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.711s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.125s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 19:24:24.911660 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:24:25.430667 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:24:34.155038 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:24:34.671496 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:24:43.557733 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:24:44.091963 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.863s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 19:24:56.794281 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:24:57.395985 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:25:11.773098 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:25:12.374632 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:25:26.645767 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:25:27.236916 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.707s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.099s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 19:26:23.639141 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:26:24.140218 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:26:36.314822 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:26:36.815706 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:26:48.927730 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:26:49.431963 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.901s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 19:27:05.579834 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:27:06.430275 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:27:15.753885 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:27:16.354321 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:27:26.587416 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:27:27.105431 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.391s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.010s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.406s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.151s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.816s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.699s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.479s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.922s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 19:30:14.302156 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:30:14.844014 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:30:23.201787 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:30:23.735294 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:30:31.459091 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:30:31.977438 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.486s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 19:30:43.669280 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:30:44.225310 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:30:54.175486 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:30:54.699444 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:31:05.482491 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:31:06.025213 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.770s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 19:31:20.919574 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:31:21.419972 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:31:33.357495 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:31:33.857840 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:31:44.721380 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:31:45.222596 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.555s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 19:31:59.328721 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:31:59.833306 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:32:07.701222 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:32:08.550633 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:32:19.110592 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:32:19.783883 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.060s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 19:32:32.793560 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:32:33.318636 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:32:41.922913 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:32:42.423632 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:32:52.422800 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:32:52.924227 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.654s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.191s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 19:33:08.266963 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:33:08.779451 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:33:18.056801 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:33:18.574834 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:33:27.573400 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:33:28.085540 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.556s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 19:33:40.847955 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:33:41.443491 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:33:55.656555 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:33:56.218116 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:34:11.380680 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:34:11.986131 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.833s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.966s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 19:35:11.286487 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:35:11.814556 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:35:23.856370 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:35:24.357590 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:35:36.293020 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:35:36.793930 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.121s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 19:35:51.852734 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:35:52.398750 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:36:01.319002 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:36:01.819486 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:37:01.197535 cluster.go:205: [0;33m[warning] normal req: cmd_type:Snap snap:<> [0m
panic: request timeout

goroutine 380 [running]:
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x0, {0xc1d9d5cd10, 0xa, 0x10}, {0xc1c2ea15f8, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:209 +0x478
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Scan(0xc1d9d5cd00, {0xc1d9d5cd10, 0xa, 0x10}, {0xc1acd15de0, 0xa, 0x20})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:372 +0x21a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest.func1(0x0, 0xc1ac2fcae0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:218 +0x6df
github.com/pingcap-incubator/tinykv/kv/test_raftstore.runClient(0xc00026ffa0, 0x9f90c0, 0xc1ac2fcae0, 0xc0002a97a8)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:27 +0x78
created by github.com/pingcap-incubator/tinykv/kv/test_raftstore.SpawnClientsAndWait
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:37 +0x89
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	77.758s
FAIL
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.091s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.079s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.442s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (6.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.750s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.499s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.598s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 19:39:42.652082 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:39:43.174554 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:39:51.682803 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:39:52.206397 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:40:00.152937 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:40:00.677478 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.979s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 19:40:12.314396 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:40:12.838179 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:40:23.815826 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:40:24.360526 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:40:35.724451 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:40:36.265026 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.282s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 19:40:52.136114 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:40:52.666154 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:41:03.884320 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:41:04.385379 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:41:15.348160 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:41:15.848720 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.341s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 19:41:30.668528 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:41:31.168950 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:41:40.434357 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:41:40.975432 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:41:49.416309 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:41:50.156705 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.524s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 19:42:02.703255 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:42:03.221910 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:42:12.234524 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:42:12.958744 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:42:22.166959 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:42:22.711523 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.172s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.162s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 19:42:38.316735 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:42:38.861164 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:42:47.638981 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:42:48.179407 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:42:57.645772 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:42:58.175152 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.007s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 19:43:11.334634 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:43:11.934691 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:43:26.932237 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:43:27.547885 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:43:42.000861 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:43:42.547530 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.091s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (40.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.215s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 19:44:41.803167 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:44:42.303369 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:44:56.283165 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:44:56.829272 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:45:08.712664 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:45:09.213663 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (42.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.907s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 19:45:25.310011 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:45:25.811355 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:45:34.808461 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:45:35.309468 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:45:44.821554 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:45:45.327558 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.742s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.882s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.897s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.137s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.991s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.310s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (31.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.679s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 19:48:36.843516 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:48:37.388027 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:48:45.425934 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:48:45.939111 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:48:54.369871 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:48:54.888555 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.848s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 19:49:06.416727 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:49:06.974853 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:49:17.242319 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:49:17.788238 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:49:28.362348 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:49:28.922361 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.687s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 19:49:44.801607 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:49:45.314754 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:49:56.479602 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:49:56.980543 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:50:07.063554 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:50:07.564239 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.752s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 19:50:21.992270 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:50:22.517526 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:50:31.565979 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:50:32.173551 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:50:41.072573 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:50:41.701440 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (33.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.296s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 19:50:56.100416 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:50:56.681370 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:51:05.046413 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:51:06.225602 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:51:14.305854 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:51:15.158566 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.444s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (8.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	8.029s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 19:51:34.977486 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:51:35.515230 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:51:44.490014 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:51:45.009057 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:51:53.939211 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:51:54.463210 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.496s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 19:52:07.430192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:52:07.988281 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:52:22.105752 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:52:22.671365 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:52:36.500957 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:52:37.127993 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.250s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.097s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 19:53:33.260133 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:53:33.790674 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:53:46.091203 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:53:46.592066 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:53:58.882594 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:53:59.383075 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.946s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 19:54:14.551880 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:54:15.084075 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:54:24.965710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:54:25.468163 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:54:36.854219 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:54:37.376764 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.405s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.241s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.115s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.017s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.447s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.212s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.204s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 19:57:18.902299 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:57:19.425511 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:57:27.077895 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:57:27.601780 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:57:35.455501 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:57:35.979917 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.982s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 19:57:47.703312 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:57:48.262187 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:57:58.795923 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:57:59.336037 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:58:10.037628 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:58:10.573019 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.446s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 19:58:25.830704 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:58:26.404911 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:58:37.743726 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:58:38.294232 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:58:49.221657 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:58:49.722750 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.035s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 19:59:04.452811 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:59:04.953665 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:59:13.767347 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:59:14.269457 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:59:22.815630 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:59:23.316904 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.409s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 19:59:36.861011 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:59:37.362574 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:59:45.582144 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:59:46.155906 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 19:59:55.147067 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 19:59:55.647514 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.891s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.785s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 20:00:12.625829 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:00:13.155958 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:00:22.103480 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:00:22.636524 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:00:31.138471 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:00:31.662641 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.896s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 20:00:46.193600 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:00:46.706291 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:01:01.803519 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:01:02.349531 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:01:15.271794 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:01:16.114523 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.209s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.084s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 20:02:15.130642 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:02:15.631662 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:02:28.153139 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:02:28.653995 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:02:41.005824 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:02:41.506675 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.664s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 20:02:57.342025 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:02:57.847595 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:03:07.370088 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:03:07.964313 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 20:03:18.544328 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 20:03:19.045593 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.694s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.326s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.154s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.737s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.679s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.781s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.813s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 20:06:03.359441 test_test.go:257: [0;33m[warning] shutdown servers
[0m
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.413s
