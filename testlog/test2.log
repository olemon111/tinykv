GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.864s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.610s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.282s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.780s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.199s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.173s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 03:39:38.057618 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:39:38.598084 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:39:46.644226 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:39:47.196997 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:39:55.187444 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:39:55.699657 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.421s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 03:40:07.155488 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:40:07.730915 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:40:18.288327 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:40:18.829762 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:40:29.437845 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:40:29.966861 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.423s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 03:40:45.489525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:40:45.990441 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:40:57.198256 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:40:57.707515 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:41:09.148027 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:41:09.648996 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.304s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 03:41:24.213251 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:41:24.968922 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:41:33.543145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:41:34.043396 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:41:42.639251 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:41:43.155845 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.675s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 03:41:55.811685 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:41:56.312187 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:42:04.673234 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:42:05.222004 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:42:13.342066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:42:13.843176 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.367s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.521s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 03:42:29.880126 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:42:30.404858 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:42:39.298748 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:42:39.823309 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:42:48.158519 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:42:48.677153 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.641s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 03:43:01.474073 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:43:02.052567 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:43:16.364852 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:43:16.970908 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:43:31.916503 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:43:32.496465 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.908s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.504s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 03:44:30.536669 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:44:31.037639 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:44:41.850849 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:44:42.354624 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:44:53.646056 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:44:54.183534 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.327s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 03:45:11.959683 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:45:12.501187 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:45:23.087552 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:45:23.630620 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:45:33.728045 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:45:34.283042 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.253s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.182s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.349s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.159s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.738s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.721s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.172s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 03:48:18.690872 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:48:19.208947 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:48:27.680163 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:48:28.199548 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:48:36.809609 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:48:37.327122 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.858s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 03:48:49.701199 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:48:50.224586 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:48:58.727798 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:48:59.241980 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:49:10.097195 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:49:10.620541 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (32.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.704s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 03:49:23.057050 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:49:23.557494 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:49:42.900238 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:49:43.401645 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:49:53.459671 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:49:53.960417 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (42.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.074s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 03:50:07.153347 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:50:07.654227 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:50:16.192373 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:50:16.693787 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:50:25.034870 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:50:25.535248 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (28.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.990s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 03:50:37.099810 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:50:37.600284 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:50:45.477054 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:50:45.978170 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:50:55.318672 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:50:55.867973 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (29.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.908s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (2.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	2.225s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 03:51:09.344523 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:51:09.855768 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:51:18.669960 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:51:19.181271 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:51:27.896232 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:51:28.401121 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (29.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.917s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 03:51:40.051888 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:51:40.562472 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:51:54.450628 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:51:54.974235 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:52:21.737723 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:52:22.315117 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (58.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	58.921s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.687s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 03:53:19.565089 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:53:20.065705 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:53:32.356988 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:53:32.857471 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:53:45.462363 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:53:45.963077 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.455s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 03:54:01.416245 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:54:02.385195 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:54:11.724015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:54:12.457532 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:54:22.882542 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:54:23.584365 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.759s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.903s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.512s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.063s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.701s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.086s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.104s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 03:57:08.605596 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:57:09.129074 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:57:17.108543 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:57:17.649706 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:57:25.528683 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:57:26.057846 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.213s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 03:57:37.562275 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:57:38.128868 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:57:48.622306 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:57:49.174263 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:58:00.349097 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:58:00.873962 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.886s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 03:58:16.086820 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:58:16.588378 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:58:27.155161 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:58:27.656269 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:58:37.903252 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:58:38.404627 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.244s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 03:58:54.004364 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:58:54.505684 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:59:04.075298 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:59:04.576364 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:59:13.514836 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:59:14.015159 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.374s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 03:59:26.255566 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:59:26.757610 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:59:37.074166 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:59:37.627074 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 03:59:45.881527 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 03:59:46.381781 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.024s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.762s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 04:00:03.282574 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:00:03.802249 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:00:12.471832 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:00:13.012314 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:00:21.987513 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:00:22.516991 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.846s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 04:00:35.102768 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:00:35.703161 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:00:50.128229 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:00:50.783917 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:01:05.309402 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:01:05.951432 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.474s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.474s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 04:02:03.359259 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:02:03.864560 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:02:15.821231 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:02:16.321980 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:02:28.148687 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:02:28.649461 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.401s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 04:02:44.259932 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:02:44.761274 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:02:54.290301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:02:54.924475 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:03:54.607808 cluster.go:205: [0;33m[warning] normal req: cmd_type:Snap snap:<> [0m
    test_test.go:44: failure
panic: request timeout

goroutine 58 [running]:
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x0, {0xc1c518a160, 0xa, 0x10}, {0xc1aa981810, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:209 +0x478
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Scan(0xc1c518a150, {0xc1c518a160, 0xa, 0x10}, {0xc004349de0, 0xa, 0x20})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:372 +0x21a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest.func1(0x1, 0xc1a624bf80)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:218 +0x6df
github.com/pingcap-incubator/tinykv/kv/test_raftstore.runClient(0xc17ca552f0, 0xa38d00, 0xfff4e8, 0xc199b577a8)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:27 +0x78
created by github.com/pingcap-incubator/tinykv/kv/test_raftstore.SpawnClientsAndWait
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:37 +0x89
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	78.414s
FAIL
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.763s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.748s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.120s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.741s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.723s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.210s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 04:06:37.943674 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:06:38.462719 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:06:46.432293 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:06:46.956529 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:06:55.542511 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:06:56.055688 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.989s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 04:07:07.692346 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:07:08.212088 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:07:18.744885 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:07:19.280878 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:07:29.562324 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:07:30.124870 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.862s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 04:07:45.484767 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:07:45.985617 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:07:56.652087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:07:57.152502 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:08:08.068216 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:08:08.571149 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.441s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 04:08:23.536758 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:08:24.045950 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:08:33.079230 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:08:33.580069 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:08:42.798149 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:08:43.322812 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.979s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 04:08:55.855059 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:08:56.397241 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:09:04.998357 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:09:05.521320 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:09:13.523514 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:09:14.301384 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.578s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.023s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 04:09:30.043869 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:09:30.562388 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:09:39.725479 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:09:40.258811 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:09:48.869527 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:09:49.469925 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.810s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 04:10:03.747048 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:10:04.306638 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:10:17.612739 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:10:18.267793 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:10:33.271751 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:10:33.884036 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.828s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.368s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 04:11:30.018945 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:11:30.519975 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:11:42.851216 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:11:43.352149 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:11:55.134358 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:11:55.634610 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.091s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 04:12:11.103664 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:12:11.705948 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:12:20.479582 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:12:21.467101 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:12:30.875641 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:12:31.708589 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.387s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.946s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (30.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.995s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.438s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.959s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.266s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.748s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 04:15:14.508809 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:15:15.037482 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:15:23.062816 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:15:23.582070 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:15:31.283823 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:15:31.817541 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.111s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 04:15:43.339087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:15:43.883975 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:15:54.631273 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:15:55.172423 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:16:05.580546 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:16:06.121447 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.676s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 04:16:21.681181 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:16:22.182533 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:16:33.113563 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:16:33.670730 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:16:43.505181 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:16:44.006271 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (35.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.524s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 04:16:58.281180 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:16:58.800087 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:17:07.533194 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:17:08.269984 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:17:17.125618 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:17:17.723875 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.789s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 04:17:31.607173 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:17:32.137798 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:17:40.686433 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:17:41.385219 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:17:50.938584 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:17:51.613374 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.655s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.508s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 04:18:08.056883 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:18:08.575824 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:18:17.333910 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:18:17.864491 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:18:26.594576 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:18:27.144467 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.885s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 04:18:39.866993 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:18:40.418169 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:18:54.801584 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:18:55.447436 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:19:10.284326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:19:10.842026 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.489s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.773s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 04:20:07.357923 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:20:07.858525 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:20:19.872926 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:20:20.373715 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:20:31.989917 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:20:32.557922 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.061s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 04:20:48.230209 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:20:48.810062 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:20:58.521044 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:20:59.231170 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:21:08.423481 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:21:08.923775 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.585s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.643s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.544s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.853s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.786s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.671s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.166s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 04:23:54.202501 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:23:54.715508 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:24:02.898258 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:24:03.428422 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:24:11.447965 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:24:11.965174 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.063s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 04:24:24.044634 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:24:24.600636 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:24:34.425339 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:24:34.979890 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:24:45.839572 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:24:46.396609 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.248s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 04:25:02.987636 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:25:03.488015 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:25:12.558498 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:25:13.066276 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:25:22.756301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:25:23.256758 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (34.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.561s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 04:25:38.346529 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:25:38.865235 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:25:46.617819 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:25:47.118881 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:25:56.724446 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:25:57.236456 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.023s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 04:26:10.585907 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:26:11.372930 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:26:20.247771 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:26:21.183824 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:26:29.859675 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:26:30.376958 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.135s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.541s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 04:26:46.068747 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:26:46.586856 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:26:55.841274 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:26:56.371250 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:27:04.962656 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:27:05.503875 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.402s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 04:27:18.459800 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:27:19.049947 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:27:33.520842 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:27:34.189080 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:27:48.123329 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:27:48.689249 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.992s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.949s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 04:28:45.693068 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:28:46.194573 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:28:58.448552 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:28:58.949130 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:29:11.161400 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:29:11.722858 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.098s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 04:29:27.352940 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:29:28.109433 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:29:38.892469 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:29:39.393551 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:29:48.608891 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:29:49.132541 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.732s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.428s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.069s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.621s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.901s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.801s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.680s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 04:32:37.638936 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:32:38.192423 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:32:45.783410 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:32:46.307159 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:32:54.179446 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:32:54.709773 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.035s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 04:33:06.419246 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:33:06.967585 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:33:17.120863 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:33:17.655896 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:33:28.551448 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:33:29.085818 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.288s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 04:33:44.472808 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:33:44.974050 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:33:55.437750 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:33:55.940411 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:34:07.033542 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:34:07.534763 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.229s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 04:34:23.579610 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:34:24.128466 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:34:32.920395 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:34:33.466331 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:34:42.605453 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:34:43.106878 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.871s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 04:34:54.588159 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:34:55.573753 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:35:04.392582 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:35:04.893482 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:35:13.910398 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:35:14.464688 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.466s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.939s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 04:35:30.616061 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:35:31.135041 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:35:40.664346 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:35:41.177655 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:35:49.807138 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:35:50.326139 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.606s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 04:36:03.323868 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:36:03.918823 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:36:18.369043 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:36:18.924773 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:36:33.564350 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:36:34.142809 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.027s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.082s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 04:37:28.600715 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:37:29.101547 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:37:41.575100 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:37:42.174283 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:37:53.063556 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:37:53.565161 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.917s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 04:38:09.552316 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:38:10.081108 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:38:19.283745 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:38:20.025755 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:38:28.777738 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:38:29.379127 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.620s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.853s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.947s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.494s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.938s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.714s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.171s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 04:41:13.784047 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:41:14.306206 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:41:22.186051 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:41:22.699215 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:41:30.814683 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:41:31.339879 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.686s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 04:41:43.328110 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:41:43.874694 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:41:54.088022 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:41:54.641131 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:42:04.896882 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:42:05.438148 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.284s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 04:42:21.164052 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:42:21.675827 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:42:33.201781 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:42:33.748389 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:42:44.660313 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:42:45.160765 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.458s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 04:43:00.699167 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:43:01.199864 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:43:10.371218 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:43:10.895522 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:43:20.567908 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:43:21.069408 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.734s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 04:43:33.930368 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:43:34.431406 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:43:43.351279 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:43:43.851774 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:43:53.199872 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:43:53.723111 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.037s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.728s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 04:44:08.934512 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:44:09.459081 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:44:18.544303 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:44:19.073725 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:44:28.200159 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:44:28.723613 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.658s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 04:44:41.549828 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:44:42.172806 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:44:56.284228 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:44:56.857756 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:45:11.204967 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:45:11.802467 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.476s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.058s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 04:46:09.348123 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:46:09.849395 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:46:21.555518 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:46:22.061220 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:46:34.649169 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:46:35.188615 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.968s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 04:46:49.823301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:46:50.399571 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:47:00.516958 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:47:01.018186 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:47:10.605015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:47:11.105532 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.149s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.330s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.450s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.106s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.335s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.564s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.617s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 04:49:58.391461 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:49:58.904328 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:50:06.996725 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:50:07.509285 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:50:16.275647 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:50:16.808564 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.590s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 04:50:27.681555 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:50:28.224234 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:50:39.519640 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:50:40.045317 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:50:50.492599 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:50:51.040364 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.802s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 04:51:06.169694 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:51:06.670928 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:51:18.522192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:51:19.062164 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:51:29.274647 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:51:29.775264 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.561s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 04:51:45.028445 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:51:45.590032 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:51:55.019405 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:51:55.520180 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:52:03.974066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:52:04.475097 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.669s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 04:52:18.641297 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:52:19.198465 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:52:26.900524 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:52:27.419838 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:52:36.430262 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:52:37.130547 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.575s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (40.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.098s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 04:53:28.930326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:53:29.449197 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:53:38.703300 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:53:39.221689 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:53:47.897336 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:53:48.402510 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.258s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 04:53:59.563184 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:54:00.099144 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:54:14.052953 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:54:14.591183 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:54:28.656749 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:54:29.188518 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (45.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.642s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.484s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 04:55:26.646909 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:55:27.147337 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:55:39.078682 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:55:39.624578 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:55:52.620416 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:55:53.155090 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.064s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 04:56:09.382583 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:56:09.884004 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:56:21.079578 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:56:21.614230 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:56:32.524754 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:56:33.025654 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.457s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.558s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.283s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.849s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.748s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.204s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.964s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 04:59:19.281375 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:59:19.794347 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:59:27.815742 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:59:28.333775 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:59:36.019248 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:59:36.554752 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.444s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 04:59:48.421788 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 04:59:48.979151 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 04:59:59.687181 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:00:00.238651 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:00:10.601889 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:00:11.153845 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.329s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 05:00:26.333287 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:00:26.834440 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:00:37.410756 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:00:37.911250 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:00:47.834210 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:00:48.334937 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (35.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.791s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 05:01:02.999925 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:01:03.628500 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:01:12.298767 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:01:12.977364 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:01:22.299446 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:01:22.810745 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.863s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 05:01:35.401477 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:01:35.925199 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:01:44.750897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:01:45.612558 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:01:54.257659 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:01:55.041865 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.681s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.016s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 05:02:11.566373 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:02:12.085559 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:02:21.195331 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:02:21.714003 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:02:31.090078 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:02:31.619275 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.861s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 05:02:44.248614 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:02:45.154894 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:03:00.664966 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:03:01.505770 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:03:13.563024 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:03:14.270748 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (46.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.592s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.827s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 05:04:09.140705 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:04:09.641783 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:04:21.610741 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:04:22.111794 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:04:33.914914 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:04:34.415717 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.929s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 05:04:49.594549 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:04:50.191585 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:05:01.042014 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:05:01.555218 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:05:12.441493 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:05:12.960751 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.249s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.200s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.084s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.233s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (28.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.631s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.520s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.206s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 05:08:24.541307 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:08:25.069755 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:08:32.873319 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:08:33.413148 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:08:40.966375 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:08:41.476758 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.439s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 05:08:52.214291 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:08:52.730532 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:09:03.497296 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:09:04.014841 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:09:14.150618 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:09:14.664082 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (34.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.541s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 05:09:28.702351 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:09:29.203578 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:09:39.766587 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:09:40.267024 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:09:50.583455 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:09:51.084821 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (34.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.302s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 05:10:03.673127 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:10:04.174618 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:10:13.868023 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:10:14.375298 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:10:22.986564 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:10:23.688741 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.815s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 05:10:35.893274 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:10:36.409230 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:10:44.568937 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:10:45.074773 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:10:53.404968 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:10:54.054925 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (29.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.256s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.972s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 05:11:09.723015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:11:10.227153 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:11:19.085646 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:11:19.601338 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:11:28.442304 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:11:28.955665 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.285s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 05:11:42.446376 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:11:43.059505 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:11:57.140218 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:11:57.694771 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:12:12.376030 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:12:12.974755 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.982s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.980s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 05:13:10.671815 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:13:11.172508 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:13:22.866014 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:13:23.412267 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:13:35.456849 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:13:35.957881 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.912s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 05:13:51.837657 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:13:52.356007 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:14:01.250052 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:14:01.750582 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:14:11.778817 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:14:12.279450 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.425s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (23.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.961s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.820s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.927s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (8.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	8.863s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.115s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.209s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 05:17:02.561033 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:17:03.085062 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:17:10.729620 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:17:11.253337 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:17:19.527717 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:17:20.046448 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.746s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 05:17:31.988771 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:17:32.529868 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:17:43.759305 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:17:44.311187 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:17:55.561533 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:17:56.108490 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.013s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 05:18:11.975875 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:18:12.476903 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:18:23.222186 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:18:23.722696 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:18:34.699237 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:18:35.200585 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.122s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 05:18:50.609305 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:18:51.352924 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:19:01.817631 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:19:02.374042 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:19:11.650817 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:19:12.290761 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.021s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 05:19:25.028071 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:19:25.574776 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:19:33.471674 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:19:33.973380 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:19:42.023775 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:19:42.541256 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.659s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.754s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 05:20:00.127908 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:20:00.652531 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:20:09.576192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:20:10.089041 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:20:19.648430 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:20:20.160863 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.958s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 05:20:33.000286 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:20:33.557999 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:20:48.460836 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:20:49.055313 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:21:03.544332 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:21:04.100753 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.292s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.825s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 05:22:00.229350 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:22:00.729839 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:22:12.108087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:22:12.609060 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:22:24.267233 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:22:24.785563 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.849s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 05:22:39.877774 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:22:40.378671 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:22:50.466391 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:22:51.398209 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:23:02.913748 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:23:03.427715 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.639s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.965s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.372s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.595s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.715s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.246s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.926s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 05:25:50.230275 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:25:50.752909 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:25:59.844088 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:26:00.373727 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:26:08.046321 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:26:08.564893 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.447s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 05:26:20.769408 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:26:21.308796 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:26:31.888679 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:26:32.452974 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:26:43.208837 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:26:43.766204 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.605s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 05:27:00.174573 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:27:00.675103 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:27:11.678456 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:27:12.179450 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:27:24.265570 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:27:24.765972 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.803s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 05:27:39.307906 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:27:39.809445 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:27:48.448873 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:27:48.966523 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:27:57.979783 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:27:58.480998 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.237s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 05:28:11.418032 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:28:11.919114 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:28:20.428066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:28:20.936469 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:28:30.854284 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:28:31.355223 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.045s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.647s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 05:28:47.356563 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:28:47.879986 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:28:57.156104 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:28:57.697176 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:29:06.361666 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:29:06.874015 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.523s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 05:29:19.792182 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:29:20.384020 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:29:35.501939 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:29:36.159191 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:29:51.260722 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:29:51.842915 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.850s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.542s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 05:30:47.145455 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:30:47.647545 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:30:59.815736 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:31:00.316231 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:31:12.179231 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:31:12.682836 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.484s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 05:31:28.765782 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:31:29.267247 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:31:38.778116 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:31:39.312867 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:31:48.746430 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:31:49.247469 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.588s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.853s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.696s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.647s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.744s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.289s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (30.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.035s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 05:34:36.393409 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:34:36.912605 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:34:45.433237 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:34:45.968497 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:34:53.921272 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:34:54.455300 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.476s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 05:35:06.604806 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:35:07.156226 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:35:17.362687 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:35:17.886767 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:35:28.552536 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:35:29.087857 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.399s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 05:35:44.856532 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:35:45.357862 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:35:56.246540 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:35:56.747879 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:36:09.283914 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:36:09.841028 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (39.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.629s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 05:36:25.114208 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:36:25.615456 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:36:35.261583 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:36:35.762401 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:36:44.524222 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:36:45.217101 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.661s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 05:36:58.652592 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:36:59.586355 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:37:09.115027 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:37:09.660439 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:37:19.046497 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:37:19.581992 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (33.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.432s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (8.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	8.981s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 05:37:41.161667 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:37:41.690820 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:37:50.937351 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:37:51.471767 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:38:00.033952 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:38:00.574834 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.808s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 05:38:13.978876 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:38:14.629996 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:38:28.401690 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:38:28.959114 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:38:44.306894 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:38:44.859347 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (46.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.526s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.624s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 05:39:39.042058 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:39:39.565922 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:39:50.422410 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:39:50.931253 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:40:03.494131 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:40:03.995273 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (37.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.703s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 05:40:17.250214 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:40:17.760055 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:40:27.517178 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:40:28.025490 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:40:37.327111 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:40:37.827404 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (31.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.788s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (22.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.020s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.062s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.329s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (2.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	2.994s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.158s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (25.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.649s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 05:43:12.359425 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:43:12.865881 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:43:20.918048 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:43:21.430847 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:43:28.676632 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:43:29.181372 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (26.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.100s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 05:43:39.129537 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:43:39.861361 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:43:50.579205 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:43:51.092897 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:44:01.718319 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:44:02.229684 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (45.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.780s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 05:44:26.453307 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:44:26.954232 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:44:37.876569 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:44:38.377622 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:44:48.954353 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:44:49.454832 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (35.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.543s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 05:45:03.075936 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:45:03.576986 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:45:11.974554 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:45:12.609062 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:45:21.953161 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:45:22.453664 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (29.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.419s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 05:45:32.962913 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:45:33.471918 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:45:42.520759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:45:43.030619 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:45:50.665879 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:45:51.343572 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (28.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.988s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (1.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	2.007s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 05:46:04.513255 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:46:05.020217 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:46:13.917078 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:46:14.424725 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:46:23.095822 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:46:23.600891 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.149s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 05:46:35.487710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:46:36.012473 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:46:49.493918 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:46:50.033822 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:47:03.715301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:47:04.232818 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (45.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.146s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.258s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 05:48:00.330164 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:48:00.839439 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:48:19.982800 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:48:20.483699 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:48:34.017415 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:48:34.518783 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (49.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.575s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 05:48:50.990887 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:48:51.515665 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:49:00.737001 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:49:01.237596 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:49:11.298667 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:49:11.826669 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.931s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.697s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.515s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.275s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (12.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	12.982s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.440s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.459s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 05:52:01.236434 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:52:01.765270 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:52:09.976815 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:52:10.512359 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:52:18.727335 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:52:19.250182 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.011s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 05:52:30.955645 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:52:31.501180 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:52:41.582498 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:52:42.129240 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:52:52.670846 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:52:53.217338 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.914s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 05:53:08.865124 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:53:09.366059 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:53:20.702075 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:53:21.221296 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:53:31.636530 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:53:32.139692 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.758s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 05:53:47.187998 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:53:47.793587 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:53:57.369288 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:53:57.982302 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:54:06.618100 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:54:07.153675 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.720s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 05:54:21.165936 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:54:21.707735 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:54:30.984523 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:54:31.515129 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:54:39.964648 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:54:40.465144 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.585s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.656s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 05:54:57.147475 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:54:57.659182 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:55:06.922393 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:55:07.446414 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:55:16.431742 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:55:16.967955 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.556s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 05:55:29.623049 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:55:30.157962 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:55:44.241169 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:55:44.811268 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:55:59.266134 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:55:59.796203 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.350s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.351s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 05:56:55.957844 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:56:56.553905 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:57:08.412468 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:57:08.919460 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:57:20.309900 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:57:20.810876 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.812s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 05:57:37.746355 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:57:38.282699 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:57:48.216141 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:57:48.716537 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 05:57:57.976777 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 05:57:58.540449 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.557s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.738s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.390s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.053s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.632s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.869s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.921s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 06:00:43.032048 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:00:43.555262 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:00:51.821355 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:00:52.339957 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:01:00.644498 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:01:01.157390 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.106s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 06:01:13.030484 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:01:13.570999 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:01:24.233450 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:01:24.774236 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:01:35.385448 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:01:35.938351 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.795s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 06:01:51.271056 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:01:51.772597 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:02:02.165305 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:02:02.665950 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:02:13.586923 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:02:14.087688 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.330s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 06:02:28.670217 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:02:29.171154 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:02:38.399132 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:02:38.900069 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:02:48.417574 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:02:48.918865 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.725s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 06:03:01.138033 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:03:01.674537 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:03:10.758718 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:03:11.950076 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:03:21.176753 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:03:21.989972 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.729s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.479s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 06:03:37.541762 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:03:38.066371 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:03:47.650145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:03:48.163265 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:03:57.451075 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:03:57.964447 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (33.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.107s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 06:04:11.652980 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:04:12.255320 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:04:26.295951 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:04:26.840534 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:04:41.587332 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:04:42.192718 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.926s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.564s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 06:05:39.236415 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:05:39.736986 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:05:51.797294 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:05:52.304699 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:06:03.116039 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:06:03.634733 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.967s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 06:06:19.154676 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:06:19.661163 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:06:30.577770 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:06:31.079234 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:06:39.530817 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:06:40.255580 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.272s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.466s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.689s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.698s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.700s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.528s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.924s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 06:09:28.127279 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:09:28.646898 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:09:36.587828 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:09:37.112586 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:09:44.881769 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:09:45.394589 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.548s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 06:09:57.397254 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:09:57.953374 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:10:08.530231 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:10:09.069153 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:10:19.637857 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:10:20.201600 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.821s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 06:10:36.145104 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:10:36.646092 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:10:47.048658 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:10:47.550140 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:10:58.849399 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:10:59.350906 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.321s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 06:11:14.951520 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:11:15.472683 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:11:25.463725 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:11:25.973227 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:11:34.754778 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:11:35.273949 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.385s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 06:11:48.250044 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:11:48.840042 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:12:00.217634 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:12:00.752811 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:12:08.709557 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:12:09.360716 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (33.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.628s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.813s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 06:12:25.874869 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:12:26.394424 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:12:34.753028 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:12:35.276444 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:12:44.090900 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:12:44.604011 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.783s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 06:12:57.620476 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:12:58.240030 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:13:12.391716 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:13:13.117132 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:13:27.959472 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:13:28.512110 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.844s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.766s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 06:14:25.050533 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:14:25.610514 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:14:37.503206 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:14:38.003658 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:14:50.261839 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:14:50.763121 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.484s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 06:15:06.972589 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:15:07.550816 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:15:17.360605 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:15:18.020565 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:15:27.675724 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:15:28.188470 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.201s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.203s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.976s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.388s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.713s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.386s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.133s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 06:18:13.545216 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:18:14.058687 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:18:22.056774 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:18:22.586044 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:18:30.339214 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:18:30.852459 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.455s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 06:18:42.643814 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:18:43.183320 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:18:53.252484 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:18:53.786013 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:19:04.069990 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:19:04.609819 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.851s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 06:19:20.551510 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:19:21.086847 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:19:32.536296 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:19:33.036710 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:19:44.630878 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:19:45.167384 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.923s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 06:20:00.304612 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:20:01.056486 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:20:09.551986 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:20:10.052404 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:20:19.379582 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:20:19.880853 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.552s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 06:20:32.606207 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:20:33.124542 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:20:42.620805 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:20:43.169671 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:20:51.435556 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:20:51.989702 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.612s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.967s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 06:21:11.136037 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:21:11.675280 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:21:20.330410 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:21:20.859927 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:21:29.760223 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:21:30.308369 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.114s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 06:21:43.213143 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:21:43.786610 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:21:58.292368 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:21:58.861189 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:22:13.090052 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:22:13.691878 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.203s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.681s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 06:23:13.575063 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:23:14.076579 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:23:25.548498 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:23:26.049539 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:23:38.227927 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:23:38.728717 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.733s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 06:23:54.524502 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:23:55.225053 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:24:04.677185 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:24:05.261644 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:24:14.240087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:24:15.100931 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.237s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.923s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.370s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.898s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.921s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.850s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.375s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 06:27:03.285517 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:27:03.804697 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:27:11.544371 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:27:12.063086 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:27:19.736381 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:27:20.265588 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.545s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 06:27:31.496141 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:27:32.036531 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:27:44.968897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:27:45.509470 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:27:55.686553 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:27:56.220422 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.029s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 06:28:11.297934 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:28:11.799134 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:28:22.846390 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:28:23.347744 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:28:33.214485 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:28:33.715072 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (35.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.997s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 06:28:48.314797 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:28:48.876991 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:28:57.304544 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:28:57.805288 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:29:07.297702 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:29:07.797966 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.108s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 06:29:20.569131 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:29:21.079896 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:29:29.773806 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:29:30.308040 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:29:39.164540 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:29:39.691024 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.301s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.597s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 06:29:55.035849 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:29:55.559254 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:30:04.323607 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:30:04.836670 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:30:13.879642 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:30:14.408785 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.101s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 06:30:27.264377 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:30:27.835544 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:30:42.390765 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:30:42.992230 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:30:57.631454 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:30:58.219520 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.410s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.650s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 06:31:55.280405 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:31:55.781518 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:32:07.225358 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:32:07.726496 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:32:19.358271 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:32:19.859278 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.748s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 06:32:34.932412 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:32:35.606198 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:32:45.231861 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:32:45.733173 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:32:54.190636 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:32:54.691912 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.606s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.541s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.834s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.118s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.955s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.655s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.172s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 06:35:39.688356 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:35:40.216495 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:35:48.125647 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:35:48.643868 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:35:56.187147 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:35:56.700122 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.239s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 06:36:08.667434 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:36:09.199683 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:36:20.049881 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:36:20.627002 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:36:31.285631 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:36:31.850227 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.921s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 06:36:47.721806 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:36:48.240080 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:36:57.529059 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:36:58.070782 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:37:09.127266 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:37:09.628545 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (35.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.746s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 06:37:23.669758 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:37:24.170753 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:37:32.403267 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:37:32.903770 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:37:41.735425 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:37:42.784510 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.740s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 06:37:56.343293 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:37:56.982497 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:38:05.943727 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:38:06.467743 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:38:15.757885 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:38:16.413798 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.809s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.896s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 06:38:32.282927 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:38:32.828915 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:38:41.814991 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:38:42.360151 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:38:51.505233 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:38:52.022802 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.558s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 06:39:04.790442 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:39:05.359167 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:39:20.182798 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:39:20.802163 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:39:35.789944 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:39:36.418368 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.511s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.230s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 06:40:35.056576 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:40:35.558070 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:40:47.644945 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:40:48.145832 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:41:00.062486 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:41:00.675162 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.008s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 06:41:16.172423 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:41:16.759760 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:41:26.314325 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:41:26.825363 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:41:35.419469 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:41:36.262290 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.107s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.031s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (30.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.402s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.411s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.907s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.810s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (25.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.513s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 06:44:14.467485 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:44:15.014679 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:44:23.201335 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:44:23.737137 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:44:31.831755 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:44:32.350824 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.842s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 06:44:44.069199 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:44:44.610337 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:44:55.676519 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:44:56.242720 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:45:06.557288 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:45:07.124931 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.622s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 06:45:22.553028 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:45:23.054608 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:45:33.877912 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:45:34.378245 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:45:45.278935 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:45:45.831117 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.430s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 06:46:00.975296 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:46:01.522304 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:46:11.204742 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:46:11.705537 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:46:20.142990 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:46:21.371316 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (33.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.699s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 06:46:33.700012 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:46:34.200705 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:46:44.529632 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:46:45.030576 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:46:52.680171 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:46:53.181444 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.461s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.618s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 06:47:08.422008 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:47:08.935214 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:47:17.727890 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:47:18.240417 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:47:26.875367 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:47:27.409504 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.164s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 06:47:40.565829 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:47:41.112093 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:47:55.343737 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:47:55.920421 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:48:10.814441 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:48:11.350246 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.181s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.682s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 06:49:09.379902 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:49:09.880281 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:49:21.549010 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:49:22.050334 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:49:35.391136 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:49:35.962638 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.583s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 06:49:53.476901 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:49:54.023419 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:50:04.335060 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:50:05.177150 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:50:15.585935 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:50:16.104291 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (37.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.908s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.511s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.968s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.941s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.702s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.908s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.803s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 06:53:04.484523 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:53:04.997526 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:53:13.395815 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:53:13.925289 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:53:21.957960 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:53:22.476619 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.000s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 06:53:34.230027 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:53:34.770751 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:53:45.966227 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:53:46.522000 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:53:56.496354 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:53:57.064465 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.342s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 06:54:12.347673 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:54:12.848878 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:54:23.640563 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:54:24.141841 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:54:34.680022 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:54:35.181272 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.619s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 06:54:49.786080 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:54:50.287499 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:54:59.816778 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:55:00.356516 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:55:09.707850 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:55:10.237108 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.245s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 06:55:22.617690 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:55:23.118197 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:55:33.003039 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:55:33.537710 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:55:42.002698 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:55:42.589089 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.301s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.615s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 06:55:58.795957 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:55:59.315285 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:56:08.439625 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:56:08.963319 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:56:18.366346 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:56:18.896605 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.686s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 06:56:31.394137 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:56:31.967811 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:56:45.875969 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:56:46.438730 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:57:00.692345 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:57:01.787257 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.309s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.861s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 06:57:58.704265 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:57:59.222697 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:58:11.389946 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:58:11.890546 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:58:24.031031 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:58:24.532120 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.694s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 06:58:40.954371 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:58:41.484654 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:58:51.665177 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:58:52.237904 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 06:59:50.912464 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 06:59:51.925096 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (84.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	84.951s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.480s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.859s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.069s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (16.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	16.409s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.062s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.497s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 07:02:49.550788 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:02:50.075473 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:02:57.767922 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:02:58.293685 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:03:06.602408 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:03:07.128095 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.945s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 07:03:19.245479 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:03:19.803199 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:03:30.200796 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:03:30.735718 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:03:41.626362 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:03:42.188343 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.243s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 07:03:57.226113 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:03:57.727152 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:04:08.194783 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:04:08.695963 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:04:19.876087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:04:20.377491 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.575s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 07:04:35.600532 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:04:36.115242 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:04:45.259641 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:04:45.760863 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:04:54.444333 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:04:54.945229 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.811s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 07:05:06.985162 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:05:07.571466 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:05:14.227220 test_test.go:221: [0;31m[fatal] get wrong value, client 1
want:x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 yx 1 6 y
got: x 1 0 yx 1 1 yx 1 2 yx 1 3 yx 1 4 yx 1 5 y
[0m
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	15.370s
FAIL
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.468s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 07:05:26.236361 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:05:26.760944 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:05:35.808103 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:05:36.331217 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:05:45.486877 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:05:45.999877 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (33.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.212s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 07:06:00.911651 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:06:01.464569 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:06:15.061706 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:06:15.674306 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:06:30.332375 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:06:30.913691 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.474s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (32.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.550s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 07:07:24.778261 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:07:25.324415 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:07:37.702528 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:07:38.203124 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:07:50.475682 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:07:50.976437 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.729s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 07:08:06.050199 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:08:07.500913 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:08:17.343707 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:08:17.845174 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:08:27.786710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:08:28.287319 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.407s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.515s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.795s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.823s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.677s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.898s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.191s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 07:11:13.247065 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:11:13.783002 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:11:21.772914 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:11:22.312292 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:11:30.110594 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:11:30.646919 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.674s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 07:11:42.595567 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:11:43.151514 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:11:53.390824 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:11:53.948601 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:12:04.363414 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:12:04.921175 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.439s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 07:12:19.489728 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:12:19.990827 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:12:30.759387 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:12:31.318495 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:12:41.672204 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:12:42.172735 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.562s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 07:12:57.227653 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:12:57.729127 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:13:07.129643 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:13:07.788840 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:13:17.722028 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:13:18.223068 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (33.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.808s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 07:13:31.611246 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:13:32.471237 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:13:41.491277 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:13:42.092591 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:13:51.999775 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:13:52.706568 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.640s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.590s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 07:14:08.182005 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:14:08.700766 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:14:18.597613 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:14:19.116345 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:14:28.433625 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:14:28.945900 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (33.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.116s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 07:14:42.144647 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:14:42.738045 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:14:59.267257 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:14:59.840545 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:15:14.286547 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:15:14.869278 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.335s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.235s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 07:16:11.900720 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:16:12.401491 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:16:24.501845 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:16:25.003247 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:16:36.940528 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:16:37.441638 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.029s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 07:16:52.717989 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:16:53.219414 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:17:02.899528 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:17:03.400602 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:17:13.375796 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:17:14.153233 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.189s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.476s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.730s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.459s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.907s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.304s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.208s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 07:19:56.864619 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:19:57.398992 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:20:05.377170 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:20:05.895564 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:20:13.652040 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:20:14.186855 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.200s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 07:20:26.877330 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:20:27.439798 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:20:38.138590 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:20:38.676608 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:20:49.464667 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:20:49.994202 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.500s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 07:21:06.252811 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:21:06.753513 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:21:16.835660 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:21:17.336869 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:21:28.276902 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:21:28.777262 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.562s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 07:21:43.448196 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:21:43.948543 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:21:52.627691 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:21:53.129909 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:22:01.415569 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:22:01.923828 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (29.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.032s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 07:22:14.642325 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:22:15.176936 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:22:23.263694 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:22:24.249293 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:22:32.385811 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:22:33.280366 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.901s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.007s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 07:22:50.834539 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:22:51.370341 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:22:59.904445 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:23:00.417534 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:23:09.317347 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:23:09.836056 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.814s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 07:23:23.598811 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:23:24.212381 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:23:38.450556 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:23:39.019034 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:23:53.205026 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:23:53.772667 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.837s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.288s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 07:24:51.349713 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:24:51.850280 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:25:03.863441 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:25:04.364460 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:25:15.989535 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:25:16.489865 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.334s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 07:25:31.733288 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:25:32.324850 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:25:42.741734 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:25:43.267019 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:25:54.137925 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:25:54.859843 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.625s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.055s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.783s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.614s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.717s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.955s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.455s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 07:28:39.787789 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:28:40.328020 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:28:48.930746 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:28:49.472416 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:28:57.616351 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:28:58.146431 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.317s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 07:29:09.900357 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:29:10.422686 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:29:20.249942 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:29:20.798896 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:29:31.561698 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:29:32.129738 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.893s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 07:29:47.437313 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:29:47.937785 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:29:57.706896 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:29:58.207821 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:30:10.684601 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:30:11.218123 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.301s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 07:30:26.274145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:30:26.794308 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:30:36.755763 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:30:37.275357 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:30:45.081742 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:30:45.582749 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.217s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 07:30:57.250083 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:30:57.750512 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:31:08.443413 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:31:08.943873 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:31:18.944226 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:31:19.467867 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (33.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.212s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.131s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 07:31:37.277731 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:31:37.811904 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:31:47.022540 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:31:47.547684 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:31:56.401104 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:31:56.914074 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.618s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 07:32:09.774730 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:32:10.345009 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:32:25.417076 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:32:25.982163 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:32:40.101689 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:32:40.687045 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.276s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.518s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 07:33:38.802786 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:33:39.317375 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:33:52.077270 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:33:52.582509 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:34:04.933376 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:34:05.433751 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.311s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 07:34:21.013756 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:34:21.634430 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:34:32.114758 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:34:32.615639 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:34:42.344422 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:34:42.845252 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.076s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.385s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.500s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.362s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (6.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.780s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.331s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (31.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.007s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 07:37:35.200165 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:37:35.719105 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:37:43.543594 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:37:44.056384 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:37:51.876420 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:37:52.400210 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.416s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 07:38:05.369365 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:38:05.899541 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:38:15.910329 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:38:16.450804 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:38:27.279853 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:38:27.826925 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.875s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 07:38:42.883469 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:38:43.384686 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:38:56.004230 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:38:56.544443 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:39:06.691484 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:39:07.235751 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.042s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 07:39:21.732884 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:39:22.233556 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:39:30.943659 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:39:31.444888 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:39:41.345818 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:39:41.916780 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.096s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 07:39:54.352161 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:39:54.893964 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:40:03.160548 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:40:03.890441 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 07:40:12.856720 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 07:40:13.378832 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (29.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.029s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.467s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.971s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.024s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.877s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.797s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.259s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 19:50:23.610726 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:50:24.146137 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:50:32.046490 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:50:32.564101 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:50:40.190646 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:50:40.719614 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.655s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 19:50:52.055477 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:50:52.602222 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:51:03.427742 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:51:03.975268 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:51:14.875189 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:51:15.410862 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.172s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 19:51:30.875145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:51:31.376403 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:51:41.890404 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:51:42.407465 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:51:53.305042 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:51:53.805811 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.805s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 19:52:08.308470 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:52:08.841742 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:52:18.599688 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:52:19.134976 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:52:27.943411 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:52:28.444511 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.780s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 19:52:41.472840 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:52:42.008144 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:52:51.195455 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:52:51.825072 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:53:00.276292 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:53:00.777639 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.406s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.694s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 19:53:16.401023 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:53:16.941133 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:53:26.278978 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:53:26.797961 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:53:35.540716 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:53:36.052726 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.115s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 19:53:48.400489 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:53:48.943672 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:54:07.323196 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:54:07.853261 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:54:21.031859 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:54:21.590119 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.548s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.151s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 19:55:18.177396 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:55:18.690524 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:55:30.995830 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:55:31.496785 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:55:44.424825 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:55:44.982091 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.564s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 19:56:01.114806 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:56:01.654554 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:56:11.087818 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:56:11.612119 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:56:23.407079 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:56:23.942430 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.841s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.218s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.324s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.062s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.693s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.146s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.132s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 19:59:07.969526 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:59:08.487826 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:59:16.294878 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:59:16.829244 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:59:25.010232 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:59:25.548365 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.558s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 19:59:37.243196 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:59:37.797661 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:59:48.402219 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 19:59:48.945344 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 19:59:59.925326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:00:00.490780 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.874s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 20:00:15.946011 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:00:16.492122 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:00:28.018774 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:00:28.519632 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:00:39.090984 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:00:39.591348 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.259s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 20:00:54.621089 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:00:55.954733 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:01:05.052877 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:01:05.557393 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:01:16.889617 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:01:17.414560 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (35.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.110s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 20:01:30.688803 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:01:31.227765 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:01:39.838050 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:01:40.379437 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:01:48.904173 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:01:49.405396 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.788s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.852s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 20:02:05.574861 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:02:06.088526 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:02:14.929642 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:02:15.447545 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:02:24.379769 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:02:24.902049 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.290s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 20:02:37.840708 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:02:38.414329 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:02:52.650993 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:02:53.221597 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:03:07.708540 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:03:08.349198 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.200s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.569s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 20:04:04.452459 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:04:04.952968 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:04:16.382312 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:04:16.883046 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:04:28.300158 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:04:28.800542 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.505s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 20:04:44.172895 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:04:44.673837 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:04:54.113215 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:04:54.622452 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:05:04.831401 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:05:05.332020 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.912s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.486s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.664s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.362s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.608s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.081s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.008s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 20:07:53.975822 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:07:54.504644 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:08:02.457379 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:08:02.975341 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:08:10.418192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:08:10.941610 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.671s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 20:08:22.376249 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:08:22.917739 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:08:32.519328 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:08:33.050641 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:08:43.911516 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:08:44.474021 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.611s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 20:09:00.848869 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:09:01.350238 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:09:12.449005 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:09:12.950340 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:09:22.774960 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:09:23.275367 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (35.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.317s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 20:09:37.002962 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:09:37.514304 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:09:45.555548 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:09:46.069341 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:09:55.694691 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:09:56.227787 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.867s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 20:10:09.489004 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:10:09.989824 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:10:17.685213 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:10:18.186263 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:10:26.081179 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:10:26.581781 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (28.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.220s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (10.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.928s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 20:10:48.713542 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:10:49.226114 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:10:57.936865 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:10:58.477615 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:11:07.289220 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:11:07.801577 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.243s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 20:11:20.991387 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:11:21.541643 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:11:36.121815 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:11:36.717380 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:11:50.121073 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:11:50.721115 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (46.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.028s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.792s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 20:12:46.855159 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:12:47.356287 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:12:59.369426 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:12:59.872844 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:13:11.083326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:13:11.593749 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.371s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 20:13:29.063034 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:13:29.603346 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:13:39.546368 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:13:40.079667 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:13:50.624148 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:13:51.147775 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.178s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.018s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.975s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.243s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.883s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.824s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.916s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 20:16:37.611879 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:16:38.135831 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:16:46.288879 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:16:46.807563 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:16:54.953438 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:16:55.484510 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.450s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 20:17:07.950071 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:17:08.501583 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:17:18.958380 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:17:19.510027 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:17:29.565173 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:17:30.114346 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.314s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 20:17:46.014824 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:17:46.566001 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:17:58.053034 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:17:58.554363 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:18:11.183441 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:18:11.723653 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (40.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.566s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 20:18:26.931106 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:18:27.460962 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:18:36.749454 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:18:37.250041 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:18:46.632524 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:18:47.277121 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.553s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 20:18:59.629196 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:19:00.154429 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:19:09.313248 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:19:09.859102 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:19:18.497108 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:19:18.997410 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.769s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.033s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 20:19:35.756318 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:19:36.275606 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:19:45.436522 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:19:45.960283 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:19:55.055134 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:19:55.585505 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.139s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 20:20:08.942128 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:20:09.520529 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:20:24.318865 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:20:24.879339 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:20:41.060759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:20:41.607608 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.171s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.519s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 20:21:38.609461 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:21:39.109934 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:21:51.923075 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:21:52.454005 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:22:04.779978 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:22:05.281153 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.976s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 20:22:21.622379 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:22:22.197355 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:22:32.839464 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:22:33.340459 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:22:43.123733 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:22:43.625042 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.584s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.831s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (36.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.197s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (30.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.805s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (17.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	17.419s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.519s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.852s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 20:25:40.578627 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:25:41.120264 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:25:48.968971 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:25:49.497790 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:25:57.022437 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:25:57.546219 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.123s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 20:26:09.413587 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:26:09.959895 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:26:20.334580 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:26:20.865029 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:26:31.151255 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:26:31.669893 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.622s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 20:26:47.904254 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:26:48.458516 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:26:59.535478 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:27:00.036962 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:27:10.645077 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:27:11.145446 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.719s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 20:27:26.242484 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:27:26.743816 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:27:35.537750 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:27:36.742917 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:27:46.571514 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:27:47.127201 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.214s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 20:27:59.180299 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:28:00.024012 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:28:08.927647 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:28:09.514303 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:28:17.822002 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:28:18.322748 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.314s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.697s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 20:28:34.361038 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:28:34.885468 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:28:43.893492 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:28:44.435372 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:28:53.318598 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:28:53.831535 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.529s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 20:29:06.915672 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:29:07.463629 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:29:23.026583 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:29:23.730984 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:29:37.757416 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:29:38.321274 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.188s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.214s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 20:30:36.712103 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:30:37.212572 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:30:48.896610 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:30:49.397461 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:31:01.857282 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:31:02.357659 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.057s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 20:31:18.086413 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:31:18.594592 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:31:29.600408 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:31:30.268670 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:31:41.964543 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:31:43.275166 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (37.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.873s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.877s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.698s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.789s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.721s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.875s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.902s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/08 20:34:30.822223 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:34:31.341263 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:34:39.142099 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:34:39.683036 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:34:47.811263 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:34:48.335635 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.014s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/08 20:34:59.568046 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:35:00.103752 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:35:10.733317 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:35:11.273797 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:35:22.401236 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:35:22.962793 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.430s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/08 20:35:37.367876 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:35:37.868269 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:35:48.473153 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:35:48.974399 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:36:00.894093 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:36:01.449891 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.841s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/08 20:36:16.223015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:36:16.735024 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:36:26.171191 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:36:26.679934 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:36:35.479520 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:36:35.980779 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.685s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/08 20:36:48.478897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:36:48.980280 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:36:57.887295 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:36:58.396393 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:37:07.635542 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:37:08.141872 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.673s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.628s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/08 20:37:24.220054 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:37:24.757435 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:37:34.350838 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:37:34.885521 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:37:43.728568 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:37:44.253192 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.891s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/08 20:37:57.084412 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:37:57.672214 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:38:12.489279 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:38:13.058691 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:38:27.967207 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:38:28.551388 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.847s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.269s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/08 20:39:24.738276 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:39:25.331829 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:39:36.453848 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:39:36.954700 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:39:48.783892 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:39:49.285150 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.680s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/08 20:40:04.620360 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:40:05.244427 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:40:16.831531 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:40:17.392159 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/08 20:40:26.758179 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/08 20:40:27.434633 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.430s
rm -rf /tmp/*test-raftstore*
