rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- FAIL: TestOneSnapshot2C (2.96s)
panic: find no region for 6b31 [recovered]
	panic: find no region for 6b31

goroutine 39 [running]:
testing.tRunner.func1.2({0xa0b620, 0xc00009fbe0})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa0b620, 0xc00009fbe0})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).GetRegion(0xc000186f60, {0xc0000c4aa0, 0x2, 0x2})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:277 +0x13c
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x10, {0xc0000c4aa0, 0x2, 0x2}, {0xc0001c43a8, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:187 +0xde
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xc000186f60, {0xad6113, 0x4}, {0xc0000c4aa0, 0x2, 0x2}, {0xc0000c4aa2, 0x2, 0x2})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:303 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestOneSnapshot2C(0xc000181380)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:444 +0x10d
testing.tRunner(0xc000181380, 0xb0b3e0)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	2.990s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 11:00:45.045908 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:00:45.551347 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:00:54.291827 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:00:54.796179 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:01:03.775297 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:01:04.285279 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.249s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 11:01:16.074399 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:01:16.585294 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:02:10.633477 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:02:11.185054 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:02:48.571143 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:02:49.152978 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (133.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	133.249s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (44.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.602s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 11:04:17.057921 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:04:17.559244 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:04:33.014960 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:04:33.548365 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:04:50.395916 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:04:50.896602 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (53.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.605s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 11:05:12.766885 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:05:13.301765 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:05:23.936916 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:05:24.437907 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:09:33.846745 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:09:34.346999 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (57.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	58.158s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (12.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	12.093s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 11:11:33.433097 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:11:33.979356 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 11:11:43.955853 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 11:11:44.508825 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:03:16.773288 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:03:17.303292 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (36.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.723s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:03:31.765525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:03:32.336208 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:03:59.115365 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:03:59.635334 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:04:34.121279 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:04:34.631748 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (104.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	104.347s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (46.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.851s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:06:05.419325 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:06:05.920132 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:06:20.411756 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:06:20.912827 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:06:38.924219 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:06:39.424554 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.210s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:06:59.271423 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:06:59.852016 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:07:13.015622 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:07:13.572504 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:07:29.886096 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:07:30.502897 test_test.go:264: [0;33m[warning] restart servers
[0m
panic: runtime error: slice bounds out of range [:27] with capacity 15

goroutine 252 [running]:
github.com/pingcap-incubator/tinykv/raft.(*RaftLog).nextEnts(...)
	/home/bunny/go/tinyserver/tinykv/raft/log.go:120
github.com/pingcap-incubator/tinykv/raft.(*RawNode).HasReady(0x40)
	/home/bunny/go/tinyserver/tinykv/raft/rawnode.go:211 +0x1ea
github.com/pingcap-incubator/tinykv/kv/raftstore.(*peerMsgHandler).HandleRaftReady(0xc18ab85e10)
	/home/bunny/go/tinyserver/tinykv/kv/raftstore/peer_msg_handler.go:176 +0x49
github.com/pingcap-incubator/tinykv/kv/raftstore.(*raftWorker).run(0xc1fd676f60, 0xc25f3ec600, 0xc147cc27a8)
	/home/bunny/go/tinyserver/tinykv/kv/raftstore/raft_worker.go:57 +0x439
created by github.com/pingcap-incubator/tinykv/kv/raftstore.(*Raftstore).startWorkers
	/home/bunny/go/tinyserver/tinykv/kv/raftstore/raftstore.go:270 +0x185
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.595s
FAIL
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (8.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	8.430s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:07:47.631599 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:07:48.171872 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:07:58.386521 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:07:58.909986 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:08:09.693415 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:08:10.212329 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (36.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.411s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:08:24.789764 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:08:25.340677 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:08:59.621146 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:09:00.194279 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:09:35.668407 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:09:36.218680 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (110.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	110.489s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (48.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.251s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:11:06.091924 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:11:06.592592 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:11:22.367260 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:11:22.867684 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:11:37.233387 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:11:37.734003 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (49.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.148s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:11:55.594229 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:11:56.094711 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:12:05.984749 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:12:06.497346 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:12:26.566548 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:12:27.128765 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (47.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.486s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.719s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:12:48.516619 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:12:49.039718 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:12:59.384746 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:12:59.928699 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:13:10.493763 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:13:11.078245 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (36.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.205s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:13:25.430242 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:13:25.999636 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:14:00.883255 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:14:01.424077 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:14:38.436517 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:14:38.990293 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (116.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	116.732s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (48.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.544s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:16:13.160466 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:16:13.661677 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:16:27.476384 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:16:27.983505 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:16:43.855763 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:16:44.356733 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (50.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.519s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:17:04.701223 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:17:05.201811 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:17:15.416345 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:17:16.008701 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:17:30.731916 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:17:31.258562 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (40.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.399s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.273s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:17:49.635497 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:17:50.163494 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:18:00.296302 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:18:00.845970 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:18:11.141274 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:18:11.699275 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (36.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.459s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:18:26.770199 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:18:27.353758 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:19:07.616486 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:19:08.184741 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:19:45.387810 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:19:45.943712 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (120.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	120.779s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (45.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.688s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:21:15.658041 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:21:16.158579 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:21:31.055495 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:21:31.556513 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:21:47.412926 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:21:47.913641 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.432s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
panic: find no region for 30203030303030303030

goroutine 172 [running]:
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).GetRegion(0xc00007b6e0, {0xc000271340, 0xa, 0x10})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:277 +0x13c
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x7, {0xc000271340, 0xa, 0x10}, {0xc000010518, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:187 +0xde
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xad5674, {0xad88b4, 0x7}, {0xc000271340, 0xa, 0x10}, {0xc000271350, 0x7, 0x8})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:303 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPut(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:298
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest.func1(0x0, 0xc000192230)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:211 +0x31f
github.com/pingcap-incubator/tinykv/kv/test_raftstore.runClient(0xc0001ca7d0, 0x6f6baa, 0xc004334180, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:27 +0x78
created by github.com/pingcap-incubator/tinykv/kv/test_raftstore.SpawnClientsAndWait
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:37 +0x89
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.906s
FAIL
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (9.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	9.221s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:22:22.615534 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:22:23.149809 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:22:32.951401 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:22:33.496996 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:22:43.576189 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:22:44.123641 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.438s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:22:58.718020 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:22:59.257839 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:23:35.174350 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:23:35.754904 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:24:12.281445 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:24:12.820244 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (115.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	116.032s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (44.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.953s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:25:42.170353 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:25:42.671183 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:25:57.945842 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:25:58.786678 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:26:15.957314 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:26:16.536796 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (55.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	55.304s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:26:39.065105 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:26:39.631390 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:26:50.592583 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:26:51.120502 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:27:06.474015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:27:07.027780 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (42.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.716s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (9.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	9.506s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:27:30.823467 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:27:31.351618 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:27:41.421153 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:27:41.997499 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:27:52.378762 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:27:52.915176 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.849s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:28:07.443267 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:28:07.961368 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:28:42.424734 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:28:43.002733 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:29:21.455120 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:29:22.006361 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (116.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	116.792s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (44.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.484s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:30:50.973866 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:30:51.475197 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:31:06.387841 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:31:06.908897 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:31:23.708889 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:31:24.254901 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.467s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:31:45.106940 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:31:45.646413 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:31:56.354422 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:31:56.855531 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:32:10.378640 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:32:10.989148 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (41.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.371s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- FAIL: TestOneSnapshot2C (3.17s)
panic: find no region for 6b31 [recovered]
	panic: find no region for 6b31

goroutine 66 [running]:
testing.tRunner.func1.2({0xa0b620, 0xc0001b6bb0})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa0b620, 0xc0001b6bb0})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).GetRegion(0xc00007b6e0, {0xc0000251a8, 0x2, 0x2})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:277 +0x13c
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0xa30800, {0xc0000251a8, 0x2, 0x2}, {0xc0001e2108, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:187 +0xde
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xc00007b6e0, {0xad6113, 0x4}, {0xc0000251a8, 0x2, 0x2}, {0xc0000251aa, 0x2, 0x2})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:303 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestOneSnapshot2C(0xc0002f6340)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:444 +0x10d
testing.tRunner(0xc0002f6340, 0xb0b3e0)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.187s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:32:29.320724 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:32:29.877205 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:32:40.573205 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:32:41.124356 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:32:51.319053 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:32:51.873306 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (36.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.680s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:33:07.282024 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:33:07.868036 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:33:39.850205 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:33:40.447829 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:34:15.602703 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:34:16.158947 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (112.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	112.648s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (48.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.491s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:35:50.638235 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:35:51.138881 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:36:06.191474 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:36:06.692366 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:36:23.603488 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:36:24.104178 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (53.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.543s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:36:44.722075 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:36:45.235768 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:37:00.322479 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:37:00.876347 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:37:11.912233 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:37:12.487265 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (46.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.304s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.332s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:37:35.738206 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:37:36.290400 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:37:46.856453 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:37:47.385026 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:37:57.414642 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:37:57.949967 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.928s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:38:12.457842 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:38:13.019631 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:38:46.400093 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:38:46.923068 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:39:24.182121 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:39:24.791978 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (118.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	118.291s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (46.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.056s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:40:59.327303 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:40:59.847105 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:41:14.762254 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:41:15.263299 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:41:31.243978 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:41:31.745274 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.459s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:41:53.995775 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:41:54.553646 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:42:09.835435 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:42:10.443234 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:42:23.416624 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:42:24.042600 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (45.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.705s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.101s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:42:42.688775 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:42:43.244090 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:42:53.512089 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:42:54.035023 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:43:04.561998 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:43:05.118893 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.067s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:43:19.510508 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:43:20.055711 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:43:54.775087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:43:55.360138 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:44:32.189876 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:44:32.746288 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (114.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	114.876s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (45.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.453s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:46:02.192458 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:46:02.693724 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:46:18.000130 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:46:18.501377 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:46:34.979216 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:46:35.479515 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.141s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:46:56.019894 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:46:56.520870 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:47:16.012379 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:47:16.559178 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:47:26.718442 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:47:27.249330 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (45.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.317s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.468s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:47:46.595819 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:47:47.137636 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:47:56.774928 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:47:57.334919 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:48:07.026122 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:48:07.559512 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (34.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.129s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:48:22.425267 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:48:23.011491 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:48:55.110947 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:48:55.679212 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:49:30.866272 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:49:31.427619 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (108.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	108.720s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (44.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.248s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:50:57.565714 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:50:58.066842 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:51:13.300553 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:51:13.801767 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:51:32.081014 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:51:32.582477 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (53.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.487s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:51:51.781130 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:51:52.281911 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:52:05.100903 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:52:05.626306 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:52:19.407128 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:52:19.960252 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (44.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.363s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.091s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:52:40.830560 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:52:41.386555 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:52:51.326418 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:52:51.868331 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:53:02.393034 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:53:02.921250 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.265s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:53:17.201858 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:53:17.783270 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:53:52.569499 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:53:53.113925 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:54:37.022965 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:54:37.644835 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (116.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	116.642s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
panic: find no region for 30203030303030303030

goroutine 323 [running]:
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).GetRegion(0xc000186fc0, {0xc0da9ec140, 0xa, 0x10})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:277 +0x13c
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x7, {0xc0da9ec140, 0xa, 0x10}, {0xc0da9f4030, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:187 +0xde
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xad5674, {0xad88b4, 0x7}, {0xc0da9ec140, 0xa, 0x10}, {0xc0da9ec138, 0x7, 0x8})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:303 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPut(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:298
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest.func1(0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:211 +0x31f
github.com/pingcap-incubator/tinykv/kv/test_raftstore.runClient(0x0, 0x0, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:27 +0x78
created by github.com/pingcap-incubator/tinykv/kv/test_raftstore.SpawnClientsAndWait
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:37 +0x89
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.971s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 12:55:20.207822 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:55:20.708296 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:55:36.552775 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:55:37.053354 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:55:53.700749 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:55:54.201887 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.793s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 12:56:13.699825 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:56:14.224266 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:56:27.967583 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:56:28.513721 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:56:42.396651 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:56:42.927264 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (44.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.896s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- FAIL: TestOneSnapshot2C (10.08s)
panic: can't get value 76313030 for key 6b313030 [recovered]
	panic: can't get value 76313030 for key 6b313030

goroutine 57 [running]:
testing.tRunner.func1.2({0xa0b620, 0xc0e6deb1b0})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa0b620, 0xc0e6deb1b0})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCf(0xc00020c510, {0xad6113, 0x4}, {0xc0000b5e2c, 0x4, 0x4}, {0xc0000b5e34, 0x4, 0x4})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:103 +0x285
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCfEqual(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:107
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestOneSnapshot2C(0xc00028b1e0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:479 +0x685
testing.tRunner(0xc00028b1e0, 0xb0b3e0)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.118s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 12:57:09.068559 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:57:09.611018 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:57:20.677839 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:57:21.207338 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:57:31.465541 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:57:31.977958 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.913s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 12:57:45.742186 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:57:46.288994 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:58:20.194397 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:58:20.756772 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 12:58:58.488630 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 12:58:59.092791 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (113.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	113.312s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (44.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.343s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:00:25.883381 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:00:26.384599 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:00:40.340525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:00:40.840869 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:00:57.013862 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:00:57.514598 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (49.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.727s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 13:01:17.175475 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:01:17.733459 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:01:29.929708 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:01:30.488720 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:01:44.041880 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:01:44.563068 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (43.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.487s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- FAIL: TestOneSnapshot2C (11.07s)
panic: can't get value 76313030 for key 6b313030 [recovered]
	panic: can't get value 76313030 for key 6b313030

goroutine 69 [running]:
testing.tRunner.func1.2({0xa0b620, 0xc0e6d4dab0})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa0b620, 0xc0e6d4dab0})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCf(0xc0043a8000, {0xad6113, 0x4}, {0xc0000b5e2c, 0x4, 0x4}, {0xc0000b5e34, 0x4, 0x4})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:103 +0x285
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCfEqual(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:107
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestOneSnapshot2C(0xc0002036c0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:479 +0x685
testing.tRunner(0xc0002036c0, 0xb0b3e0)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	11.090s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 13:02:11.306150 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:02:11.858194 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:02:22.017595 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:02:22.540852 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:02:33.770956 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:02:34.321936 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (36.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.707s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 13:02:48.633523 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:02:49.207771 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:03:24.202909 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:03:24.792621 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:04:03.512651 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:04:04.074540 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (114.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	115.021s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (46.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.167s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:05:32.466298 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:05:32.967758 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:05:48.128704 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:05:48.629785 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:06:02.520878 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:06:03.021074 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (49.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.077s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 13:06:23.783131 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:06:24.305978 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:06:39.232041 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:06:39.809170 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:06:56.019474 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:06:56.595748 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (48.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.247s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (11.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	11.162s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 13:07:22.899390 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:07:23.443901 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:07:32.744889 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:07:33.279361 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:07:43.885068 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:07:44.437989 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.530s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 13:07:59.130515 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:07:59.694015 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:08:34.020929 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:08:34.607837 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:09:24.241132 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:09:24.803192 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (123.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	123.228s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (47.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.057s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:10:51.890273 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:10:52.390929 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:11:07.523831 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:11:08.024271 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:11:25.087032 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:11:25.587404 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (53.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.494s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 13:11:46.864772 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:11:47.395039 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:11:59.626045 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:12:00.168099 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:12:14.000990 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:12:14.587393 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (44.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.914s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- FAIL: TestOneSnapshot2C (10.50s)
panic: can't get value 76313030 for key 6b313030 [recovered]
	panic: can't get value 76313030 for key 6b313030

goroutine 28 [running]:
testing.tRunner.func1.2({0xa0b620, 0xc0e6e9e050})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa0b620, 0xc0e6e9e050})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCf(0xc000274000, {0xad6113, 0x4}, {0xc0000b5e2c, 0x4, 0x4}, {0xc0000b5e34, 0x4, 0x4})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:103 +0x285
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCfEqual(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:107
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestOneSnapshot2C(0xc0001b0d00)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:479 +0x685
testing.tRunner(0xc0001b0d00, 0xb0b3e0)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.540s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 13:12:41.887711 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:12:42.422634 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:12:52.110077 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:12:52.659261 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:13:03.283906 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:13:03.808055 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.570s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 13:13:18.207192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:13:18.777049 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:13:53.089145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:13:53.653515 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:14:30.524631 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:14:31.103887 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (113.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	113.910s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (46.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.296s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:16:01.469997 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:16:01.971240 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:16:16.778086 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:16:17.388777 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:16:32.341182 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:16:32.841978 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.191s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
panic: find no region for 30203030303030303030

goroutine 307 [running]:
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).GetRegion(0xc000284fc0, {0xc17c99c2b0, 0xa, 0x10})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:277 +0x13c
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x7, {0xc17c99c2b0, 0xa, 0x10}, {0xc17c9a0060, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:187 +0xde
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xad5674, {0xad88b4, 0x7}, {0xc17c99c2b0, 0xa, 0x10}, {0xc17c99c2a8, 0x7, 0x8})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:303 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPut(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:298
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest.func1(0x0, 0xc00011a250)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:211 +0x31f
github.com/pingcap-incubator/tinykv/kv/test_raftstore.runClient(0xc0000c1fd0, 0x6f6c6a, 0xc0002881e0, 0xc0043902b8)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:27 +0x78
created by github.com/pingcap-incubator/tinykv/kv/test_raftstore.SpawnClientsAndWait
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:37 +0x89
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.991s
FAIL
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- FAIL: TestOneSnapshot2C (10.13s)
panic: can't get value 76313030 for key 6b313030 [recovered]
	panic: can't get value 76313030 for key 6b313030

goroutine 12 [running]:
testing.tRunner.func1.2({0xa0b620, 0xc0e74c31a0})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa0b620, 0xc0e74c31a0})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCf(0xc00011b680, {0xad6113, 0x4}, {0xc000099e2c, 0x4, 0x4}, {0xc000099e34, 0x4, 0x4})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:103 +0x285
github.com/pingcap-incubator/tinykv/kv/test_raftstore.MustGetCfEqual(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/utils.go:107
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestOneSnapshot2C(0xc0000a5ba0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:479 +0x685
testing.tRunner(0xc0000a5ba0, 0xb0b3e0)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.149s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 13:17:08.264521 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:17:08.857864 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:17:18.881598 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:17:19.421733 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:17:29.821714 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:17:30.367776 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (34.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.937s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 13:17:43.966670 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:17:44.540212 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:18:19.057757 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:18:19.597739 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:18:57.361555 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:18:57.984084 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (113.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	113.979s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (44.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.920s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:20:25.417179 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:20:25.918693 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:20:40.138562 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:20:40.640149 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:20:56.590849 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:20:57.091159 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (51.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	51.934s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 13:21:17.975346 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:21:18.493067 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:21:30.602336 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:21:31.127767 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:21:42.700833 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:21:43.225864 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (40.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.630s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.320s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 13:22:03.429440 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:22:03.976078 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:22:13.881066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:22:14.418411 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:22:24.652637 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:22:25.199911 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.445s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 13:22:39.603327 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:22:40.255572 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:23:12.498087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:23:13.125346 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:23:51.046957 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:23:51.623203 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (114.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	114.555s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
panic: find no region for 30203030303030303030

goroutine 302 [running]:
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).GetRegion(0xc00007b620, {0xc0042e0300, 0xa, 0x10})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:277 +0x13c
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x7, {0xc0042e0300, 0xa, 0x10}, {0xc147cfa078, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:187 +0xde
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xad5674, {0xad88b4, 0x7}, {0xc0042e0300, 0xa, 0x10}, {0xc0042e02f8, 0x7, 0x8})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:303 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPut(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:298
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest.func1(0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:211 +0x31f
github.com/pingcap-incubator/tinykv/kv/test_raftstore.runClient(0x0, 0x0, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:27 +0x78
created by github.com/pingcap-incubator/tinykv/kv/test_raftstore.SpawnClientsAndWait
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:37 +0x89
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.983s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:24:40.665972 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:24:41.167179 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:24:56.409663 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:24:56.910339 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:25:14.046657 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:25:14.548044 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (53.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.777s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 13:25:36.062673 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:25:36.618195 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:25:50.491512 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:25:51.024391 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:26:06.991345 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:26:07.592052 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (46.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.024s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.765s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 13:26:27.194519 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:26:27.833512 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:26:37.835965 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:26:38.360579 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:26:49.135101 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:26:49.652369 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (36.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.489s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 13:27:04.434579 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:27:04.963387 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:27:38.160788 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:27:38.753239 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:28:15.161788 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:28:15.702902 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (110.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	110.966s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
panic: find no region for 30203030303030303030

goroutine 72 [running]:
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).GetRegion(0xc000181020, {0xc004344260, 0xa, 0x10})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:277 +0x13c
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).Request(0x7, {0xc004344260, 0xa, 0x10}, {0xc000010270, 0x1, 0x1}, 0x12a05f200)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:187 +0xde
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPutCF(0xad5674, {0xad88b4, 0x7}, {0xc004344260, 0xa, 0x10}, {0xc004344270, 0x7, 0x8})
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:303 +0x19a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).MustPut(...)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:298
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest.func1(0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:211 +0x31f
github.com/pingcap-incubator/tinykv/kv/test_raftstore.runClient(0x0, 0x0, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:27 +0x78
created by github.com/pingcap-incubator/tinykv/kv/test_raftstore.SpawnClientsAndWait
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:37 +0x89
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.011s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:29:01.660669 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:29:02.161994 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:29:16.519376 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:29:17.020233 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:29:33.304157 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:29:33.804869 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (50.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.621s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 13:29:52.986645 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:29:53.505740 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:30:09.823894 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:30:10.352259 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:30:26.224499 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:30:26.764731 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (51.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.051s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (7.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.373s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/07/17 13:30:52.976805 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:30:53.501866 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:31:03.904065 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:31:04.435729 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:31:14.829448 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:31:15.354502 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (34.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.090s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/07/17 13:31:28.714050 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:31:29.272939 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:32:05.121157 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:32:05.710189 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:32:42.481344 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:32:43.064896 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (112.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	113.093s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (44.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.026s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/07/17 13:34:09.381879 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:34:09.882523 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:34:24.547203 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:34:25.059083 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:34:41.524983 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:34:42.025542 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (52.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.805s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/07/17 13:35:02.854247 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:35:03.412674 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:35:19.465433 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:35:20.017216 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/07/17 13:35:30.591972 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/07/17 13:35:31.100700 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (45.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.589s
rm -rf /tmp/*test-raftstore*