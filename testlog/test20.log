GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.187s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.466s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.351s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.745s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.159s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.703s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 04:34:22.819887 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:34:23.352828 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:34:31.245822 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:34:31.763341 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:34:39.925663 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:34:40.449865 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.329s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 04:34:53.727654 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:34:54.268617 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:35:05.533357 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:35:06.052569 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:35:14.929045 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:35:15.476988 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.552s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 04:35:32.153029 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:35:32.653722 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:35:43.809817 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:35:44.310300 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:35:54.535373 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:35:55.035770 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.583s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 04:36:09.144660 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:36:09.863131 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:36:18.897383 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:36:19.404376 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:36:28.001758 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:36:28.501990 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.597s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 04:36:41.146504 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:36:41.943841 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:36:50.753917 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:36:51.260526 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:37:01.171249 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:37:01.877615 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.340s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.969s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 04:37:17.450214 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:37:17.962892 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:37:26.534796 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:37:27.063631 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:37:35.470593 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:37:35.990044 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.166s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 04:37:48.517354 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:37:49.094361 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:38:03.534170 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:38:04.088448 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:38:19.118422 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:38:19.676589 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.293s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.529s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 04:39:16.500598 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:39:17.115085 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:39:28.662196 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:39:29.162636 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:39:40.525801 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:39:41.026239 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.967s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 04:39:56.363301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:39:56.876592 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:40:06.752548 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:40:07.252913 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:40:16.512439 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:40:17.018486 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.922s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.432s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.632s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.948s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.731s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.158s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.312s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 04:43:03.445705 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:43:03.975270 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:43:11.751774 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:43:12.281419 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:43:20.304537 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:43:20.829296 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.727s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 04:43:32.726761 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:43:33.268276 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:43:43.812109 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:43:44.360999 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:43:54.802866 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:43:55.377644 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.356s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 04:44:10.983722 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:44:11.484838 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:44:22.257028 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:44:22.757926 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:44:34.492419 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:44:34.993527 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.967s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 04:44:49.459541 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:44:49.960612 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:44:59.093676 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:44:59.596110 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:45:09.220178 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:45:09.764419 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.580s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 04:45:21.980960 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:45:22.526857 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:45:31.109217 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:45:31.610160 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:45:40.327440 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:45:40.881257 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.588s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.807s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 04:45:57.435284 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:45:57.947512 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:46:06.953465 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:46:07.488688 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:46:16.262430 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:46:16.804073 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.298s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 04:46:29.742544 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:46:30.323565 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:46:44.835994 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:46:45.465740 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:47:00.509614 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:47:01.050985 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.505s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.047s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 04:47:56.414105 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:47:56.914502 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:48:09.280490 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:48:09.781309 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:48:22.776449 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:48:23.291927 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.016s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 04:48:40.379511 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:48:40.892604 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:48:51.508917 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:48:52.009442 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:49:02.057746 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:49:02.558184 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.945s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.266s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (37.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.278s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (36.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.281s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.158s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.016s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.921s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 04:51:53.995215 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:51:54.515218 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:52:02.211050 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:52:02.735898 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:52:10.341458 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:52:10.869466 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.496s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 04:52:23.239422 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:52:23.792102 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:52:34.601573 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:52:35.167610 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:52:45.728143 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:52:46.268479 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.978s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 04:53:01.010628 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:53:01.588046 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:53:12.452945 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:53:12.953303 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:53:24.619504 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:53:25.121831 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.165s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 04:53:39.922218 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:53:40.423303 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:53:48.628348 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:53:49.128860 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:53:58.046230 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:53:58.840185 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.562s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 04:54:11.036217 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:54:11.549896 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:54:20.767027 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:54:21.291462 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:54:30.182405 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:54:30.711489 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.462s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.675s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 04:54:46.574273 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:54:47.115226 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:54:56.299465 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:54:56.829131 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:55:06.435572 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:55:06.954597 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.880s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 04:55:19.423482 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:55:20.047316 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:55:35.168961 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:55:35.778338 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:55:50.203436 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:55:50.801665 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.662s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.273s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 04:56:47.610667 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:56:48.111587 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:56:59.929269 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:57:00.429696 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:57:13.358997 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:57:13.878059 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (42.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.533s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 04:57:30.936962 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:57:31.951895 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:57:43.537445 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:57:44.231450 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 04:57:52.376085 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 04:57:53.309869 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.726s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.309s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.302s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.021s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.765s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.556s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.488s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 05:00:36.876551 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:00:37.396397 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:00:45.652455 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:00:46.165698 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:00:54.013494 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:00:54.542980 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.711s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 05:01:06.310744 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:01:06.856443 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:01:17.779614 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:01:18.309808 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:01:28.868759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:01:29.407836 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.138s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 05:01:45.247468 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:01:45.782865 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:01:56.771334 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:01:57.271596 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:02:08.679070 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:02:09.224994 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (39.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.367s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 05:02:24.044428 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:02:24.545085 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:02:33.812341 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:02:34.496385 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:02:43.112180 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:02:43.614432 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.583s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 05:02:57.072556 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:02:57.628628 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:03:07.770468 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:03:08.535814 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:03:19.043799 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:03:19.589858 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (35.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.505s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.096s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 05:03:38.464214 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:03:39.010732 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:03:47.393283 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:03:47.916224 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:03:56.794804 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:03:57.308040 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.701s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 05:04:10.170997 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:04:10.722929 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:04:24.946824 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:04:25.616151 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:04:39.682964 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:04:40.257936 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (51.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	51.337s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.222s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 05:05:41.167409 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:05:41.672626 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:05:55.593025 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:05:56.117778 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:06:07.667632 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:06:08.168951 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.800s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 05:06:23.586408 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:06:24.087667 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:06:34.394485 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:06:34.923788 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:06:45.591992 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:06:46.128029 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.943s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.306s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.639s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.667s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.676s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.666s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.154s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 05:09:38.270083 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:09:38.783153 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:09:47.312067 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:09:47.859949 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:09:55.702149 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:09:56.220638 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.242s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 05:10:08.204624 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:10:08.760227 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:10:19.054549 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:10:19.590359 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:10:30.039904 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:10:30.569232 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.403s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 05:10:46.393539 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:10:46.895061 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:10:58.689747 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:10:59.241880 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:11:10.231167 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:11:10.732574 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.274s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 05:11:25.390103 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:11:25.896084 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:11:34.664659 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:11:35.204581 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:11:45.057842 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:11:45.586188 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.108s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 05:11:58.166565 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:11:58.733283 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:12:08.262310 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:12:08.775256 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:12:18.705954 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:12:19.263898 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.673s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.167s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 05:12:35.333060 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:12:35.857227 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:12:45.039934 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:12:45.576940 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:12:54.537597 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:12:55.050397 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.260s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 05:13:07.585743 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:13:08.133335 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:13:22.310723 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:13:22.863405 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:13:41.531927 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:13:42.109589 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (54.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	54.489s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.455s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 05:14:42.789753 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:14:43.290964 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:14:54.972976 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:14:55.474399 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:15:06.326860 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:15:06.827296 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.231s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 05:15:22.679869 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:15:23.193485 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:15:33.517048 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:15:34.066946 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:15:42.775954 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:15:43.284155 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.127s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.632s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.919s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.866s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.823s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.156s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.384s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 05:18:31.444935 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:18:31.975942 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:18:40.401191 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:18:40.920960 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:18:48.570480 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:18:49.083197 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.852s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 05:19:00.995081 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:19:01.518548 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:19:11.721714 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:19:12.251655 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:19:22.902067 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:19:23.450843 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.993s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 05:19:38.673677 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:19:39.174303 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:19:49.646545 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:19:50.147996 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:20:01.277900 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:20:01.778727 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.292s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 05:20:16.982031 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:20:17.483158 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:20:25.419272 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:20:25.920420 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:20:35.250913 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:20:35.754260 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.564s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 05:20:49.225595 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:20:49.744396 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:20:57.914008 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:20:58.947168 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:21:06.809430 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:21:07.309804 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (29.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.843s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (10.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.087s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 05:21:29.325291 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:21:29.884063 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:21:39.171019 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:21:39.696028 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:21:48.226671 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:21:48.767422 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.392s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 05:22:02.436975 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:22:02.967808 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:22:17.458026 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:22:18.035097 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:22:34.780011 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:22:35.461657 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.189s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.913s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 05:23:31.201742 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:23:31.702249 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:23:44.243274 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:23:44.743688 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:23:56.895967 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:23:57.396463 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.846s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 05:24:13.488709 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:24:13.989701 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:24:22.879144 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:24:23.393471 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:24:32.955532 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:24:33.468459 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.927s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.803s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.330s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.730s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.736s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.800s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.972s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 05:27:19.701150 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:27:20.218778 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:27:28.082902 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:27:28.601881 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:27:36.453876 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:27:36.989760 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.262s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 05:27:48.702786 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:27:49.231752 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:27:59.747710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:28:00.295340 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:28:11.164757 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:28:11.712248 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.389s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 05:28:26.758567 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:28:27.271953 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:28:39.450678 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:28:39.968970 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:28:51.007509 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:28:51.554099 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (40.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.654s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 05:29:08.549504 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:29:09.050023 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:29:19.120464 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:29:19.621235 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:29:28.694117 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:29:29.194523 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.763s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 05:29:42.238849 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:29:42.768832 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:29:50.182366 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:29:51.269206 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:29:59.746049 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:30:00.297857 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.690s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.536s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 05:30:16.313940 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:30:16.833275 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:30:25.885943 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:30:26.398801 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:30:35.336111 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:30:35.874874 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.316s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 05:30:48.592572 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:30:49.147917 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:31:03.739387 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:31:04.287039 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:31:19.071929 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:31:19.647877 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.898s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.437s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 05:32:17.198712 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:32:17.700197 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:32:29.473741 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:32:29.975083 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:32:42.095128 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:32:42.599203 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.794s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 05:32:57.629988 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:32:58.136444 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:33:07.472642 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:33:07.984276 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:33:18.422781 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:33:18.940450 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.549s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.255s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.667s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.288s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.706s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.513s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.841s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 05:36:03.278607 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:36:03.797029 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:36:11.656092 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:36:12.168603 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:36:20.257465 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:36:20.786592 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.263s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 05:36:33.192863 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:36:33.733402 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:36:44.113948 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:36:44.681956 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:36:56.959193 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:36:57.493837 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (41.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.267s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 05:37:15.747505 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:37:16.254678 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:37:29.131743 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:37:29.660622 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:37:38.267413 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:37:38.767768 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.617s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 05:37:53.504940 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:37:54.006328 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:38:03.609413 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:38:04.109847 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:38:13.221202 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:38:13.722402 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.910s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 05:38:26.808739 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:38:27.564541 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:38:36.782659 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:38:37.283764 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:38:45.828015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:38:46.575024 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.341s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.591s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 05:39:01.643864 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:39:02.156543 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:39:10.610258 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:39:11.134737 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:39:19.971486 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:39:20.516606 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.843s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 05:39:33.448218 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:39:34.043711 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:39:48.976124 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:39:49.589277 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:40:04.094940 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:40:04.676844 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.670s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.840s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 05:41:02.146950 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:41:02.648485 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:41:15.161511 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:41:15.665907 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:41:28.307560 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:41:28.808004 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.769s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 05:41:44.247624 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:41:45.038410 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:41:55.306032 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:41:55.840618 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:42:05.884578 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:42:06.515153 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.100s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.620s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.386s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.284s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.576s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.112s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.483s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 05:44:53.028984 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:44:53.542348 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:45:01.411374 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:45:01.935205 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:45:10.048529 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:45:10.582838 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.742s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 05:45:22.380469 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:45:22.940818 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:45:33.547565 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:45:34.084416 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:45:45.336739 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:45:45.882862 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.913s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 05:46:02.166025 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:46:02.667155 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:46:13.984831 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:46:14.485505 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:46:25.886325 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:46:26.386850 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.246s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 05:46:40.716731 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:46:41.235207 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:46:50.574843 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:46:51.075168 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:46:58.805241 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:46:59.306102 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (29.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.456s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 05:47:11.326864 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:47:11.972594 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:47:21.644982 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:47:22.208605 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:47:31.755525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:47:32.295241 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.086s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.850s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 05:47:48.494632 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:47:49.007748 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:47:58.433670 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:47:58.958417 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:48:08.255779 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:48:08.779953 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.063s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 05:48:21.493330 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:48:22.076891 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:48:36.473010 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:48:37.160592 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:48:52.295974 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:48:52.889073 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.430s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 05:49:50.119314 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:49:50.620546 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:50:02.972988 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:50:03.473786 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:50:15.990956 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:50:16.492521 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.293s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 05:50:31.756830 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:50:32.386719 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:50:42.407229 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:50:42.959678 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:50:51.589446 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:50:52.103019 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.660s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.936s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (38.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.915s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.409s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (11.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	11.814s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.337s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.011s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 05:53:50.969303 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:53:51.488613 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:53:59.475393 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:54:00.001595 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:54:07.940040 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:54:08.453292 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.297s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 05:54:19.967907 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:54:20.511447 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:54:30.895865 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:54:31.429963 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:54:42.659840 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:54:43.190963 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.669s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 05:54:58.306053 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:54:58.806897 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:55:09.555570 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:55:10.056880 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:55:20.236605 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:55:20.737699 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.131s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 05:55:35.336922 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:55:35.838000 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:55:44.636723 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:55:45.416612 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:55:55.307152 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:55:56.295405 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (33.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.200s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 05:56:09.403083 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:56:09.942029 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:56:18.813023 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:56:19.370731 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:56:28.047179 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:56:28.547508 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.457s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.610s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 05:56:44.615378 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:56:45.161742 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:56:54.419329 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:56:54.950224 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:57:03.908499 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:57:04.427126 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.602s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 05:57:17.102767 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:57:17.695749 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:57:32.033609 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:57:32.618222 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:57:46.972197 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:57:47.537865 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.482s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.628s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 05:58:46.768476 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:58:47.269041 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:58:59.643576 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:59:00.144546 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:59:12.113005 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:59:12.940583 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (42.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.642s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 05:59:30.093823 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:59:30.902608 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:59:40.604928 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:59:41.105344 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 05:59:53.136231 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 05:59:53.780463 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (39.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.304s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.668s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.272s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.074s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.726s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.482s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.724s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 06:02:43.867884 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:02:44.386834 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:02:52.105281 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:02:52.624449 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:03:00.676817 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:03:01.205610 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.344s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 06:03:12.935677 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:03:13.489848 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:03:23.467394 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:03:24.027482 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:03:34.411551 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:03:34.945664 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.624s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 06:03:51.118054 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:03:51.668571 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:04:01.827928 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:04:02.334955 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:04:12.879843 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:04:13.380205 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.767s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 06:04:28.940131 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:04:29.441639 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:04:38.606326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:04:39.110050 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:04:46.787134 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:04:47.288127 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.440s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 06:05:00.634657 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:05:01.241040 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:05:09.945575 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:05:10.504500 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:05:18.140027 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:05:18.833360 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.055s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (17.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	17.361s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 06:05:50.672639 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:05:51.185769 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:06:00.297708 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:06:00.821806 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:06:09.494770 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:06:10.013776 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.186s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 06:06:22.815175 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:06:23.377644 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:06:37.632659 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:06:38.239376 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:06:54.046563 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:06:54.593380 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (51.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	51.269s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.438s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 06:07:52.880770 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:07:53.381538 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:08:05.974541 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:08:06.475529 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:08:19.001611 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:08:19.546038 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.447s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 06:08:35.475795 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:08:36.016567 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:08:45.736726 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:08:46.290389 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:08:55.993914 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:08:56.614863 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.097s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.903s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.328s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (35.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.403s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.727s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.443s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.782s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 06:11:45.438337 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:11:45.957589 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:11:53.973565 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:11:54.486519 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:12:02.469729 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:12:03.005889 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.560s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 06:12:14.705963 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:12:15.256380 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:12:25.540974 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:12:26.076581 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:12:36.463367 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:12:36.992904 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.504s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 06:12:53.758186 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:12:54.259525 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:13:05.368386 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:13:05.875022 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:13:16.872489 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:13:17.373873 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.119s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 06:13:32.654174 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:13:33.164938 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:13:42.933072 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:13:43.518282 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:13:52.569833 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:13:53.071090 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.017s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 06:14:05.560127 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:14:06.061786 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:14:14.532170 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:14:15.070553 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:14:23.782609 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:14:24.325928 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.352s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.193s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 06:14:42.556665 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:14:43.107681 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:14:51.860918 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:14:52.379682 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:15:01.617733 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:15:02.136491 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.739s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 06:15:16.761017 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:15:17.308028 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:15:30.790930 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:15:31.370504 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:15:46.986496 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:15:47.606716 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.034s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.706s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 06:16:44.078841 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:16:44.579706 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:16:56.855455 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:16:57.356063 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:17:09.663891 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:17:10.171773 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.534s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 06:17:25.573447 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:17:26.075052 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:17:35.582441 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:17:36.092328 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:17:45.871823 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:17:46.373196 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.276s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.014s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.544s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.178s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (12.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	12.928s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.034s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.126s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 06:20:41.281556 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:20:41.799999 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:20:49.592270 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:20:50.104935 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:20:58.528947 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:20:59.069889 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.772s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 06:21:10.649815 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:21:11.213314 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:21:20.979989 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:21:21.536592 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:21:32.448630 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:21:32.999059 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.660s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 06:21:48.004581 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:21:48.505177 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:21:59.617728 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:22:00.154047 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:22:11.896537 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:22:12.437882 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (41.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.824s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 06:22:30.817664 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:22:31.328089 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:22:39.704589 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:22:40.444050 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:22:49.623721 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:22:50.124964 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.612s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 06:23:03.777731 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:23:04.367031 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:23:12.057115 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:23:12.569888 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:23:21.976626 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:23:22.517882 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.244s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.471s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 06:23:38.989509 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:23:39.506902 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:23:48.265995 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:23:48.795659 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:23:57.645320 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:23:58.169941 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.664s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 06:24:10.618695 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:24:11.211510 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:24:26.370579 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:24:26.993371 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:24:41.681783 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:24:42.261277 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.804s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.033s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 06:25:38.640581 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:25:39.142102 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:25:50.750027 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:25:51.253445 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:26:02.371994 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:26:02.872903 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.036s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 06:26:18.642077 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:26:19.241092 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:26:28.683438 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:26:29.228987 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:26:39.125203 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:26:39.675472 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.997s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.738s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.732s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.813s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (11.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	11.239s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.934s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (25.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.022s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 06:29:30.785412 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:29:31.314951 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:29:39.399890 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:29:39.912459 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:29:49.485853 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:29:50.010064 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (30.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.194s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 06:30:02.195928 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:30:02.731267 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:30:12.799444 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:30:13.352068 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:30:22.126553 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:30:22.678485 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (34.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.165s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 06:30:38.065780 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:30:38.639458 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:30:50.275577 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:30:50.833550 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:31:01.673009 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:31:02.173403 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.70s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.797s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 06:31:16.942462 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:31:17.746073 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:31:26.822492 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:31:27.323306 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:31:35.447803 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:31:35.949157 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.366s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 06:31:49.304478 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:31:49.839695 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:31:58.826190 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:31:59.544087 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:32:09.332219 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:32:10.235996 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (33.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.220s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.592s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 06:32:27.290058 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:32:27.803709 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:32:36.848965 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:32:37.367130 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:32:46.397107 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:32:46.916231 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.708s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 06:32:59.985679 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:33:00.565296 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:33:14.978079 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:33:15.554998 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:33:30.283028 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:33:30.904993 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.728s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.247s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 06:34:30.306699 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:34:30.808036 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:34:43.111460 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:34:43.657904 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:34:56.023766 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:34:56.524136 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.736s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 06:35:11.869091 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:35:12.490162 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:35:22.575201 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:35:23.076591 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:35:32.138925 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:35:32.643936 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.643s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.178s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.128s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (38.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.957s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (6.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.612s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (26.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.096s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.675s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 06:38:25.709232 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:38:26.229023 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:38:33.706982 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:38:34.225262 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:38:42.240944 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:38:42.780404 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.223s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 06:38:54.692153 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:38:55.245884 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:39:06.301884 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:39:06.853719 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:39:17.309179 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:39:17.849472 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.138s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 06:39:33.887619 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:39:34.389024 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:39:45.150923 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:39:45.652456 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:39:56.933685 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:39:57.576737 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.480s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 06:40:11.674399 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:40:12.198902 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:40:21.105036 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:40:21.641103 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:40:31.525748 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:40:32.117886 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.572s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 06:40:44.816337 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:40:45.429527 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:40:54.367627 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:40:54.934947 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:41:03.326383 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:41:03.827556 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.201s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
    test_test.go:457: unexpected truncated state index:7 term:9 
--- FAIL: TestOneSnapshot2C (2.55s)
FAIL
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	2.568s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 06:41:19.097704 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:41:19.633108 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:41:28.569250 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:41:29.081779 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:41:37.339361 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:41:37.874101 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.558s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 06:41:50.667372 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:41:51.225713 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:42:05.214783 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:42:05.801041 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:42:21.193345 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:42:21.770191 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.016s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.296s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 06:43:19.305707 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:43:19.818160 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:43:32.086708 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:43:32.591606 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:43:44.248551 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:43:44.749704 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.303s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 06:44:00.339762 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:44:01.013322 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:44:10.746541 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:44:11.246845 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:44:22.097862 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:44:22.622310 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.424s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (26.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.727s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.305s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (36.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.787s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.822s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.570s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.073s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 06:47:18.045440 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:47:18.564251 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:47:26.804408 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:47:27.316952 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:47:35.221326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:47:35.743187 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.646s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 06:47:47.444872 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:47:48.019234 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:47:58.861115 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:47:59.418248 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:48:09.886905 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:48:10.426100 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.876s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 06:48:26.220460 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:48:26.725606 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:48:37.895230 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:48:38.396200 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:48:49.542510 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:48:50.043494 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.177s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 06:49:05.001719 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:49:05.965958 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:49:14.307175 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:49:14.808414 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:49:23.494482 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:49:24.036031 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.946s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 06:49:36.305188 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:49:36.805688 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:49:44.583375 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:49:45.582403 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:49:54.901317 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:49:55.419823 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.840s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.005s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 06:50:14.787096 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:50:15.306617 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:50:24.434331 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:50:24.953296 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:50:34.536784 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:50:35.048922 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.088s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 06:50:47.837474 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:50:48.432815 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:51:02.579776 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:51:03.254211 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:51:17.697346 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:51:18.232444 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (47.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.934s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.810s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 06:52:15.764797 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:52:16.401440 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:52:29.486701 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:52:29.987680 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:52:41.352155 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:52:41.853440 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.260s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 06:52:58.889210 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:52:59.485856 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:53:11.641708 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:53:12.231048 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:53:22.714938 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:53:23.315654 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (38.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.242s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.717s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.883s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.674s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.619s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.110s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.311s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 06:56:10.135059 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:56:10.665665 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:56:18.662516 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:56:19.197218 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:56:27.234221 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:56:27.752933 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.729s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 06:56:39.653862 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:56:40.199273 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:56:51.080281 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:56:51.624588 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:57:01.781526 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:57:02.305792 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.406s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 06:57:17.655905 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:57:18.157225 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:57:28.627135 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:57:29.128583 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:57:40.281093 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:57:40.782386 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.800s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 06:57:55.185612 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:57:55.732585 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:58:04.614961 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:58:05.115304 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:58:14.302192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:58:14.803559 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.577s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 06:58:26.588931 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:58:27.131452 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:58:35.307705 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:58:36.203670 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:58:46.385656 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:58:46.922343 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.939s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.182s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 06:59:03.993013 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:59:04.523663 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:59:13.007877 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:59:13.519910 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:59:22.211195 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:59:22.733856 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.296s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 06:59:35.171618 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:59:35.718658 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 06:59:50.241364 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 06:59:50.958433 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:00:08.408842 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:00:09.350549 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (53.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.972s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.984s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 07:01:07.301245 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:01:07.802996 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:01:17.989192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:01:18.490588 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:01:30.506137 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:01:31.007194 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.491s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 07:01:46.507582 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:01:47.009130 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:01:57.626735 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:01:58.146322 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:02:07.687373 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:02:08.194434 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.817s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.203s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.244s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.450s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.744s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.524s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.501s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 07:04:51.803482 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:04:52.327634 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:05:00.261674 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:05:00.774246 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:05:09.060853 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:05:09.573460 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.762s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 07:05:22.311621 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:05:22.846413 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:05:33.140493 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:05:33.675815 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:05:44.881301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:05:45.415598 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.976s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 07:06:01.206670 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:06:01.707523 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:06:12.858510 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:06:13.359629 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:06:25.212603 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:06:25.713874 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.991s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 07:06:40.407287 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:06:40.907885 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:06:50.262911 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:06:50.775574 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:06:59.148209 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:06:59.816033 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.176s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 07:07:12.784684 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:07:13.435801 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:07:22.053941 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:07:22.884460 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:07:32.144794 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:07:32.846767 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.920s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.961s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 07:07:51.025195 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:07:51.544506 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:07:59.633107 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:08:00.157163 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:08:09.306021 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:08:09.852527 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.714s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 07:08:22.880584 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:08:23.454586 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:08:37.716145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:08:38.297783 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:08:54.334192 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:08:54.911063 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (52.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	52.399s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.523s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 07:09:57.253000 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:09:57.754546 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:10:10.089398 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:10:10.613347 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:10:22.693969 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:10:23.194513 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.390s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 07:10:39.767166 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:10:40.583491 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:10:49.776753 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:10:50.281925 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:11:00.283302 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:11:00.808151 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.998s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.010s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.151s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.051s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.466s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (9.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	9.615s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.540s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.471s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 07:13:51.267078 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:13:51.803023 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:13:59.789595 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:14:00.303145 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:14:08.058266 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:14:08.571646 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.871s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 07:14:19.800088 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:14:20.351977 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:14:30.731626 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:14:31.300990 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:14:41.720801 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:14:42.260139 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.085s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 07:14:57.764655 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:14:58.266129 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:15:08.664608 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:15:09.165007 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:15:19.432922 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:15:19.933451 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.354s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 07:15:34.805745 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:15:35.314885 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:15:44.259582 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:15:44.805861 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:15:54.286508 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:15:54.787699 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.532s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
panic: runtime error: slice bounds out of range [5:3]

goroutine 275 [running]:
github.com/pingcap-incubator/tinykv/raft.(*RaftLog).nextEnts(...)
	/home/bunny/go/tinyserver/tinykv/raft/log.go:124
github.com/pingcap-incubator/tinykv/raft.(*RawNode).HasReady(0x0)
	/home/bunny/go/tinyserver/tinykv/raft/rawnode.go:214 +0x1fb
github.com/pingcap-incubator/tinykv/kv/raftstore.(*peerMsgHandler).HandleRaftReady(0xc000125e10)
	/home/bunny/go/tinyserver/tinykv/kv/raftstore/peer_msg_handler.go:524 +0x49
github.com/pingcap-incubator/tinykv/kv/raftstore.(*raftWorker).run(0xc0001b9c00, 0xc0001a0d80, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/raftstore/raft_worker.go:56 +0x439
created by github.com/pingcap-incubator/tinykv/kv/raftstore.(*Raftstore).startWorkers
	/home/bunny/go/tinyserver/tinykv/kv/raftstore/raftstore.go:270 +0x185
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.350s
FAIL
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.833s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 07:16:16.364063 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:16:16.887499 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:16:25.412746 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:16:25.974954 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:16:39.280050 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:16:39.827809 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (35.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.552s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 07:16:53.445996 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:16:54.017433 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:17:08.133745 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:17:08.707160 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:17:23.431960 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:17:23.979388 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.600s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.005s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 07:18:20.888186 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:18:21.407005 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:18:34.128479 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:18:34.628908 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:18:45.932377 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:18:46.433859 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.762s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 07:19:02.204877 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:19:02.713578 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:19:13.950366 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:19:14.451630 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:19:25.349140 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:19:25.900016 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.04s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.169s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.565s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.937s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (36.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.530s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.812s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.952s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.368s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 07:22:13.330939 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:22:13.859136 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:22:21.698035 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:22:22.245018 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:22:30.330124 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:22:30.865783 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.588s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 07:22:42.677870 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:22:43.236287 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:22:53.901370 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:22:54.444943 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:23:04.825797 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:23:05.393469 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.807s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 07:23:20.902913 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:23:21.404371 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:23:31.862323 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:23:32.370406 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:23:43.692197 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:23:44.192792 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.464s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 07:24:00.523820 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:24:01.025187 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:24:14.011612 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:24:14.617902 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:24:24.285370 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:24:24.910707 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (37.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.974s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 07:24:39.858480 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:24:40.387868 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:24:48.654550 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:24:49.155334 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:24:57.039683 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:24:57.586032 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (29.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.433s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (30.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.890s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 07:25:39.780652 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:25:40.293206 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:25:48.354355 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:25:48.865895 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:25:57.808057 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:25:58.317335 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (29.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.740s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 07:26:09.896490 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:26:10.441539 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:26:24.462524 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:26:24.978261 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:26:39.133458 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:26:39.822995 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (59.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	59.492s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.277s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 07:27:48.674106 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:27:49.214088 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:28:01.147406 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:28:01.648121 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:28:13.496762 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:28:13.997155 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.433s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 07:28:29.466371 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:28:29.966991 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:28:39.449301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:28:39.985755 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:28:50.958937 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:28:51.570860 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.112s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.889s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.766s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.653s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.743s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.580s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.596s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 07:31:41.838133 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:31:42.351183 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:31:50.457736 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:31:50.971117 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:31:58.805665 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:31:59.329725 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.319s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 07:32:10.879276 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:32:11.437778 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:32:21.861220 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:32:22.395686 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:32:32.954157 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:32:33.495819 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.414s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 07:32:48.725756 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:32:49.227115 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:33:00.503104 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:33:01.004170 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:33:11.876476 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:33:12.379323 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.223s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 07:33:27.721326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:33:28.267285 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:33:38.011334 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:33:38.511918 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:33:47.533094 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:33:48.033663 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (33.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.540s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 07:34:01.414227 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:34:01.915860 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:34:11.219066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:34:11.928100 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:34:21.882480 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:34:22.421966 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (33.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.731s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.047s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 07:34:39.554092 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:34:40.083876 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:34:49.543901 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:34:50.062536 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:34:58.817753 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:34:59.345913 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.509s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 07:35:12.135050 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:35:12.705049 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:35:28.370298 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:35:29.120712 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:35:43.405044 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:35:43.936622 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.572s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.635s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 07:36:41.209514 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:36:41.710896 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:36:53.283007 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:36:53.783907 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:37:05.843493 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:37:06.344749 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.616s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 07:37:22.214183 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:37:22.722101 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:37:32.052725 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:37:32.668121 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:37:44.531607 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:37:45.068346 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.768s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.778s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.352s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (32.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.818s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.842s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.452s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.214s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 07:40:27.607589 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:40:28.119835 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:40:35.886169 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:40:36.411310 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:40:44.314697 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:40:44.833673 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.923s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 07:40:56.251630 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:40:56.802691 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:41:07.278447 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:41:07.832616 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:41:18.748658 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:41:19.294404 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.978s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 07:41:36.423761 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:41:36.924162 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:41:45.727021 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:41:46.262781 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:41:55.718756 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:41:56.234204 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.530s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 07:42:15.452023 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:42:15.952739 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:42:24.899292 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:42:25.400592 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:42:34.319914 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:42:34.820459 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.933s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 07:42:49.026342 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:42:49.527558 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:42:58.930246 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:42:59.470274 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:43:07.783574 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:43:08.299004 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.901s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (35.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.687s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 07:43:56.757093 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:43:57.291150 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:44:06.475628 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:44:07.000117 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:44:15.923095 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:44:16.469871 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.178s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 07:44:28.807958 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:44:29.339740 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:44:43.323023 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:44:44.025089 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:44:56.533668 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:44:57.058309 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (45.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.175s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (34.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.349s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 07:45:50.228790 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:45:50.729830 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:46:02.263231 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:46:02.764477 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:46:13.915130 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:46:14.416280 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (37.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.449s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 07:46:28.197477 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:46:28.698331 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:46:41.185407 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:46:41.686904 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:46:52.019936 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:46:52.545165 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.125s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.468s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.549s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.357s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.806s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.251s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (26.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.724s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 07:49:35.879437 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:49:36.398423 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:49:44.201373 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:49:44.720541 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:49:52.903775 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:49:53.439811 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.684s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 07:50:05.309747 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:50:05.874541 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:50:16.861366 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:50:17.405934 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:50:27.525605 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:50:28.076227 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.150s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 07:50:43.100366 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:50:43.601849 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:50:54.202838 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:50:54.743816 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:51:05.551759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:51:06.058711 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.600s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 07:51:21.249897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:51:22.125522 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:51:30.839525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:51:31.353339 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:51:40.407074 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:51:40.908352 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.680s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 07:51:54.774867 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:51:55.284399 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:52:03.688130 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:52:04.266097 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:52:13.796357 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:52:14.568094 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.628s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.593s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 07:52:31.449080 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:52:31.995792 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:52:41.323906 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:52:41.863848 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:52:50.931252 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:52:51.443000 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.814s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 07:53:04.149471 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:53:04.742606 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:53:18.950952 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:53:19.507812 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:53:33.668133 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:53:34.254658 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.347s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.160s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 07:54:32.297205 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:54:32.821992 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:54:44.433630 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:54:44.934201 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:54:57.267764 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:54:57.768058 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.960s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 07:55:13.574088 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:55:14.102300 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:55:23.449103 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:55:23.988939 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:55:35.976898 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:55:36.523262 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (36.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.570s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.813s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.999s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.909s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.701s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.004s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.958s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 07:58:26.268439 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:58:26.809677 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:58:35.651864 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:58:36.176682 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:58:44.855734 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:58:45.397126 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.859s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 07:58:56.838272 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:58:57.368600 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:59:07.901396 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:59:08.437201 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:59:18.806932 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:59:19.363465 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.906s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 07:59:34.445832 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:59:34.957056 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:59:45.937431 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:59:46.438218 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 07:59:58.082683 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 07:59:58.582998 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.517s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 08:00:13.596322 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:00:14.181457 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:00:22.996186 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:00:23.617564 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:00:32.457297 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:00:32.958840 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.908s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 08:00:46.562355 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:00:47.101823 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:00:55.736458 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:00:56.237432 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:01:05.739664 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:01:06.240097 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.272s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.670s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 08:01:22.655704 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:01:23.185513 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:01:32.417162 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:01:32.948403 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:01:41.748859 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:01:42.284631 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.709s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 08:01:55.323380 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:01:55.954327 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:02:10.717040 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:02:11.280596 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:02:26.021075 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:02:26.605634 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.531s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.817s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 08:03:23.067480 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:03:23.655408 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:03:36.808183 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:03:37.309726 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:03:47.885343 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:03:48.386508 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.034s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 08:04:03.952955 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:04:04.493691 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:04:13.053224 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:04:13.603867 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:04:22.531439 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:04:23.031725 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (31.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.888s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.737s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.532s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.031s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.763s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.546s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.138s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 08:07:09.023957 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:07:09.536759 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:07:17.393328 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:07:17.905567 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:07:25.864655 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:07:26.386977 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.62s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.705s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 08:07:38.480594 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:07:39.015093 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:07:49.028636 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:07:49.565666 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:08:01.097220 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:08:01.632868 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.605s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 08:08:18.659846 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:08:19.189734 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:08:29.457100 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:08:29.958169 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:08:40.417984 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:08:40.919263 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.566s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 08:08:56.190124 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:08:56.736559 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:09:04.632435 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:09:05.212125 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:09:13.963181 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:09:14.508588 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.116s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 08:09:28.091252 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:09:28.627647 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:09:37.925040 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:09:38.459005 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:09:47.287591 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:09:47.788364 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.82s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.931s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.109s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 08:10:05.278066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:10:05.796664 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:10:15.177729 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:10:15.707282 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:10:24.856137 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:10:25.389584 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.263s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 08:10:38.969170 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:10:40.240200 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:10:54.444569 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:10:54.985985 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:11:09.514728 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:11:10.067575 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.425s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.286s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 08:12:07.565619 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:12:08.068613 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:12:19.531375 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:12:20.032486 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:12:32.095693 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:12:32.609922 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.537s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 08:12:49.734205 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:12:50.259375 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:12:59.803036 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:13:00.303519 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:13:13.559561 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:13:14.111708 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (38.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.075s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.010s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.291s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.965s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.784s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.751s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.274s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.175s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 08:16:01.735890 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:16:02.254313 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:16:10.744792 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:16:11.257053 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:16:19.433743 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:16:19.952426 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.025s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 08:16:31.589893 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:16:32.135984 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:16:42.259190 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:16:42.832554 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:16:53.671351 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:16:54.217994 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.132s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 08:17:09.623016 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:17:10.124175 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:17:21.790826 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:17:22.291327 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:17:33.934137 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:17:34.435504 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (39.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.410s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 08:17:50.489311 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:17:51.025152 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:18:00.691525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:18:01.233562 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:18:09.302930 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:18:09.937322 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.594s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 08:18:23.077712 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:18:23.594540 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:18:33.148586 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:18:33.696163 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:18:41.543452 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:18:42.044603 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.596s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.953s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 08:18:59.743855 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:19:00.267391 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:19:09.224509 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:19:09.769509 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:19:18.394733 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:19:18.908158 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.173s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 08:19:31.841593 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:19:32.434881 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:19:47.281402 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:19:47.904482 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:20:02.515154 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:20:03.089921 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.632s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.764s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 08:21:00.634756 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:21:01.136589 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:21:12.805242 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:21:13.309815 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:21:24.917375 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:21:25.425897 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.154s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 08:21:41.828101 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:21:42.357619 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:21:52.788661 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:21:53.289626 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:22:03.667272 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:22:04.205972 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.849s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.990s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.273s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.328s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (5.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.690s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.721s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.780s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 08:24:52.035121 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:24:52.558806 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:25:00.632349 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:25:01.180567 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:25:09.008782 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:25:09.527456 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.265s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 08:25:20.972937 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:25:21.540068 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:25:34.030620 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:25:34.559858 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:25:43.663664 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:25:44.233286 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (38.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.618s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 08:26:03.073021 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:26:03.624599 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:26:14.443692 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:26:14.966274 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:26:25.470590 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:26:26.035450 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.017s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 08:26:41.239466 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:26:41.899542 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:26:51.155567 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:26:52.001221 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:27:00.884754 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:27:01.856331 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.328s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 08:27:14.138554 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:27:14.650935 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:27:23.173150 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:27:23.734193 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:27:33.123679 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:27:33.857206 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.155s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (6.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.952s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 08:27:53.515914 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:27:54.028331 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:28:03.153125 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:28:03.705069 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:28:12.537725 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:28:13.074029 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.119s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 08:28:25.575683 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:28:26.181348 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:28:40.392779 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:28:40.954711 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:28:56.295556 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:28:56.975727 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.949s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.511s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 08:29:55.053703 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:29:55.554159 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:30:07.611493 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:30:08.112567 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:30:19.230879 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:30:19.731092 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.934s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 08:30:34.818557 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:30:35.355630 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:30:45.056065 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:30:45.747818 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:30:56.117067 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:30:56.647347 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.099s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.444s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.591s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.382s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.377s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.789s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.551s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 08:33:43.991828 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:33:44.510881 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:33:51.932966 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:33:52.467345 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:34:01.082373 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:34:01.594675 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.722s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 08:34:13.377936 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:34:13.918810 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:34:24.425432 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:34:24.970885 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:34:36.211588 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:34:36.753953 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.692s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 08:34:52.017741 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:34:52.559765 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:35:03.760957 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:35:04.261551 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:35:15.408813 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:35:15.909860 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.215s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 08:35:30.739281 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:35:31.239689 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:35:39.922422 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:35:40.423240 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:35:48.493760 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:35:49.279428 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (30.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.598s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 08:36:01.813443 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:36:02.565113 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:36:11.528016 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:36:12.405640 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:36:22.006248 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:36:22.535942 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.620s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.944s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 08:36:40.942573 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:36:41.472901 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:36:50.551713 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:36:51.070929 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:36:59.960849 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:37:00.508186 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.194s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 08:37:12.997942 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:37:13.562117 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:37:28.790898 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:37:29.431558 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:37:44.103961 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:37:44.662874 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.588s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.936s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 08:38:42.763988 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:38:43.264261 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:38:54.919703 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:38:55.420945 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:39:06.423332 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:39:06.923682 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.929s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 08:39:22.558872 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:39:23.059761 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:39:33.769242 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:39:34.321854 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:39:43.247470 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:39:43.826032 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.591s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.572s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (31.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.718s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.445s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.853s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.374s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.221s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 08:42:27.165564 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:42:27.685000 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:42:35.404999 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:42:35.917744 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:42:43.932178 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:42:44.472552 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.268s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 08:42:56.140834 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:42:56.699134 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:43:07.377612 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:43:07.913932 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:43:17.854361 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:43:18.401809 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.38s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.483s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 08:43:34.073851 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:43:34.575212 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:43:45.690673 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:43:46.191701 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:43:58.034035 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:43:58.535383 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.089s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 08:44:13.132525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:44:13.659333 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:44:23.023281 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:44:23.997627 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:44:32.254291 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:44:32.755178 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.622s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 08:44:45.512082 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:44:46.012573 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:44:54.786224 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:44:55.306550 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:45:03.561912 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:45:04.063398 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.864s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (7.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.111s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 08:45:23.734105 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:45:24.262495 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:45:32.759941 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:45:33.289894 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:45:42.102117 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:45:42.633373 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.351s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 08:45:55.154239 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:45:55.741277 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:46:09.455827 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:46:10.038999 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:46:25.665571 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:46:26.416349 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.964s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.14s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.170s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 08:47:23.213981 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:47:23.714690 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:47:34.271006 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:47:34.771477 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:47:46.734096 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:47:47.234557 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (38.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.739s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 08:48:02.933952 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:48:03.523788 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:48:14.354734 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:48:14.889407 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:48:23.954423 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:48:24.454711 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.160s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (26.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.979s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.259s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.426s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.826s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.370s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (30.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.674s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 08:51:14.413256 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:51:14.925616 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:51:22.846531 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:51:23.382888 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:51:30.846336 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:51:31.365785 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.053s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 08:51:43.192039 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:51:43.748479 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:51:53.658856 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:51:54.177643 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:52:05.205692 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:52:05.757651 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.006s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 08:52:20.879603 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:52:21.381168 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:52:32.007686 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:52:32.508644 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:52:43.383631 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:52:43.884594 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.047s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 08:52:59.378274 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:53:00.181901 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:53:09.431140 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:53:09.962052 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:53:17.939335 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:53:18.440618 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.686s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 08:53:31.892738 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:53:32.417677 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:53:40.387645 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:53:40.888001 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:53:49.287824 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:53:49.838966 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (30.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.906s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.715s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 08:54:06.082919 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:54:06.612509 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:54:15.437900 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:54:15.960981 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:54:25.085527 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:54:25.615674 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.483s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 08:54:38.466573 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:54:39.085203 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:54:54.259074 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:54:54.942551 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:55:10.032103 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:55:10.639766 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.699s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.144s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 08:56:10.638447 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:56:11.507547 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:56:24.071743 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:56:24.573960 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:56:36.125169 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:56:36.626267 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.720s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 08:56:52.446755 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:56:53.253694 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:57:03.501252 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:57:04.301167 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 08:57:13.835855 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:57:14.381729 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.430s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.305s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.430s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.936s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.781s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (23.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.831s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.950s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 08:59:58.260220 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 08:59:58.795908 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:00:06.655013 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:00:07.190141 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:00:15.067958 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:00:15.580923 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.406s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 09:00:27.418445 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:00:27.958816 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:00:38.948710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:00:39.512580 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:00:50.115058 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:00:50.657481 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (37.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.617s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 09:01:06.818515 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:01:07.319418 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:01:18.173549 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:01:18.673898 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:01:29.979627 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:01:30.480327 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.281s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 09:01:45.049450 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:01:45.549916 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:01:56.234366 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:01:56.782343 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:02:05.150272 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:02:05.651566 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.084s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 09:02:18.638846 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:02:19.181628 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:02:29.118861 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:02:29.648485 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:02:37.763200 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:02:38.326996 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (33.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.458s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (10.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.088s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 09:03:02.446774 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:03:02.982503 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:03:11.945975 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:03:12.458909 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:03:21.717005 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:03:22.245898 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.602s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 09:03:36.266161 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:03:36.847533 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:03:51.813414 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:03:52.637736 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:04:08.612942 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:04:09.204819 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (51.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	51.951s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.759s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 09:05:10.516420 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:05:11.042980 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:05:21.828468 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:05:22.329734 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:05:34.150277 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:05:34.651419 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.497s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 09:05:49.941695 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:05:50.443140 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:06:00.151496 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:06:00.713047 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:06:10.062641 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:06:10.876827 test_test.go:264: [0;33m[warning] restart servers
[0m
    test_test.go:63: 0 missing element x 0 13 y in Append result x 0 0 yx 0 1 yx 0 2 yx 0 3 yx 0 4 yx 0 5 yx 0 6 yx 0 7 yx 0 8 yx 0 9 yx 0 10 yx 0 11 yx 0 12 y
--- FAIL: TestSnapshotUnreliableRecoverConcurrentPartition2C (30.46s)
FAIL
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.523s
FAIL
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.756s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.145s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.310s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.781s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.319s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (30.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.379s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 09:08:53.137348 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:08:53.650583 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:09:01.697103 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:09:02.232631 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:09:10.035929 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:09:10.563938 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (27.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.064s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 09:09:21.972623 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:09:22.512290 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:09:32.749006 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:09:33.305187 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:09:44.381525 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:09:44.905862 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.553s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 09:10:00.014266 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:10:00.515364 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:10:11.612104 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:10:12.113248 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:10:24.662919 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:10:25.209164 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.624s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 09:10:39.179301 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:10:39.680234 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:10:50.287367 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:10:50.788336 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:11:01.694835 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:11:02.195525 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (34.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.621s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 09:11:15.721452 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:11:16.329612 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:11:25.658402 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:11:26.509681 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:11:35.139527 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:11:35.679018 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.647s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (4.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.679s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 09:11:52.620284 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:11:53.143604 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:12:02.125066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:12:02.642639 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:12:11.432867 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:12:11.961307 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.119s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 09:12:24.591210 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:12:25.143525 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:12:40.257279 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:12:40.878767 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:12:55.607417 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:12:56.232678 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.198s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.741s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 09:13:52.706702 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:13:53.207113 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:14:04.568161 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:14:05.068912 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:14:17.764901 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:14:18.293835 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.630s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 09:14:34.069725 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:14:34.899169 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:14:44.353947 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:14:44.872612 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:14:54.993723 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:14:55.494632 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (33.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.003s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.575s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.786s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.319s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.786s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.626s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.990s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 09:17:45.952500 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:17:46.489026 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:17:54.950887 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:17:55.463903 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:18:03.394732 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:18:03.913715 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.431s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 09:18:15.071381 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:18:15.618476 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:18:25.627682 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:18:26.173853 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:18:37.689549 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:18:38.208504 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.277s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 09:18:53.403101 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:18:53.943300 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:19:02.297687 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:19:02.811089 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:19:14.193548 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:19:14.693818 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (35.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.576s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 09:19:30.229895 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:19:30.807280 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:19:39.630929 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:19:40.203025 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:19:48.540750 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:19:49.041906 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.335s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 09:20:01.617448 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:20:02.306267 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:20:12.207751 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:20:12.733264 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:20:22.058581 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:20:22.559572 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.67s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.792s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.117s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 09:20:39.666643 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:20:40.186035 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:20:48.956245 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:20:49.469073 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:20:58.439381 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:20:58.957880 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.279s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 09:21:11.840742 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:21:12.386431 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:21:27.195080 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:21:27.842988 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:21:41.994676 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:21:42.531213 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.240s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.780s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 09:22:41.069813 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:22:41.571284 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:22:54.045653 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:22:54.546969 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:23:07.160674 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:23:07.663015 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.158s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 09:23:22.618405 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:23:23.205418 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:23:33.431549 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:23:33.932903 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:23:43.601292 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:23:44.158853 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.800s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.008s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.459s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.726s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (33.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.097s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.703s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.532s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (31.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.846s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 09:26:33.038781 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:26:33.557018 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:26:41.384166 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:26:41.901984 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:26:50.573624 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:26:51.086383 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.368s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 09:27:03.130063 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:27:03.671473 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:27:14.347245 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:27:14.894725 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:27:25.737649 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:27:26.292970 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.879s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 09:27:41.638694 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:27:42.144289 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:27:53.034685 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:27:53.536154 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:28:04.292720 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:28:04.799205 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (37.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.250s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 09:28:19.469730 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:28:19.972349 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:28:28.716287 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:28:29.498374 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:28:38.757354 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:28:39.264719 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.340s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 09:28:51.493080 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:28:52.545956 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:29:01.105142 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:29:01.689854 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:29:09.728037 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:29:10.865825 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.252s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.475s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 09:29:26.739504 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:29:27.258869 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:29:36.166047 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:29:36.691154 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:29:45.578212 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:29:46.112494 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.200s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 09:29:58.795805 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:29:59.399385 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:30:14.033322 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:30:14.608092 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:30:29.573704 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:30:30.271422 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.341s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (36.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.887s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 09:31:26.058339 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:31:26.558787 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:31:38.866496 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:31:39.374418 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:31:51.615922 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:31:52.116999 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (40.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.754s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 09:32:07.583248 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:32:08.083938 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:32:16.857032 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:32:17.374666 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:32:26.929646 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:32:27.502214 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.648s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.294s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (32.35s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.402s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (30.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.049s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.729s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.988s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (29.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.339s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 09:35:10.040061 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:35:10.552128 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:35:18.508529 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:35:19.039108 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:35:26.950656 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:35:27.469719 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.349s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 09:35:39.100885 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:35:39.657985 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:35:49.933110 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:35:50.475202 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:36:00.789184 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:36:01.329049 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (35.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.306s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 09:36:16.068899 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:36:16.570591 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:36:26.895694 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:36:27.396568 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:36:37.363233 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:36:37.864473 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (36.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.355s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 09:36:53.939989 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:36:54.486196 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:37:03.664044 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:37:04.294223 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:37:13.146164 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:37:13.646878 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (31.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.885s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 09:37:26.112581 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:37:26.640799 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:37:35.750754 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:37:36.362130 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:37:45.122831 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:37:45.703201 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.086s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.821s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 09:38:02.030283 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:38:02.570670 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:38:11.302221 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:38:11.814380 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:38:20.644732 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:38:21.162938 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.001s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 09:38:33.965886 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:38:34.552507 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:38:48.961054 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:38:49.662685 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:39:04.395707 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:39:04.935935 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (48.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.340s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (37.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.526s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 09:57:49.358720 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:57:49.860561 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:58:01.933643 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:58:02.435114 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:58:14.196269 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:58:14.697967 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (41.58s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.647s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 09:58:32.432285 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:58:33.078011 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:58:43.760356 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:58:44.311180 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 09:58:54.046698 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 09:58:54.556154 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (38.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.249s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.003s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.351s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.497s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (7.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.605s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.264s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (27.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	27.109s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 10:01:45.559750 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:01:46.099399 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:01:53.758348 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:01:54.302709 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:02:01.987035 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:02:02.516874 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.450s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 10:02:14.802085 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:02:15.357167 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:02:26.036564 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:02:26.599935 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:02:37.307761 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:02:37.842135 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.769s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 10:02:53.890980 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:02:54.439545 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:03:05.164565 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:03:05.665505 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:03:16.972141 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:03:17.496703 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.276s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 10:03:32.412437 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:03:33.249288 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:03:43.486429 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:03:44.035207 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:03:52.918468 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:03:53.420347 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.827s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 10:04:06.078606 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:04:06.595945 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:04:14.530348 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:04:15.053076 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:04:25.086534 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:04:25.631370 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (31.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.243s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.003s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (3.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	3.582s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 10:04:41.344206 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:04:41.878829 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:04:50.946617 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:04:51.459104 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:05:00.504237 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:05:01.039712 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.626s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 10:05:13.961899 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:05:14.525613 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:05:28.466414 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:05:29.029155 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:05:43.774744 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:05:44.354497 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (50.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	50.220s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.271s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 10:06:45.425275 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:06:45.926022 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:06:57.592191 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:06:58.192595 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:07:09.089586 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:07:09.590839 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.754s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 10:07:25.733799 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:07:26.268586 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:07:36.492094 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:07:37.166755 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:07:46.269173 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:07:46.769502 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.805s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.011s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.140s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (33.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.434s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (34.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.325s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.640s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.270s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.062s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 10:10:34.965507 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:10:35.483928 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:10:43.669620 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:10:44.183060 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:10:52.178689 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:10:52.696853 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.48s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.562s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 10:11:04.247082 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:11:04.820016 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:11:15.153739 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:11:15.693512 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:11:26.298162 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:11:26.841990 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (36.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.135s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 10:11:42.206458 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:11:42.707261 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:11:53.733897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:11:54.238818 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:12:05.742419 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:12:06.253055 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (38.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.098s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 10:12:21.087568 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:12:21.621644 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:12:30.857555 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:12:31.445719 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:12:41.357237 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:12:41.895420 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (32.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.155s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 10:12:53.847131 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:12:54.357158 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:13:03.086220 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:13:03.587247 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:13:14.830949 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:13:15.381512 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (34.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.555s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.283s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 10:13:34.590064 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:13:35.118130 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:13:43.126571 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:13:43.639475 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:13:51.768126 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:13:52.292062 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (29.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.708s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 10:14:05.249770 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:14:05.793940 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:14:20.898820 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:14:21.484327 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:14:36.291115 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:14:36.867085 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (49.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.375s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (35.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.977s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 10:15:32.699439 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:15:33.200582 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:15:45.342952 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:15:45.914482 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:15:57.041873 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:15:57.542507 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (39.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.260s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 10:16:12.895346 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:16:13.436305 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:16:22.639954 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:16:23.174072 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:16:34.069145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:16:35.094319 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.87s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.995s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.046s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
2022/08/03 10:17:37.922489 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:17:37.923577 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:17:37.924657 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:17:37.925789 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:17:37.925831 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:17:38 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2062259028/kv/00000001.sst: open /tmp/test-raftstore2062259028/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:17:38 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore445764987/kv/00000001.sst: open /tmp/test-raftstore445764987/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:17:38 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore63735586/kv/00000001.sst: open /tmp/test-raftstore63735586/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:17:38 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3201094663/kv/00000001.sst: open /tmp/test-raftstore3201094663/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:17:38 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore961224093/kv/00000001.sst: open /tmp/test-raftstore961224093/kv/00000001.sst: no such file or directory[0m
--- PASS: TestConcurrent2B (31.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.579s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (37.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.352s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.440s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.568s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (31.39s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.460s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 10:19:27.713114 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:19:28.236168 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:19:35.984654 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:19:36.518430 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:19:44.231176 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:19:44.748354 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (29.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.554s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 10:19:58.201666 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:19:58.741709 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:20:09.048938 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:20:09.589521 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:20:21.819860 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:20:22.364686 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (38.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.883s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 10:20:39.191101 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:20:39.692190 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:20:52.568289 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:20:53.070879 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:21:05.756823 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:21:06.257618 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (41.29s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.364s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 10:21:21.072806 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:21:21.608968 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:21:32.337538 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:21:32.838391 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:21:42.021913 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:21:42.801709 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (35.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.528s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 10:21:57.564458 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:21:58.131863 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:22:07.804430 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:22:08.763254 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:22:19.327644 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:22:20.506624 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (37.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.190s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.004s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (13.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	13.602s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 10:22:48.548698 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:22:49.072487 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:22:58.075038 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:22:58.604293 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:23:07.898326 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:23:08.427541 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.683s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 10:23:22.016839 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:23:22.595113 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:23:39.817122 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:23:40.398357 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:23:57.173259 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:23:57.738611 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (54.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	54.392s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (38.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.438s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 10:24:57.514653 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:24:58.014965 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:25:12.068470 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:25:12.568813 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:25:24.346539 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:25:24.847185 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:25:25.348693 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.349860 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.353077 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.353170 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.353292 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.849490 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.850555 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.851699 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.852752 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:25.853509 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.348818 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.350193 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.352102 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.352172 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.353319 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.848697 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.849942 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.851080 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.852247 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:26.853357 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.349692 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.349734 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.351872 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.353089 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.353717 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.849560 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.850713 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.851849 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.853052 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:27.854043 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.348694 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.349904 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.351064 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.352228 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.353387 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.849087 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.850160 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.851264 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.852363 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:28.853430 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.349115 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.350341 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.351619 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.352794 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.353394 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.849365 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.850615 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.851797 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.852984 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:29.854160 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.348670 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.349729 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.351936 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.353014 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.354101 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.849059 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.850196 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.851297 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.852412 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:30.853539 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:31.349670 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:31.349779 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:31.352049 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:31.352118 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:31.354412 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:25:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore599860943/kv/00000001.sst: open /tmp/test-raftstore599860943/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:25:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore665072595/kv/00000001.sst: open /tmp/test-raftstore665072595/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:25:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3944636770/kv/00000001.sst: open /tmp/test-raftstore3944636770/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:25:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore88461876/kv/00000001.sst: open /tmp/test-raftstore88461876/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:25:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1827404195/kv/00000001.sst: open /tmp/test-raftstore1827404195/kv/00000001.sst: no such file or directory[0m
--- PASS: TestSnapshotUnreliableRecover2C (42.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.396s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 10:25:41.961212 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:25:42.507399 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:25:54.365107 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:25:54.894033 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:26:04.269519 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:26:05.431292 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (39.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.677s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (26.57s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.611s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (37.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.962s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (38.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.501s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (10.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.186s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.54s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.583s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.65s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.734s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 10:29:11.034995 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:29:11.569616 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:29:19.564551 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:29:20.097944 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:29:28.145264 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:29:28.684863 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.292s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 10:29:40.475285 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:29:41.027092 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:29:53.281888 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:29:53.827543 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:30:06.662058 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:30:07.217638 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (42.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.348s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 10:30:25.068939 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:30:25.570000 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:30:38.669221 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:30:39.169641 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:30:51.773964 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:30:52.274386 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (45.80s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.883s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 10:31:11.461754 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:31:12.235393 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:31:20.922793 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:31:21.576021 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:31:32.082211 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:31:32.582426 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (33.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.014s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 10:31:47.103614 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:31:47.638094 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:31:55.748265 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:31:56.249343 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:32:05.683964 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:32:06.240475 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (34.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.242s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.122s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 10:32:25.911080 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:32:26.439925 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:32:35.075317 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:32:35.609155 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:32:44.270604 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:32:44.797966 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (30.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.848s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 10:32:57.823809 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:32:58.422177 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:33:14.756639 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:33:15.346720 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:33:33.047695 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:33:33.638462 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (55.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	55.862s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (40.33s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.374s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 10:34:36.598447 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:34:37.196257 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:34:49.744148 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:34:50.244900 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:35:04.319655 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:35:04.841515 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (45.45s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.524s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 10:35:16.026483 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.027555 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.028656 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.028715 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.029756 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.526504 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.527217 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.528738 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.528738 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:16.529952 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.026549 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.027788 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.027868 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.029069 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.029546 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.525857 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.526797 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.527768 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.528580 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:17.529480 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.025882 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.027082 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.028344 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.029544 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.029626 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.526360 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.527671 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.527755 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.528618 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:18.530107 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.026154 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.027324 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.028532 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.028617 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.029765 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.525815 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.526797 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.527699 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.528577 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:19.529389 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:20.026496 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:20.027748 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:20.027766 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:20.029007 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:20.030165 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:35:20.093351 snap.go:697: [0;31m[error] ingest sst failed (first 0 files succeeded): link /tmp/test-raftstore3821981535/snap/rev_1_12_125_default.sst /tmp/test-raftstore3699014064/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:35:20.093409 region_task.go:126: [0;31m[fatal] failed to apply snap!!!. err: link /tmp/test-raftstore3821981535/snap/rev_1_12_125_default.sst /tmp/test-raftstore3699014064/kv/00000001.sst: no such file or directory[0m
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.810s
FAIL
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.010s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.810s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (38.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.439s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (36.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.099s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (6.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.678s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.838s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (31.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.610s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 10:38:17.245601 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:38:17.773872 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:38:24.778981 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:38:25.307296 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:38:33.123637 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:38:33.646217 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.162s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 10:38:46.191697 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:38:46.719290 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:38:58.489471 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:38:59.017877 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:39:11.772328 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:39:12.310140 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (40.59s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.642s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 10:39:28.388455 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:39:28.889601 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:39:39.555696 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:39:40.059171 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:39:53.520427 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:39:54.021008 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (40.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.931s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 10:40:09.850999 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:40:10.351455 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:40:20.197454 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:40:20.867506 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:40:30.838249 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:40:31.390513 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (33.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.601s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 10:40:44.241073 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:40:45.383223 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:40:55.532443 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:40:56.033709 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:41:05.107056 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:41:05.807815 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (34.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.272s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.132s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 10:41:24.906288 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:41:25.440138 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:41:34.765794 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:41:35.289819 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:41:44.528564 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:41:45.062194 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (33.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.106s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 10:41:58.895984 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:41:59.509077 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:42:17.376631 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:42:18.039824 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:42:34.730975 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:42:35.316507 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (57.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	57.206s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (39.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.851s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 10:43:38.830087 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:43:39.369517 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:43:51.402230 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:43:51.947456 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:44:06.487454 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:44:06.987907 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecover2C (43.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.752s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 10:44:22.634209 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:44:23.134724 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:44:32.374695 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:44:32.900061 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:44:43.616060 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:44:44.175889 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:44:45.177973 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.178646 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.179711 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.181889 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.182957 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.677641 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.678849 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.680327 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.682055 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:45.683450 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.177944 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.179252 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.179670 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.181537 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.182690 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.678379 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.679488 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.679680 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.681831 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:46.683067 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:44:47 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1153037747/kv/00000003.sst: open /tmp/test-raftstore1153037747/kv/00000003.sst: no such file or directory[0m
2022/08/03 10:44:47 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore400065836/kv/00000003.sst: open /tmp/test-raftstore400065836/kv/00000003.sst: no such file or directory[0m
2022/08/03 10:44:47 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1372314872/kv/00000001.sst: open /tmp/test-raftstore1372314872/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:44:47 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2259894996/kv/00000003.sst: open /tmp/test-raftstore2259894996/kv/00000003.sst: no such file or directory[0m
2022/08/03 10:44:47 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1548101489/kv/00000003.sst: open /tmp/test-raftstore1548101489/kv/00000003.sst: no such file or directory[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (32.49s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.570s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.011s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (24.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.784s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (38.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.451s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (37.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.976s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (8.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	8.762s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.243s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (30.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.848s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 10:47:45.811255 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:47:46.340030 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:47:54.758092 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:47:55.313417 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:48:03.664298 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:48:04.208679 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.835s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 10:48:15.358479 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:48:15.907334 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:48:26.917069 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:48:27.445830 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:48:38.969259 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:48:39.514256 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (40.50s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.576s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 10:48:57.711791 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:48:58.212315 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:49:09.713452 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:49:10.213788 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:49:22.035201 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:49:22.536059 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (42.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.679s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 10:49:42.796344 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:49:43.296809 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:49:52.798608 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:49:53.299806 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:50:02.268663 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:50:03.405865 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (35.78s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.880s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 10:50:18.886957 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:50:19.487442 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:50:28.202109 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:50:28.768317 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:50:37.674900 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:50:38.175302 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.794s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (10.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	10.155s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 10:51:01.815924 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:51:02.360379 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:51:11.347767 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:51:11.882804 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:51:21.016779 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:51:21.562653 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (31.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.785s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 10:51:34.970861 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:51:35.498630 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:51:50.906565 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:51:51.545046 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:52:08.824328 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:52:09.390778 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (55.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	55.454s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (40.63s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.674s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 10:53:13.364313 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:53:13.865246 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:53:15.367116 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.368284 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.369542 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.370648 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.371801 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.867014 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.868242 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.869380 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.870508 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:15.871632 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.366954 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.368131 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.369346 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.370415 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.370890 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.866939 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.868146 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.869279 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.870020 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:16.871523 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.366803 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.367887 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.369017 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.370122 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.371254 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.867782 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.867852 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.868888 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.870370 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:17.871447 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.367113 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.368229 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.369308 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.370490 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.371622 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.867310 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.868051 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.869582 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.870719 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:18.870881 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.367442 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.368579 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.369432 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.370905 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.370919 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.867087 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.868197 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.869347 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.870341 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:19.871792 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.367161 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.368347 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.369568 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.370670 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.371802 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.867370 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.868577 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.869754 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.870933 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:20.870993 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.366765 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.367883 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.369002 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.370134 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.371340 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.867057 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.868268 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.868904 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.870413 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:21.871556 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.367435 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.368668 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.369737 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.370867 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.370901 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.866996 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.868097 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.869187 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.870268 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:22.871156 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.367170 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.368287 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.369412 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.370556 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.370883 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.867281 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.868507 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.869703 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.870681 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:23.870898 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.367294 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.368389 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.368870 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.371027 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.371068 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.866861 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.868058 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.869319 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.870429 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:24.871632 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.367046 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.368209 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.369338 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.370525 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.371609 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.867819 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.867894 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.869059 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.870445 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:25.871703 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:26.367537 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:26.368621 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:26.369506 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:26.370757 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:26.371812 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 10:53:26.741628 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:53:27.242377 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:53:27 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2464831918/kv/00000001.sst: open /tmp/test-raftstore2464831918/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:53:27 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2292398457/kv/00000001.sst: open /tmp/test-raftstore2292398457/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:53:27 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3592568757/kv/00000001.sst: open /tmp/test-raftstore3592568757/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:53:27 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1287918122/kv/00000001.sst: open /tmp/test-raftstore1287918122/kv/00000001.sst: no such file or directory[0m
2022/08/03 10:53:27 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3924532947/kv/00000001.sst: open /tmp/test-raftstore3924532947/kv/00000001.sst: permission denied[0m
--- FAIL: TestSnapshotUnreliableRecover2C (22.17s)
panic: mkdir /tmp/test-raftstore3924532947/snap: permission denied [recovered]
	panic: mkdir /tmp/test-raftstore3924532947/snap: permission denied

goroutine 22 [running]:
testing.tRunner.func1.2({0xa56a20, 0xc181bcea50})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa56a20, 0xc181bcea50})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).StartServer(0xc0000b4ea0, 0xc17d12be00)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:172 +0x7a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest(0xc00008b1e0, {0xada86e, 0x2}, 0x5, 0x1, 0x1, 0x0, 0x64, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:267 +0xa66
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestSnapshotUnreliableRecover2C(0x4118d9)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:516 +0x45
testing.tRunner(0xc00008b1e0, 0xb10cc8)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	22.222s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 10:53:36.080002 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:53:36.612170 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:53:49.601238 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:53:50.135236 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:54:01.123581 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:54:01.624595 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (37.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.262s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.26s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.306s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (35.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.904s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (39.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.655s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (3.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.011s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (24.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.806s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (28.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.973s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
2022/08/03 10:56:57.091856 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:56:57.620706 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:57:05.812078 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:57:06.391463 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:57:14.218409 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:57:14.758782 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistOneClient2B (28.93s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.998s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
2022/08/03 10:57:26.673585 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:57:27.223886 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:57:39.826794 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:57:40.399770 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:57:52.448248 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:57:53.000497 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrent2B (43.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.096s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
2022/08/03 10:58:12.131394 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:58:12.677797 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:58:25.064618 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:58:25.584116 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:58:37.312462 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:58:37.813304 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistConcurrentUnreliable2B (43.20s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.283s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
2022/08/03 10:58:56.432258 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:58:56.973057 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:59:06.243988 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:59:06.744540 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:59:16.093725 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:59:17.173999 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartition2B (34.94s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.040s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
2022/08/03 10:59:31.443513 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:59:32.321875 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:59:40.569669 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:59:41.172285 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 10:59:50.917107 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 10:59:51.418260 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestPersistPartitionUnreliable2B (32.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.562s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
--- PASS: TestOneSnapshot2C (5.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.034s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
2022/08/03 11:00:09.945984 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:00:10.486195 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:00:19.454418 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:00:20.002842 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:00:29.202709 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:00:29.743326 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecover2C (32.99s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.064s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
2022/08/03 11:00:44.132099 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:00:44.739241 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:01:02.351227 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:01:02.984336 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:01:22.684666 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:01:23.350845 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotRecoverManyClients2C (57.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	57.294s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
--- PASS: TestSnapshotUnreliable2C (40.56s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.580s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
2022/08/03 11:02:23.781277 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:02:24.281475 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:02:24 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1465931220/kv/00000001.sst: open /tmp/test-raftstore1465931220/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:02:24 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore478034966/kv/00000001.sst: open /tmp/test-raftstore478034966/kv/00000001.sst: permission denied[0m
2022/08/03 11:02:24 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore262582983/kv/00000001.sst: open /tmp/test-raftstore262582983/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:02:24 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1232383449/kv/00000001.sst: open /tmp/test-raftstore1232383449/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:02:24 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2884510340/kv/00000001.sst: open /tmp/test-raftstore2884510340/kv/00000001.sst: no such file or directory[0m
--- FAIL: TestSnapshotUnreliableRecover2C (8.20s)
panic: mkdir /tmp/test-raftstore478034966/snap: permission denied [recovered]
	panic: mkdir /tmp/test-raftstore478034966/snap: permission denied

goroutine 50 [running]:
testing.tRunner.func1.2({0xa56a20, 0xc192d377e8})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa56a20, 0xc192d377e8})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).StartServer(0xc00009b7a0, 0xc17bd43380)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:172 +0x7a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest(0xc000120ea0, {0xada86e, 0x2}, 0x5, 0x1, 0x1, 0x0, 0x64, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:267 +0xa66
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestSnapshotUnreliableRecover2C(0x4118d9)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:516 +0x45
testing.tRunner(0xc000120ea0, 0xb10cc8)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	8.227s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
2022/08/03 11:02:32.788126 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:02:33.318165 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:02:43.786938 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:02:44.468012 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:02:56.195140 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:02:56.831841 test_test.go:264: [0;33m[warning] restart servers
[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (37.89s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.991s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.012s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
--- PASS: TestBasic2B (25.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.905s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
--- PASS: TestConcurrent2B (38.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.260s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
--- PASS: TestUnreliable2B (40.75s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.797s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
--- PASS: TestOnePartition2B (4.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.706s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
--- PASS: TestManyPartitionsOneClient2B (25.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.579s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
--- PASS: TestManyPartitionsManyClients2B (31.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.322s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
2022/08/03 11:06:04.154843 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:06:04.694791 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 111 5 6 6
%v %v %v %v 111 5 6 6
%v %v %v %v 111 5 6 6
%v %v %v %v 111 5 6 6
%v %v %v %v 111 5 6 6
2022/08/03 11:06:12.824705 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:06:13.364500 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 267 5 6 6
%v %v %v %v 267 5 6 6
%v %v %v %v 267 5 6 6
%v %v %v %v 267 5 6 6
%v %v %v %v 267 5 6 6
2022/08/03 11:06:21.693094 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:06:22.216726 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 431 5 6 6
%v %v %v %v 431 5 6 6
%v %v %v %v 431 5 6 6
%v %v %v %v 431 5 6 6
%v %v %v %v 431 5 6 6
--- PASS: TestPersistOneClient2B (30.17s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.248s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
2022/08/03 11:06:35.615763 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:06:36.165115 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 285 5 6 6
%v %v %v %v 284 5 6 6
%v %v %v %v 285 5 6 6
%v %v %v %v 285 5 6 6
%v %v %v %v 285 5 6 6
2022/08/03 11:06:47.496755 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:06:48.042187 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 707 5 6 6
%v %v %v %v 707 5 6 6
%v %v %v %v 707 5 6 6
%v %v %v %v 707 5 6 6
%v %v %v %v 707 5 6 6
2022/08/03 11:07:03.274365 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:07:03.844447 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 999 5 6 6
%v %v %v %v 999 5 6 6
%v %v %v %v 999 5 6 6
%v %v %v %v 999 5 6 6
%v %v %v %v 999 5 6 6
--- PASS: TestPersistConcurrent2B (43.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.426s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
2022/08/03 11:07:21.657432 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:07:22.157955 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 233 5 6 6
%v %v %v %v 233 5 6 6
%v %v %v %v 233 5 6 6
%v %v %v %v 233 5 6 6
%v %v %v %v 233 5 6 6
2022/08/03 11:07:37.344272 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:07:37.845618 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 587 5 6 6
%v %v %v %v 587 5 6 6
%v %v %v %v 587 5 6 6
%v %v %v %v 587 5 6 6
%v %v %v %v 587 5 6 6
2022/08/03 11:07:50.269330 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:07:50.774695 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 965 5 6 6
%v %v %v %v 965 5 6 6
%v %v %v %v 965 5 6 6
%v %v %v %v 965 5 6 6
%v %v %v %v 965 5 6 6
--- PASS: TestPersistConcurrentUnreliable2B (47.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.520s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
2022/08/03 11:08:09.606377 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:08:10.108695 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 125 5 6 6
%v %v %v %v 125 5 6 6
%v %v %v %v 125 5 6 6
%v %v %v %v 125 5 6 6
%v %v %v %v 125 5 6 6
2022/08/03 11:08:19.520388 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:08:20.656704 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 264 5 6 6
%v %v %v %v 264 5 6 6
%v %v %v %v 264 5 6 6
%v %v %v %v 264 5 6 6
%v %v %v %v 264 5 6 6
2022/08/03 11:08:30.085316 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:08:30.659260 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 363 5 6 6
%v %v %v %v 363 5 6 6
%v %v %v %v 363 5 6 6
%v %v %v %v 363 5 6 6
%v %v %v %v 363 5 6 6
--- PASS: TestPersistPartition2B (32.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.949s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
2022/08/03 11:08:43.630981 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:08:44.390503 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 85 5 6 6
%v %v %v %v 85 5 6 6
%v %v %v %v 85 5 6 6
%v %v %v %v 85 5 6 6
%v %v %v %v 85 5 6 6
2022/08/03 11:08:53.282369 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:08:54.591077 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 217 5 6 6
%v %v %v %v 217 5 6 6
%v %v %v %v 217 5 6 6
%v %v %v %v 217 5 6 6
%v %v %v %v 217 5 6 6
2022/08/03 11:09:03.206974 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:09:03.721161 test_test.go:264: [0;33m[warning] restart servers
[0m
%v %v %v %v 364 5 6 6
%v %v %v %v 323 5 6 6
%v %v %v %v 364 5 6 6
%v %v %v %v 345 5 6 6
%v %v %v %v 364 5 6 6
--- PASS: TestPersistPartitionUnreliable2B (33.85s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.953s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 5 5 6 6
%v %v %v %v 26 26 27 27
--- PASS: TestOneSnapshot2C (16.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	16.212s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:09:34.959180 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:09:35.505057 test_test.go:264: [0;33m[warning] restart servers
[0m
109 105 106 106 109
109 105 106 106 109
109 105 106 106 109
109 105 106 106 109
109 105 106 106 109
2022/08/03 11:09:44.828811 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:09:45.363720 test_test.go:264: [0;33m[warning] restart servers
[0m
265 205 206 206 265
265 205 206 206 265
265 205 206 206 265
265 205 206 206 265
265 205 206 206 265
2022/08/03 11:09:54.297296 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:09:54.836404 test_test.go:264: [0;33m[warning] restart servers
[0m
415 405 406 406 415
415 405 406 406 415
415 405 406 406 415
415 405 406 406 415
415 405 406 406 415
--- PASS: TestSnapshotRecover2C (33.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.451s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:10:09.195763 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:10:09.745459 test_test.go:264: [0;33m[warning] restart servers
[0m
392 322 323 323 392
392 322 323 323 392
392 322 323 323 392
392 322 323 323 392
392 322 323 323 392
2022/08/03 11:10:26.931044 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:10:27.493693 test_test.go:264: [0;33m[warning] restart servers
[0m
1010 971 972 972 1010
1010 971 972 972 1010
1010 971 972 972 1010
1010 971 972 972 1010
1010 971 972 972 1010
2022/08/03 11:10:44.144552 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:10:44.711852 test_test.go:264: [0;33m[warning] restart servers
[0m
1656 1627 1628 1628 1656
1656 1627 1628 1628 1656
1656 1627 1628 1628 1656
1656 1627 1628 1628 1656
1656 1627 1628 1628 1656
--- PASS: TestSnapshotRecoverManyClients2C (56.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	56.620s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestSnapshotUnreliable2C (43.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.111s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:11:51.054074 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:11:51.555335 test_test.go:264: [0;33m[warning] restart servers
[0m
241 211 212 212 241
241 211 212 212 241
241 211 212 212 241
241 211 212 212 241
241 211 212 212 241
2022/08/03 11:12:04.081319 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:12:04.582421 test_test.go:264: [0;33m[warning] restart servers
[0m
608 517 518 518 608
608 517 518 518 608
608 517 518 518 608
608 517 518 518 608
608 517 518 518 608
2022/08/03 11:12:17.333665 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:12:17.834419 test_test.go:264: [0;33m[warning] restart servers
[0m
979 926 927 927 979
979 926 927 927 979
979 926 927 927 979
979 926 927 927 979
979 926 927 927 979
--- PASS: TestSnapshotUnreliableRecover2C (43.43s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.474s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:12:37.092937 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:12:37.621596 test_test.go:264: [0;33m[warning] restart servers
[0m
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
2022/08/03 11:12:38.123008 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.123995 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.124957 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.125952 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.127004 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.623783 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.624883 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.624902 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.625946 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:38.627045 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.124162 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.124332 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.125608 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.125975 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.127745 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.623714 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.624905 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.625002 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.626121 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:39.627276 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.123883 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.125053 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.125113 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.126236 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.127407 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.623841 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.625092 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.625205 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.626384 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:40.627655 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.124009 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.124080 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.125183 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.126303 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.127502 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.623065 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.624250 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.624943 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.626441 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:41.627596 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.123536 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.124894 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.125006 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.126131 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.127348 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.623381 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.624640 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.625884 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.626000 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:42.627144 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.123593 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.124851 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.124919 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.126171 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.127573 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.623963 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.623996 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.625085 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.626197 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:43.627311 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.123692 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.124933 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.125066 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.126324 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.127590 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.623310 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.624598 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.625896 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.625968 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:44.627045 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.123864 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.125112 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.125128 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.126392 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.127493 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.623925 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.624059 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.625104 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.626349 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:45.627592 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.123105 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.124349 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.125526 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.126804 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.126893 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.623331 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.624503 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.625671 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.626856 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:46.626927 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.123860 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.125145 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.125250 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.126278 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.126977 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.623985 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.624061 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.625296 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.626513 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.627689 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:12:47.922468 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:12:48.422948 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:12:48 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1989788229/kv/00000001.sst: open /tmp/test-raftstore1989788229/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:12:48 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2761448046/kv/00000001.sst: open /tmp/test-raftstore2761448046/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:12:48 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2576350892/kv/00000001.sst: open /tmp/test-raftstore2576350892/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:12:48 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore16209512/kv/00000001.sst: open /tmp/test-raftstore16209512/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:12:48 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2143338687/kv/00000001.sst: open /tmp/test-raftstore2143338687/kv/00000001.sst: permission denied[0m
--- FAIL: TestSnapshotUnreliableRecoverConcurrentPartition2C (20.96s)
panic: mkdir /tmp/test-raftstore2143338687/snap: permission denied [recovered]
	panic: mkdir /tmp/test-raftstore2143338687/snap: permission denied

goroutine 45 [running]:
testing.tRunner.func1.2({0xa56a20, 0xc1b2831800})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa56a20, 0xc1b2831800})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).StartServer(0xc0000b7140, 0xc1b27d2e00)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:172 +0x7a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest(0xc000083380, {0xada86e, 0x2}, 0x5, 0x1, 0x1, 0x1, 0x64, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:267 +0xa66
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestSnapshotUnreliableRecoverConcurrentPartition2C(0x4118d9)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:521 +0x45
testing.tRunner(0xc000083380, 0xb10cd8)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	21.058s
FAIL
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestBasic2B (26.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	26.042s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestConcurrent2B (39.53s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.566s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestUnreliable2B (38.61s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.664s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestOnePartition2B (4.52s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.566s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsOneClient2B (24.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.457s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsManyClients2B (29.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.166s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:15:44.252592 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:15:44.764827 test_test.go:264: [0;33m[warning] restart servers
[0m
119 5 6 6 119
119 5 6 6 119
119 5 6 6 119
119 5 6 6 119
119 5 6 6 119
2022/08/03 11:15:53.096088 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:15:53.634359 test_test.go:264: [0;33m[warning] restart servers
[0m
290 5 6 6 290
290 5 6 6 290
290 5 6 6 290
290 5 6 6 290
290 5 6 6 290
2022/08/03 11:16:01.370638 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:16:01.882500 test_test.go:264: [0;33m[warning] restart servers
[0m
454 5 6 6 454
454 5 6 6 454
454 5 6 6 454
454 5 6 6 454
454 5 6 6 454
--- PASS: TestPersistOneClient2B (28.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.737s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:16:13.618086 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:16:14.152788 test_test.go:264: [0;33m[warning] restart servers
[0m
289 5 6 6 289
289 5 6 6 289
289 5 6 6 289
289 5 6 6 289
289 5 6 6 289
2022/08/03 11:16:25.708269 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:16:26.271567 test_test.go:264: [0;33m[warning] restart servers
[0m
700 5 6 6 700
700 5 6 6 700
700 5 6 6 700
700 5 6 6 700
700 5 6 6 700
2022/08/03 11:16:36.591786 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:16:37.148097 test_test.go:264: [0;33m[warning] restart servers
[0m
1093 5 6 6 1093
1093 5 6 6 1093
1093 5 6 6 1093
1093 5 6 6 1093
1093 5 6 6 1093
--- PASS: TestPersistConcurrent2B (38.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.064s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:16:54.472615 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:16:54.973952 test_test.go:264: [0;33m[warning] restart servers
[0m
225 5 6 6 225
225 5 6 6 225
225 5 6 6 225
225 5 6 6 225
225 5 6 6 225
2022/08/03 11:17:06.437855 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:17:06.939009 test_test.go:264: [0;33m[warning] restart servers
[0m
606 5 6 6 606
606 5 6 6 606
606 5 6 6 606
606 5 6 6 606
606 5 6 6 606
2022/08/03 11:17:19.924231 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:17:20.424607 test_test.go:264: [0;33m[warning] restart servers
[0m
993 5 6 6 993
993 5 6 6 993
993 5 6 6 993
993 5 6 6 993
993 5 6 6 993
--- PASS: TestPersistConcurrentUnreliable2B (41.96s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.037s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:17:37.786814 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:17:38.524725 test_test.go:264: [0;33m[warning] restart servers
[0m
119 5 6 6 119
119 5 6 6 119
118 5 6 6 118
119 5 6 6 119
119 5 6 6 119
2022/08/03 11:17:48.124170 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:17:48.772319 test_test.go:264: [0;33m[warning] restart servers
[0m
263 5 6 6 263
263 5 6 6 263
263 5 6 6 263
263 5 6 6 263
263 5 6 6 263
2022/08/03 11:17:58.032332 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:17:58.567360 test_test.go:264: [0;33m[warning] restart servers
[0m
434 5 6 6 434
434 5 6 6 434
434 5 6 6 434
434 5 6 6 434
434 5 6 6 434
--- PASS: TestPersistPartition2B (35.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.331s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:18:13.719121 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:18:14.541844 test_test.go:264: [0;33m[warning] restart servers
[0m
186 5 6 6 186
186 5 6 6 186
186 5 6 6 186
186 5 6 6 186
186 5 6 6 186
2022/08/03 11:18:27.602120 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:18:28.165052 test_test.go:264: [0;33m[warning] restart servers
[0m
349 5 6 6 349
349 5 6 6 349
349 5 6 6 349
349 5 6 6 349
349 5 6 6 349
2022/08/03 11:18:38.454917 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:18:40.042574 test_test.go:264: [0;33m[warning] restart servers
[0m
501 5 6 6 501
493 5 6 6 493
501 5 6 6 501
501 5 6 6 501
501 5 6 6 501
--- PASS: TestPersistPartitionUnreliable2B (39.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.061s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
27 27 28 28 27
--- PASS: TestOneSnapshot2C (6.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	6.764s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:19:02.617857 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:19:03.140919 test_test.go:264: [0;33m[warning] restart servers
[0m
88 5 6 6 88
88 5 6 6 88
88 5 6 6 88
88 5 6 6 88
88 5 6 6 88
2022/08/03 11:19:11.627201 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:19:12.166447 test_test.go:264: [0;33m[warning] restart servers
[0m
227 205 206 206 227
227 205 206 206 227
227 205 206 206 227
227 205 206 206 227
227 205 206 206 227
2022/08/03 11:19:21.506436 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:19:22.023758 test_test.go:264: [0;33m[warning] restart servers
[0m
383 305 306 306 383
383 305 306 306 383
383 305 306 306 383
383 305 306 306 383
383 305 306 306 383
--- PASS: TestSnapshotRecover2C (33.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.164s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:19:35.998919 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:19:36.555816 test_test.go:264: [0;33m[warning] restart servers
[0m
415 339 340 340 415
415 339 340 340 415
415 339 340 340 415
415 339 340 340 415
415 339 340 340 415
2022/08/03 11:19:54.020483 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:19:54.618489 test_test.go:264: [0;33m[warning] restart servers
[0m
1043 1003 1004 1004 1043
1043 1003 1004 1004 1043
1043 1003 1004 1004 1043
1043 1003 1004 1004 1043
1043 1003 1004 1004 1043
2022/08/03 11:20:11.458166 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:20:12.068677 test_test.go:264: [0;33m[warning] restart servers
[0m
1676 1641 1642 1642 1676
1676 1641 1642 1642 1676
1676 1641 1642 1642 1676
1676 1641 1642 1642 1676
1676 1641 1642 1642 1676
--- PASS: TestSnapshotRecoverManyClients2C (57.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	57.848s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestSnapshotUnreliable2C (40.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.364s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:21:17.102440 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:21:17.603523 test_test.go:264: [0;33m[warning] restart servers
[0m
257 213 214 214 257
257 213 214 214 257
257 213 214 214 257
257 213 214 214 257
257 213 214 214 257
2022/08/03 11:21:31.198797 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:21:31.699679 test_test.go:264: [0;33m[warning] restart servers
[0m
631 616 617 617 631
631 616 617 617 631
631 616 617 617 631
631 616 617 617 631
631 616 617 617 631
2022/08/03 11:21:45.538363 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:21:46.038602 test_test.go:264: [0;33m[warning] restart servers
[0m
1034 1026 1027 1027 1034
1034 1033 1034 1034 1034
1034 1026 1027 1027 1034
1034 1026 1027 1027 1034
1034 1026 1027 1027 1034
--- PASS: TestSnapshotUnreliableRecover2C (45.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.783s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:22:04.089600 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:22:04.634418 test_test.go:264: [0;33m[warning] restart servers
[0m
118 110 111 111 118
118 110 111 111 118
118 113 114 114 118
118 110 111 111 118
118 112 113 113 118
2022/08/03 11:22:15.136656 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:22:15.138017 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:22:15.138078 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:22:15.139427 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:22:15.140882 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:22:15.451374 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:22:15.979266 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:22:15 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore4039163332/kv/00000001.sst: open /tmp/test-raftstore4039163332/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:22:15 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2693369682/kv/00000001.sst: open /tmp/test-raftstore2693369682/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:22:15 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3336389174/kv/00000005.sst: open /tmp/test-raftstore3336389174/kv/00000005.sst: no such file or directory[0m
2022/08/03 11:22:15 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3710612087/kv/00000001.sst: open /tmp/test-raftstore3710612087/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:22:15 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2159215041/kv/00000003.sst: open /tmp/test-raftstore2159215041/kv/00000003.sst: permission denied[0m
--- FAIL: TestSnapshotUnreliableRecoverConcurrentPartition2C (20.79s)
panic: mkdir /tmp/test-raftstore2159215041/snap: permission denied [recovered]
	panic: mkdir /tmp/test-raftstore2159215041/snap: permission denied

goroutine 52 [running]:
testing.tRunner.func1.2({0xa56a20, 0xc1fd344a98})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa56a20, 0xc1fd344a98})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).StartServer(0xc0000b53e0, 0xc1d6563a00)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:172 +0x7a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest(0xc00008b520, {0xada86e, 0x2}, 0x5, 0x1, 0x1, 0x1, 0x64, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:267 +0xa66
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestSnapshotUnreliableRecoverConcurrentPartition2C(0x4118d9)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:521 +0x45
testing.tRunner(0xc00008b520, 0xb10d40)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	20.914s
FAIL
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.010s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestBasic2B (23.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	23.700s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:23:03.194728 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.195368 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.195402 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.195407 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.195436 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.695710 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.695732 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.695739 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.695725 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:03.695723 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.194686 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.195780 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.195804 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.195791 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.195811 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.695112 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.695134 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.695150 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.696259 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:04.696274 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.194981 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.194992 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.196070 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.196078 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.196097 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.694657 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.695691 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.695724 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.695737 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:05.695745 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.195484 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.195485 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.195501 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.195496 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.195510 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.695216 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.695250 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.695214 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.695282 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:06.696380 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.195535 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.195534 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.195559 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.195582 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.195603 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.695311 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.695435 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.695455 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.695493 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:07.695535 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.194773 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.195858 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.195871 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.195865 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.195882 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.694727 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.695023 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.695136 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.695783 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:08.695861 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.195318 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.195318 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.195325 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.195363 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.195388 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.694988 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.694996 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.696058 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.696078 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:09.696088 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.194716 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.195848 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.195854 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.195861 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.195875 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.694680 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.695745 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.695774 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.695791 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:10.695816 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.195500 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.195500 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.195528 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.195535 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.195541 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.694697 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.695776 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.695788 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.695797 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:11.695804 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.195375 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.195397 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.195414 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.195413 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.195429 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.695086 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.695123 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.695124 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.696191 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:12.696195 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.195235 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.195262 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.195283 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.195283 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.196352 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.694838 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.695893 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.695950 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.695960 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:13.695952 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.194952 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.194950 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.196027 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.196060 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.196068 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.695488 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.695513 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.695522 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.695530 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:14.695537 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.195276 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.195303 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.195320 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.195317 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.195393 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.695502 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.695504 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.695523 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.695527 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:15.695548 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:16.195130 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:16.195151 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:16.195161 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:16.196221 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:16.196232 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:23:16 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2928679862/kv/00000001.sst: open /tmp/test-raftstore2928679862/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:23:16 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3420121833/kv/00000001.sst: open /tmp/test-raftstore3420121833/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:23:16 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3889703767/kv/00000001.sst: open /tmp/test-raftstore3889703767/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:23:16 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore917821193/kv/00000001.sst: open /tmp/test-raftstore917821193/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:23:16 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1116527566/kv/00000001.sst: open /tmp/test-raftstore1116527566/kv/00000001.sst: no such file or directory[0m
--- PASS: TestConcurrent2B (34.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.432s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestUnreliable2B (40.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.089s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestOnePartition2B (5.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.923s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsOneClient2B (25.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.084s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsManyClients2B (31.18s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.212s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:25:13.302090 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:25:13.835187 test_test.go:264: [0;33m[warning] restart servers
[0m
128 5 6 6 128
128 5 6 6 128
128 5 6 6 128
128 5 6 6 128
128 5 6 6 128
2022/08/03 11:25:22.289801 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:25:22.822040 test_test.go:264: [0;33m[warning] restart servers
[0m
319 5 6 6 319
319 5 6 6 319
319 5 6 6 319
319 5 6 6 319
319 5 6 6 319
2022/08/03 11:25:31.198991 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:25:31.715543 test_test.go:264: [0;33m[warning] restart servers
[0m
462 5 6 6 462
462 5 6 6 462
462 5 6 6 462
462 5 6 6 462
462 5 6 6 462
--- PASS: TestPersistOneClient2B (29.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.363s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:25:44.080172 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:25:44.628472 test_test.go:264: [0;33m[warning] restart servers
[0m
308 5 6 6 308
308 5 6 6 308
308 5 6 6 308
308 5 6 6 308
308 5 6 6 308
2022/08/03 11:25:56.994127 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:25:57.542247 test_test.go:264: [0;33m[warning] restart servers
[0m
784 5 6 6 784
784 5 6 6 784
784 5 6 6 784
784 5 6 6 784
784 5 6 6 784
2022/08/03 11:26:09.179533 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:26:09.708193 test_test.go:264: [0;33m[warning] restart servers
[0m
1242 5 6 6 1242
1242 5 6 6 1242
1242 5 6 6 1242
1242 5 6 6 1242
1242 5 6 6 1242
--- PASS: TestPersistConcurrent2B (41.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.749s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:26:28.087819 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:26:28.610705 test_test.go:264: [0;33m[warning] restart servers
[0m
268 5 6 6 268
268 5 6 6 268
268 5 6 6 268
268 5 6 6 268
268 5 6 6 268
2022/08/03 11:26:41.538220 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:26:42.038991 test_test.go:264: [0;33m[warning] restart servers
[0m
666 5 6 6 666
666 5 6 6 666
666 5 6 6 666
666 5 6 6 666
666 5 6 6 666
2022/08/03 11:26:53.907262 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:26:54.407714 test_test.go:264: [0;33m[warning] restart servers
[0m
1060 5 6 6 1060
1060 5 6 6 1060
1060 5 6 6 1060
1060 5 6 6 1060
1060 5 6 6 1060
--- PASS: TestPersistConcurrentUnreliable2B (42.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.657s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:27:12.308022 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:27:13.196956 test_test.go:264: [0;33m[warning] restart servers
[0m
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
2022/08/03 11:27:22.313649 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:27:22.847460 test_test.go:264: [0;33m[warning] restart servers
[0m
274 5 6 6 274
274 5 6 6 274
274 5 6 6 274
274 5 6 6 274
274 5 6 6 274
2022/08/03 11:27:31.746291 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:27:32.246446 test_test.go:264: [0;33m[warning] restart servers
[0m
426 5 6 6 426
426 5 6 6 426
426 5 6 6 426
426 5 6 6 426
426 5 6 6 426
--- PASS: TestPersistPartition2B (33.03s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.134s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:27:47.155548 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:27:48.790923 test_test.go:264: [0;33m[warning] restart servers
[0m
205 5 6 6 205
205 5 6 6 205
205 5 6 6 205
205 5 6 6 205
203 5 6 6 203
2022/08/03 11:28:00.366956 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:28:01.361665 test_test.go:264: [0;33m[warning] restart servers
[0m
426 5 6 6 426
426 5 6 6 426
425 5 6 6 425
427 5 6 6 427
427 5 6 6 427
2022/08/03 11:28:11.818289 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:28:12.360723 test_test.go:264: [0;33m[warning] restart servers
[0m
608 5 6 6 608
608 5 6 6 608
608 5 6 6 608
608 5 6 6 608
608 5 6 6 608
--- PASS: TestPersistPartitionUnreliable2B (37.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.826s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.003s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
27 27 28 28 27
--- PASS: TestOneSnapshot2C (4.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.087s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:28:30.113372 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:28:30.641386 test_test.go:264: [0;33m[warning] restart servers
[0m
114 105 106 106 114
114 105 106 106 114
114 105 106 106 114
114 105 106 106 114
114 105 106 106 114
2022/08/03 11:28:39.422077 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:28:39.960908 test_test.go:264: [0;33m[warning] restart servers
[0m
251 206 207 207 251
251 206 207 207 251
251 206 207 207 251
251 206 207 207 251
251 206 207 207 251
2022/08/03 11:28:50.774296 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:28:51.291253 test_test.go:264: [0;33m[warning] restart servers
[0m
360 306 307 307 360
360 306 307 307 360
360 306 307 307 360
360 306 307 307 360
360 306 307 307 360
--- PASS: TestSnapshotRecover2C (32.64s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.689s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:29:02.645943 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:02.647008 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:02.647013 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:02.647024 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:02.647038 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.146167 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.146230 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.147285 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.147682 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.147784 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.646331 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.646331 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.646797 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.646819 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:03.647031 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.146030 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.147147 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.147180 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.147211 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.147217 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.646192 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.646267 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.647385 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.647394 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:04.647405 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:05.146838 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:05.146870 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:05.146879 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:05.146883 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:05.147956 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:29:05.481558 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:29:06.051600 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:29:06 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore4239057236/kv/00000001.sst: open /tmp/test-raftstore4239057236/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:29:06 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2964493709/kv/00000001.sst: open /tmp/test-raftstore2964493709/kv/00000001.sst: permission denied[0m
2022/08/03 11:29:06 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2952205202/kv/00000001.sst: open /tmp/test-raftstore2952205202/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:29:06 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore690898543/kv/00000001.sst: open /tmp/test-raftstore690898543/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:29:06 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore560298412/kv/00000001.sst: open /tmp/test-raftstore560298412/kv/00000001.sst: no such file or directory[0m
--- FAIL: TestSnapshotRecoverManyClients2C (8.47s)
panic: mkdir /tmp/test-raftstore2964493709/snap: permission denied [recovered]
	panic: mkdir /tmp/test-raftstore2964493709/snap: permission denied

goroutine 27 [running]:
testing.tRunner.func1.2({0xa56a20, 0xc17d62ee10})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa56a20, 0xc17d62ee10})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).StartServer(0xc0000b5080, 0xc17c8924b0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:172 +0x7a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest(0xc00008b1e0, {0xada86e, 0x2}, 0x14, 0x0, 0x1, 0x0, 0x64, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:267 +0xa66
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestSnapshotRecoverManyClients2C(0x4118d9)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:506 +0x45
testing.tRunner(0xc00008b1e0, 0xb10d28)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	8.495s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestSnapshotUnreliable2C (39.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.244s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:29:56.414238 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:29:56.918085 test_test.go:264: [0;33m[warning] restart servers
[0m
274 210 211 211 274
274 210 211 211 274
274 210 211 211 274
274 210 211 211 274
274 210 211 211 274
2022/08/03 11:30:11.202980 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:30:11.703062 test_test.go:264: [0;33m[warning] restart servers
[0m
694 617 618 618 694
694 617 618 618 694
694 617 618 618 694
694 617 618 618 694
694 617 618 618 694
2022/08/03 11:30:25.569673 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:30:26.070029 test_test.go:264: [0;33m[warning] restart servers
[0m
1099 1024 1025 1025 1099
1099 1024 1025 1025 1099
1099 1024 1025 1025 1099
1099 1024 1025 1025 1099
1099 1024 1025 1025 1099
--- PASS: TestSnapshotUnreliableRecover2C (47.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	47.443s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:30:44.746856 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:30:45.294151 test_test.go:264: [0;33m[warning] restart servers
[0m
143 138 139 139 143
143 108 109 109 143
143 108 109 109 143
143 108 109 109 143
143 138 139 139 143
2022/08/03 11:30:55.776759 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:30:56.277431 test_test.go:264: [0;33m[warning] restart servers
[0m
272 232 233 233 272
272 232 233 233 272
272 232 233 233 272
272 232 233 233 272
272 232 233 233 272
2022/08/03 11:31:05.610164 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:31:06.110407 test_test.go:264: [0;33m[warning] restart servers
[0m
392 335 336 336 392
392 354 355 355 392
392 335 336 336 392
392 335 336 336 392
392 354 355 355 392
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.840s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.016s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestBasic2B (25.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.392s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestConcurrent2B (37.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.947s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:32:46.479142 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.479801 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.480898 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.480908 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.480916 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.979497 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.979505 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.980575 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.980590 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:46.981648 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.479270 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.480456 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.480474 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.480541 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.481666 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.979536 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.979675 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.979921 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.980922 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:47.980951 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.479474 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.479568 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.480613 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.480722 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.480750 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.978942 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.980169 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.980213 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.980791 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:48.980823 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.479578 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.479639 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.480839 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.480906 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.480878 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.979871 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.979924 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.979933 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.981156 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:49.981194 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.478945 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.480234 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.480329 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.480354 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.481379 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.979121 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.980302 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.980355 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.980384 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:50.981503 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.479248 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.479412 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.479994 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.480991 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.481051 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.979309 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.979392 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.980476 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.980580 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:51.981720 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.478959 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.480156 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.480255 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.481337 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.481316 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.979103 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.980211 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.980222 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.981332 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:52.981467 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.479641 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.479745 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.480577 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.480664 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.480737 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.978941 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.980294 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.980360 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.980387 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:53.981520 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.479350 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.479463 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.480504 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.480579 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.481718 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.978920 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.980009 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.980034 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.981207 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:54.981281 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.479203 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.480381 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.480441 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.480469 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.481607 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.979275 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.980444 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.980477 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.980534 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:55.981391 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.479391 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.479419 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.480488 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.480492 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.481583 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.979000 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.980177 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.980194 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.981252 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:56.981254 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:32:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1722846613/kv/00000001.sst: open /tmp/test-raftstore1722846613/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:32:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1946359909/kv/00000001.sst: open /tmp/test-raftstore1946359909/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:32:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3345766171/kv/00000001.sst: open /tmp/test-raftstore3345766171/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:32:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore4004297744/kv/00000001.sst: open /tmp/test-raftstore4004297744/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:32:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore795289486/kv/00000001.sst: open /tmp/test-raftstore795289486/kv/00000001.sst: no such file or directory[0m
--- PASS: TestUnreliable2B (38.40s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.450s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestOnePartition2B (5.07s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.109s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsOneClient2B (25.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.470s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsManyClients2B (32.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.384s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:34:12.151323 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:34:12.696308 test_test.go:264: [0;33m[warning] restart servers
[0m
42 5 6 6 42
42 5 6 6 42
42 5 6 6 42
42 5 6 6 42
42 5 6 6 42
2022/08/03 11:34:19.627090 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:34:20.154824 test_test.go:264: [0;33m[warning] restart servers
[0m
133 5 6 6 133
133 5 6 6 133
133 5 6 6 133
133 5 6 6 133
133 5 6 6 133
2022/08/03 11:34:28.680012 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:34:29.219385 test_test.go:264: [0;33m[warning] restart servers
[0m
260 5 6 6 260
260 5 6 6 260
260 5 6 6 260
260 5 6 6 260
260 5 6 6 260
--- PASS: TestPersistOneClient2B (30.98s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.061s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:34:42.615825 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:34:43.162403 test_test.go:264: [0;33m[warning] restart servers
[0m
270 5 6 6 270
270 5 6 6 270
270 5 6 6 270
270 5 6 6 270
270 5 6 6 270
2022/08/03 11:34:54.801739 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:34:55.330252 test_test.go:264: [0;33m[warning] restart servers
[0m
695 5 6 6 695
695 5 6 6 695
695 5 6 6 695
695 5 6 6 695
695 5 6 6 695
2022/08/03 11:35:08.107320 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:35:08.649983 test_test.go:264: [0;33m[warning] restart servers
[0m
1160 5 6 6 1160
1161 5 6 6 1161
1161 5 6 6 1161
1161 5 6 6 1161
1161 5 6 6 1161
--- PASS: TestPersistConcurrent2B (42.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.137s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:35:26.701637 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:35:27.211848 test_test.go:264: [0;33m[warning] restart servers
[0m
266 5 6 6 266
266 5 6 6 266
266 5 6 6 266
266 5 6 6 266
266 5 6 6 266
2022/08/03 11:35:40.498905 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:35:41.032738 test_test.go:264: [0;33m[warning] restart servers
[0m
632 5 6 6 632
632 5 6 6 632
632 5 6 6 632
632 5 6 6 632
632 5 6 6 632
2022/08/03 11:35:53.435696 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:35:53.936488 test_test.go:264: [0;33m[warning] restart servers
[0m
936 5 6 6 936
936 5 6 6 936
936 5 6 6 936
936 5 6 6 936
936 5 6 6 936
--- PASS: TestPersistConcurrentUnreliable2B (42.51s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	42.610s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:36:09.987137 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:36:10.698253 test_test.go:264: [0;33m[warning] restart servers
[0m
108 5 6 6 108
129 5 6 6 129
129 5 6 6 129
129 5 6 6 129
129 5 6 6 129
2022/08/03 11:36:20.215594 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:36:20.716632 test_test.go:264: [0;33m[warning] restart servers
[0m
335 5 6 6 335
335 5 6 6 335
335 5 6 6 335
335 5 6 6 335
335 5 6 6 335
2022/08/03 11:36:31.510056 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:36:32.113563 test_test.go:264: [0;33m[warning] restart servers
[0m
509 5 6 6 509
585 5 6 6 585
585 5 6 6 585
581 5 6 6 581
585 5 6 6 585
--- PASS: TestPersistPartition2B (38.06s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.129s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:36:49.212228 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:36:49.713325 test_test.go:264: [0;33m[warning] restart servers
[0m
120 5 6 6 120
120 5 6 6 120
134 5 6 6 134
134 5 6 6 134
134 5 6 6 134
2022/08/03 11:37:00.313852 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:37:00.847595 test_test.go:264: [0;33m[warning] restart servers
[0m
290 5 6 6 290
290 5 6 6 290
290 5 6 6 290
290 5 6 6 290
290 5 6 6 290
2022/08/03 11:37:09.601145 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:37:10.102030 test_test.go:264: [0;33m[warning] restart servers
[0m
423 5 6 6 423
423 5 6 6 423
423 5 6 6 423
423 5 6 6 423
423 5 6 6 423
--- PASS: TestPersistPartitionUnreliable2B (34.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.327s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
28 28 29 29 28
--- PASS: TestOneSnapshot2C (4.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.875s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:37:29.240079 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:37:29.859675 test_test.go:264: [0;33m[warning] restart servers
[0m
106 5 6 6 106
106 5 6 6 106
106 5 6 6 106
107 105 106 106 107
107 105 106 106 107
2022/08/03 11:37:38.829921 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:37:39.348387 test_test.go:264: [0;33m[warning] restart servers
[0m
258 206 207 207 258
258 206 207 207 258
258 206 207 207 258
258 206 207 207 258
258 206 207 207 258
2022/08/03 11:37:48.489508 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:37:49.023990 test_test.go:264: [0;33m[warning] restart servers
[0m
411 407 408 408 411
411 407 408 408 411
411 407 408 408 411
411 407 408 408 411
411 407 408 408 411
--- PASS: TestSnapshotRecover2C (33.28s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.393s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:38:03.565376 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:38:04.194796 test_test.go:264: [0;33m[warning] restart servers
[0m
403 351 352 352 403
407 351 352 352 407
407 351 352 352 407
407 351 352 352 407
407 351 352 352 407
2022/08/03 11:38:22.170278 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:38:22.735514 test_test.go:264: [0;33m[warning] restart servers
[0m
1071 1009 1010 1010 1071
1071 1009 1010 1010 1071
1071 1009 1010 1010 1071
1071 1009 1010 1010 1071
1071 1009 1010 1010 1071
2022/08/03 11:38:38.237587 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.238610 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.239687 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.239693 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.240763 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.737194 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.738246 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.739313 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.740367 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:38.740378 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:39.237238 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:39.237695 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:39.239377 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:39.240474 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:39.240466 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:38:39.521580 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:38:40.118738 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:38:40 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore385320436/kv/00000001.sst: open /tmp/test-raftstore385320436/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:38:40 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3135483752/kv/00000001.sst: open /tmp/test-raftstore3135483752/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:38:40 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2535436691/kv/00000001.sst: open /tmp/test-raftstore2535436691/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:38:40 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3442418746/kv/00000001.sst: open /tmp/test-raftstore3442418746/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:38:40 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore457236774/kv/00000001.sst: open /tmp/test-raftstore457236774/kv/00000001.sst: permission denied[0m
--- FAIL: TestSnapshotRecoverManyClients2C (44.14s)
panic: mkdir /tmp/test-raftstore457236774/snap: permission denied [recovered]
	panic: mkdir /tmp/test-raftstore457236774/snap: permission denied

goroutine 44 [running]:
testing.tRunner.func1.2({0xa56a20, 0xc197700138})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa56a20, 0xc197700138})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).StartServer(0xc000181140, 0xc1967352c0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:172 +0x7a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest(0xc000185380, {0xada86e, 0x2}, 0x14, 0x0, 0x1, 0x0, 0x64, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:267 +0xa66
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestSnapshotRecoverManyClients2C(0x4118d9)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:506 +0x45
testing.tRunner(0xc000185380, 0xb10d28)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	44.218s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestSnapshotUnreliable2C (41.86s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.905s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:39:33.228221 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:39:34.193862 test_test.go:264: [0;33m[warning] restart servers
[0m
235 217 218 218 235
235 217 218 218 235
235 217 218 218 235
235 217 218 218 235
235 217 218 218 235
2022/08/03 11:39:48.836533 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:39:49.657430 test_test.go:264: [0;33m[warning] restart servers
[0m
488 421 422 422 488
488 421 422 422 488
488 421 422 422 488
488 421 422 422 488
488 421 422 422 488
2022/08/03 11:40:03.029894 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:40:03.530517 test_test.go:264: [0;33m[warning] restart servers
[0m
818 729 730 730 818
818 729 730 730 818
818 729 730 730 818
818 729 730 730 818
818 729 730 730 818
--- PASS: TestSnapshotUnreliableRecover2C (49.11s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	49.229s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:40:22.567548 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:40:23.068275 test_test.go:264: [0;33m[warning] restart servers
[0m
153 105 106 106 153
178 125 126 126 178
178 105 106 106 178
178 105 106 106 178
178 105 106 106 178
2022/08/03 11:40:35.765099 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:40:36.296844 test_test.go:264: [0;33m[warning] restart servers
[0m
364 306 307 307 364
364 306 307 307 364
359 359 360 360 359
364 306 307 307 364
364 306 307 307 364
2022/08/03 11:40:46.196052 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:40:46.696977 test_test.go:264: [0;33m[warning] restart servers
[0m
497 406 407 407 497
497 406 407 407 497
497 406 407 407 497
497 406 407 407 497
497 406 407 407 497
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (37.95s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.045s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:40:56.429942 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.429951 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.429962 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.430129 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.430205 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.930045 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.930045 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.930067 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.930070 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:56.931194 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.429431 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.430678 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.430699 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.430719 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.430720 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.930257 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.930306 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.930304 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.930327 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:57.930377 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.430189 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.430259 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.430262 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.430290 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.430295 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.929535 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.929711 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.929921 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.931122 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:58.931221 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.430084 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.430100 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.430138 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.430178 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.430177 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.929448 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.929678 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.930595 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.930701 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:40:59.930730 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.429739 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.429810 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.429860 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.431011 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.431109 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.929472 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.929873 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.929880 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.930956 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:00.930973 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.429998 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.430002 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.430016 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.430025 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.431098 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.929924 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.929937 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.929924 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.930087 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:01.930190 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.429946 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.429935 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.429965 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.430077 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.431073 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.929409 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.930573 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.930627 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.930654 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:02.930669 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.429696 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.429696 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.429951 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.430047 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.431344 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.929400 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.930286 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.930342 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.930312 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:03.930406 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.430096 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.430139 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.430105 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.430194 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.430217 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.930319 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.930469 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.930486 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.930507 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:04.930522 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.430096 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.430123 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.430140 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.430171 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.430213 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.929744 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.929804 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.929863 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.930884 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:05.930881 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.430187 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.430272 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.430257 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.430305 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.430343 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.929445 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.930594 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.930609 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.930640 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:06.930669 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.430072 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.430159 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.430207 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.430301 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.430418 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.929537 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.930613 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.930675 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.930683 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:07.930689 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.429895 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.429908 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.429905 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.431050 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.431058 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.930276 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.930345 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.930355 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.930372 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:08.930355 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.430335 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.430376 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.430329 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.430441 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.430448 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.929404 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.929678 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.930662 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.930716 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:09.930743 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.429691 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.429787 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.429884 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.430883 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.430941 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.929456 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.930529 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.930530 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.930543 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:10.930547 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.429733 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.429789 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.429856 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.430914 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.430960 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.929976 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.929998 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.930037 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.930087 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:11.931234 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.429550 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.429632 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.429939 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.431064 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.431104 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.929689 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.929723 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.930853 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.930870 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:12.930876 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.429959 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.430026 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.430039 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.430088 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.431176 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.929786 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.929848 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.929879 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.930143 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:13.930200 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.430083 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.430158 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.430178 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.430197 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.430244 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.929956 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.930009 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.930062 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.930062 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:14.931169 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.430356 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.430373 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.430405 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.430404 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.430439 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.929812 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.929892 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.929892 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.930094 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:15.930209 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.430008 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.430074 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.430107 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.430168 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.430173 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.929397 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.930478 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.930481 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.930485 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:16.930496 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:41:17 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3891550301/kv/00000001.sst: open /tmp/test-raftstore3891550301/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:41:17 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3308384306/kv/00000001.sst: open /tmp/test-raftstore3308384306/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:41:17 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3207504071/kv/00000001.sst: open /tmp/test-raftstore3207504071/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:41:17 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3884872786/kv/00000001.sst: open /tmp/test-raftstore3884872786/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:41:17 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore9638128/kv/00000001.sst: open /tmp/test-raftstore9638128/kv/00000001.sst: no such file or directory[0m
--- PASS: TestBasic2B (24.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.129s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestConcurrent2B (38.30s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.342s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:42:26.484556 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.485648 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.486827 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.486901 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.487965 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.985002 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.986051 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.986067 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.987132 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:26.988198 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.484808 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.485892 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.485991 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.487178 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.487550 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.984676 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.986001 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.986117 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.986965 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:27.988225 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.484471 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.485564 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.486704 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.486752 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.487856 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.984465 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.985529 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.986609 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.986682 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:28.987704 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.485224 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.485224 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.486413 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.486762 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.487554 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.984671 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.985938 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.986036 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.987216 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:29.988358 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.484496 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.485245 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.486714 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.486760 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.487892 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.984748 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.985918 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.985935 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.987073 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:30.988223 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:42:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1808468629/kv/00000001.sst: open /tmp/test-raftstore1808468629/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:42:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2656764581/kv/00000001.sst: open /tmp/test-raftstore2656764581/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:42:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1210593273/kv/00000001.sst: open /tmp/test-raftstore1210593273/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:42:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1214894536/kv/00000001.sst: open /tmp/test-raftstore1214894536/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:42:31 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3665759519/kv/00000001.sst: open /tmp/test-raftstore3665759519/kv/00000001.sst: no such file or directory[0m
--- PASS: TestUnreliable2B (34.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.137s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestOnePartition2B (5.01s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.031s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsOneClient2B (25.73s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.799s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsManyClients2B (31.71s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.786s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:43:44.725177 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:43:45.248143 test_test.go:264: [0;33m[warning] restart servers
[0m
105 5 6 6 105
105 5 6 6 105
105 5 6 6 105
105 5 6 6 105
105 5 6 6 105
2022/08/03 11:43:53.420214 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:43:53.942999 test_test.go:264: [0;33m[warning] restart servers
[0m
259 5 6 6 259
259 5 6 6 259
259 5 6 6 259
259 5 6 6 259
259 5 6 6 259
2022/08/03 11:44:01.930789 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:44:02.464894 test_test.go:264: [0;33m[warning] restart servers
[0m
408 5 6 6 408
408 5 6 6 408
408 5 6 6 408
408 5 6 6 408
408 5 6 6 408
--- PASS: TestPersistOneClient2B (29.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.912s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:44:15.416837 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:44:15.957948 test_test.go:264: [0;33m[warning] restart servers
[0m
278 5 6 6 278
278 5 6 6 278
278 5 6 6 278
278 5 6 6 278
278 5 6 6 278
2022/08/03 11:44:27.841268 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:44:28.375083 test_test.go:264: [0;33m[warning] restart servers
[0m
683 5 6 6 683
684 5 6 6 684
683 5 6 6 683
684 5 6 6 684
684 5 6 6 684
2022/08/03 11:44:40.425871 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:44:40.960069 test_test.go:264: [0;33m[warning] restart servers
[0m
1109 5 6 6 1109
1109 5 6 6 1109
1109 5 6 6 1109
1109 5 6 6 1109
1109 5 6 6 1109
--- PASS: TestPersistConcurrent2B (41.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.818s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:45:00.108464 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:45:00.649797 test_test.go:264: [0;33m[warning] restart servers
[0m
256 5 6 6 256
257 5 6 6 257
257 5 6 6 257
257 5 6 6 257
257 5 6 6 257
2022/08/03 11:45:16.986614 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:45:17.487389 test_test.go:264: [0;33m[warning] restart servers
[0m
506 5 6 6 506
506 5 6 6 506
506 5 6 6 506
506 5 6 6 506
506 5 6 6 506
2022/08/03 11:45:28.411244 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:45:28.918878 test_test.go:264: [0;33m[warning] restart servers
[0m
729 5 6 6 729
729 5 6 6 729
729 5 6 6 729
729 5 6 6 729
729 5 6 6 729
--- PASS: TestPersistConcurrentUnreliable2B (46.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	46.547s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:45:46.643407 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:45:47.165722 test_test.go:264: [0;33m[warning] restart servers
[0m
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
99 5 6 6 99
2022/08/03 11:45:55.784610 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:45:56.537744 test_test.go:264: [0;33m[warning] restart servers
[0m
228 5 6 6 228
228 5 6 6 228
228 5 6 6 228
228 5 6 6 228
228 5 6 6 228
2022/08/03 11:46:05.815337 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:46:07.036316 test_test.go:264: [0;33m[warning] restart servers
[0m
441 5 6 6 441
441 5 6 6 441
441 5 6 6 441
441 5 6 6 441
441 5 6 6 441
--- PASS: TestPersistPartition2B (35.83s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.945s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:46:23.646448 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:46:24.186923 test_test.go:264: [0;33m[warning] restart servers
[0m
141 5 6 6 141
141 5 6 6 141
141 5 6 6 141
141 5 6 6 141
141 5 6 6 141
2022/08/03 11:46:34.632448 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:46:35.174039 test_test.go:264: [0;33m[warning] restart servers
[0m
271 5 6 6 271
271 5 6 6 271
271 5 6 6 271
271 5 6 6 271
271 5 6 6 271
2022/08/03 11:46:43.341653 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:46:44.277717 test_test.go:264: [0;33m[warning] restart servers
[0m
423 5 6 6 423
423 5 6 6 423
423 5 6 6 423
423 5 6 6 423
423 5 6 6 423
--- PASS: TestPersistPartitionUnreliable2B (34.27s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.413s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
28 28 29 29 28
--- PASS: TestOneSnapshot2C (5.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.446s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:47:03.829765 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:47:04.372829 test_test.go:264: [0;33m[warning] restart servers
[0m
101 5 6 6 101
101 5 6 6 101
101 5 6 6 101
101 5 6 6 101
101 5 6 6 101
2022/08/03 11:47:12.890522 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:47:13.421750 test_test.go:264: [0;33m[warning] restart servers
[0m
244 207 208 208 244
244 207 208 208 244
244 207 208 208 244
244 207 208 208 244
244 207 208 208 244
2022/08/03 11:47:22.154579 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:47:22.683665 test_test.go:264: [0;33m[warning] restart servers
[0m
390 308 309 309 390
390 308 309 309 390
390 308 309 309 390
390 308 309 309 390
390 308 309 309 390
--- PASS: TestSnapshotRecover2C (32.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.485s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:47:37.322952 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:47:37.874397 test_test.go:264: [0;33m[warning] restart servers
[0m
409 320 321 321 409
409 320 321 321 409
409 320 321 321 409
409 320 321 321 409
409 320 321 321 409
2022/08/03 11:47:54.112600 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:47:54.668426 test_test.go:264: [0;33m[warning] restart servers
[0m
1038 967 968 968 1038
1038 967 968 968 1038
1038 967 968 968 1038
1038 967 968 968 1038
1038 967 968 968 1038
2022/08/03 11:48:10.933392 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:48:11.572482 test_test.go:264: [0;33m[warning] restart servers
[0m
1652 1638 1639 1639 1652
1652 1638 1639 1639 1652
1652 1638 1639 1639 1652
1652 1638 1639 1639 1652
1652 1638 1639 1639 1652
2022/08/03 11:48:12.074010 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.075003 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.075984 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.076913 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.077904 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.574394 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.575387 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.576559 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.577631 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:12.578723 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.074868 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.075199 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.076730 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.076921 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.078525 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.574522 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.575725 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.576813 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.577969 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:13.578014 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.074835 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.074946 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.077008 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.077095 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.078214 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.574222 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.575313 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.576473 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.577582 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:14.578699 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.074496 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.075647 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.076183 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.077903 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.077955 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.574681 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.575781 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.576320 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.577961 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:15.577979 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.074029 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.075166 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.076229 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.077422 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.078382 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.575001 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.575102 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.576174 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.577443 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:16.578141 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.074533 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.075812 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.076861 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.077033 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.078343 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.574197 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.575317 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.576415 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.577574 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:17.578702 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.074144 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.075199 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.076313 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.077369 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.078451 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.574540 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.575543 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.576623 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.577680 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:18.578744 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.074636 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.075808 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.076932 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.076967 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.077991 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.574210 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.575367 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.576472 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.577669 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:19.578002 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.074271 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.074893 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.076043 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.077235 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.078435 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.574786 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.575162 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.576993 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.577026 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:20.578150 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.074449 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.075544 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.076663 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.077748 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.078861 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.574705 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.575230 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.577002 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.577015 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:21.578190 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.074993 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.075029 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.076167 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.077337 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.078483 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.574368 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.575471 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.576664 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.577176 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22.578333 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:48:22 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore995276623/kv/00000001.sst: open /tmp/test-raftstore995276623/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:48:22 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1288517777/kv/00000001.sst: open /tmp/test-raftstore1288517777/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:48:22 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3457177160/kv/00000001.sst: open /tmp/test-raftstore3457177160/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:48:22 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2495792373/kv/00000001.sst: open /tmp/test-raftstore2495792373/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:48:22 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2266172390/kv/00000001.sst: open /tmp/test-raftstore2266172390/kv/00000001.sst: no such file or directory[0m
--- PASS: TestSnapshotRecoverManyClients2C (53.12s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	53.171s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestSnapshotUnreliable2C (43.36s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.402s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:49:16.408261 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:49:16.908989 test_test.go:264: [0;33m[warning] restart servers
[0m
234 211 212 212 234
234 211 212 212 234
234 211 212 212 234
234 211 212 212 234
234 211 212 212 234
2022/08/03 11:49:29.418312 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:49:29.945387 test_test.go:264: [0;33m[warning] restart servers
[0m
565 519 520 520 565
565 519 520 520 565
565 519 520 520 565
565 519 520 520 565
565 519 520 520 565
2022/08/03 11:49:42.905182 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:49:43.406371 test_test.go:264: [0;33m[warning] restart servers
[0m
923 826 827 827 923
923 826 827 827 923
923 826 827 827 923
923 826 827 827 923
923 826 827 827 923
--- PASS: TestSnapshotUnreliableRecover2C (45.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.540s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:50:03.139117 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:50:03.679930 test_test.go:264: [0;33m[warning] restart servers
[0m
2022/08/03 11:50:03 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore695581131/kv/00000001.sst: open /tmp/test-raftstore695581131/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:50:03 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3712540308/kv/00000001.sst: open /tmp/test-raftstore3712540308/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:50:03 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1386076743/kv/00000001.sst: open /tmp/test-raftstore1386076743/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:50:03 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore973796027/kv/00000001.sst: open /tmp/test-raftstore973796027/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:50:03 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2742320406/kv/00000001.sst: open /tmp/test-raftstore2742320406/kv/00000001.sst: permission denied[0m
--- FAIL: TestSnapshotUnreliableRecoverConcurrentPartition2C (9.47s)
panic: mkdir /tmp/test-raftstore2742320406/snap: permission denied [recovered]
	panic: mkdir /tmp/test-raftstore2742320406/snap: permission denied

goroutine 46 [running]:
testing.tRunner.func1.2({0xa56a20, 0xc195f4b1a0})
	/usr/local/go/src/testing/testing.go:1209 +0x24e
testing.tRunner.func1()
	/usr/local/go/src/testing/testing.go:1212 +0x218
panic({0xa56a20, 0xc195f4b1a0})
	/usr/local/go/src/runtime/panic.go:1038 +0x215
github.com/pingcap-incubator/tinykv/kv/test_raftstore.(*Cluster).StartServer(0xc0001851a0, 0xc0d5f015c0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/cluster.go:172 +0x7a
github.com/pingcap-incubator/tinykv/kv/test_raftstore.GenericTest(0xc00018b040, {0xada86e, 0x2}, 0x5, 0x1, 0x1, 0x1, 0x64, 0x0, 0x0)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:267 +0xa66
github.com/pingcap-incubator/tinykv/kv/test_raftstore.TestSnapshotUnreliableRecoverConcurrentPartition2C(0x4118d9)
	/home/bunny/go/tinyserver/tinykv/kv/test_raftstore/test_test.go:521 +0x45
testing.tRunner(0xc00018b040, 0xb10d40)
	/usr/local/go/src/testing/testing.go:1259 +0x102
created by testing.(*T).Run
	/usr/local/go/src/testing/testing.go:1306 +0x35a
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	9.517s
FAIL
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestBasic2B (28.02s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	28.035s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestConcurrent2B (37.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.669s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestUnreliable2B (38.97s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.014s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
2022/08/03 11:51:52.768675 log.go:124: [0;31m[fatal] [rename /tmp/test-raftstore4122821373/kv/MANIFEST-REWRITE /tmp/test-raftstore4122821373/kv/MANIFEST: no such file or directory]
[0m
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	1.025s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsOneClient2B (25.81s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.858s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsManyClients2B (31.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.531s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:52:59.936822 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:53:00.476373 test_test.go:264: [0;33m[warning] restart servers
[0m
105 5 6 6 105
105 5 6 6 105
105 5 6 6 105
105 5 6 6 105
105 5 6 6 105
2022/08/03 11:53:08.597435 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:53:09.141608 test_test.go:264: [0;33m[warning] restart servers
[0m
269 5 6 6 269
269 5 6 6 269
269 5 6 6 269
269 5 6 6 269
269 5 6 6 269
2022/08/03 11:53:17.352341 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:53:17.891573 test_test.go:264: [0;33m[warning] restart servers
[0m
428 5 6 6 428
428 5 6 6 428
428 5 6 6 428
428 5 6 6 428
428 5 6 6 428
--- PASS: TestPersistOneClient2B (29.77s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	29.826s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:53:30.554130 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:53:31.090992 test_test.go:264: [0;33m[warning] restart servers
[0m
286 5 6 6 286
284 5 6 6 284
286 5 6 6 286
286 5 6 6 286
286 5 6 6 286
2022/08/03 11:53:43.563533 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:53:44.130331 test_test.go:264: [0;33m[warning] restart servers
[0m
714 5 6 6 714
714 5 6 6 714
714 5 6 6 714
714 5 6 6 714
714 5 6 6 714
2022/08/03 11:53:55.688084 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:53:56.233073 test_test.go:264: [0;33m[warning] restart servers
[0m
1121 5 6 6 1121
1122 5 6 6 1122
1122 5 6 6 1122
1122 5 6 6 1122
1122 5 6 6 1122
--- PASS: TestPersistConcurrent2B (41.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.922s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:54:14.826964 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:54:15.368174 test_test.go:264: [0;33m[warning] restart servers
[0m
226 5 6 6 226
226 5 6 6 226
226 5 6 6 226
226 5 6 6 226
226 5 6 6 226
2022/08/03 11:54:27.209610 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:54:27.710632 test_test.go:264: [0;33m[warning] restart servers
[0m
566 5 6 6 566
566 5 6 6 566
566 5 6 6 566
566 5 6 6 566
566 5 6 6 566
2022/08/03 11:54:40.273130 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:54:40.792739 test_test.go:264: [0;33m[warning] restart servers
[0m
925 5 6 6 925
925 5 6 6 925
925 5 6 6 925
925 5 6 6 925
925 5 6 6 925
--- PASS: TestPersistConcurrentUnreliable2B (43.21s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.293s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:54:59.078733 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:54:59.613814 test_test.go:264: [0;33m[warning] restart servers
[0m
135 5 6 6 135
135 5 6 6 135
135 5 6 6 135
135 5 6 6 135
135 5 6 6 135
2022/08/03 11:55:09.494549 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:55:10.078561 test_test.go:264: [0;33m[warning] restart servers
[0m
320 5 6 6 320
320 5 6 6 320
320 5 6 6 320
320 5 6 6 320
320 5 6 6 320
2022/08/03 11:55:19.933247 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:55:20.511541 test_test.go:264: [0;33m[warning] restart servers
[0m
461 5 6 6 461
461 5 6 6 461
461 5 6 6 461
461 5 6 6 461
461 5 6 6 461
--- PASS: TestPersistPartition2B (35.42s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.563s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:55:34.328370 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:55:34.867837 test_test.go:264: [0;33m[warning] restart servers
[0m
84 5 6 6 84
84 5 6 6 84
84 5 6 6 84
84 5 6 6 84
84 5 6 6 84
2022/08/03 11:55:43.154203 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:55:44.328607 test_test.go:264: [0;33m[warning] restart servers
[0m
231 5 6 6 231
231 5 6 6 231
231 5 6 6 231
231 5 6 6 231
231 5 6 6 231
2022/08/03 11:55:53.563727 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:55:54.786339 test_test.go:264: [0;33m[warning] restart servers
[0m
378 5 6 6 378
378 5 6 6 378
378 5 6 6 378
378 5 6 6 378
378 5 6 6 378
--- PASS: TestPersistPartitionUnreliable2B (33.41s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.529s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.003s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
27 27 28 28 27
--- PASS: TestOneSnapshot2C (7.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	7.215s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:56:17.296898 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:56:17.835382 test_test.go:264: [0;33m[warning] restart servers
[0m
82 5 6 6 82
82 5 6 6 82
82 5 6 6 82
82 5 6 6 82
82 5 6 6 82
2022/08/03 11:56:26.225547 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:56:26.754435 test_test.go:264: [0;33m[warning] restart servers
[0m
201 106 107 107 201
201 106 107 107 201
201 106 107 107 201
201 106 107 107 201
201 106 107 107 201
2022/08/03 11:56:36.477888 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:56:36.999792 test_test.go:264: [0;33m[warning] restart servers
[0m
310 307 308 308 310
310 307 308 308 310
310 307 308 308 310
310 307 308 308 310
310 307 308 308 310
--- PASS: TestSnapshotRecover2C (33.47s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.554s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:56:50.972741 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:56:51.522743 test_test.go:264: [0;33m[warning] restart servers
[0m
414 321 322 322 414
414 321 322 322 414
414 321 322 322 414
414 321 322 322 414
414 321 322 322 414
2022/08/03 11:57:09.056929 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:57:09.645475 test_test.go:264: [0;33m[warning] restart servers
[0m
1048 962 963 963 1048
1048 962 963 963 1048
1048 962 963 963 1048
1048 962 963 963 1048
1048 962 963 963 1048
2022/08/03 11:57:27.146183 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:57:27.770891 test_test.go:264: [0;33m[warning] restart servers
[0m
1704 1591 1592 1592 1704
1708 1696 1697 1697 1708
1708 1696 1697 1697 1708
1708 1696 1697 1697 1708
1708 1696 1697 1697 1708
--- PASS: TestSnapshotRecoverManyClients2C (59.34s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	59.428s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:57:53.921968 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:53.922003 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:53.921998 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:53.921984 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:53.921968 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.420979 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.422220 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.422259 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.422270 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.422269 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.921218 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.921276 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.921458 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.922554 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:54.922573 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.421486 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.421540 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.421537 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.422712 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.422765 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.921524 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.921587 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.921598 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.922553 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:55.922789 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.421904 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.421917 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.421963 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.421960 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.421978 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.921247 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.921264 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.922345 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.922403 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:56.922427 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.421423 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.421512 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.421455 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.422570 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.422622 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.921870 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.921927 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.921969 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.921996 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:57.922053 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.421968 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.422038 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.422063 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.422100 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.422126 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.921289 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.921314 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.921422 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.922474 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:58.922555 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.421120 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.421230 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.421501 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.422443 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.422479 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.921143 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.921273 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.922227 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.922240 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:57:59.922327 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.421125 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.421186 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.421441 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.421730 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.422380 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.921450 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.921447 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.921454 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.922532 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:00.922549 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.421553 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.421551 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.421549 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.422654 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.422680 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.920935 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.921881 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.921919 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.921919 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:01.921935 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.421582 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.421585 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.421599 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.422751 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.422780 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.921228 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.921328 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.921427 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.921725 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:02.922555 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.421619 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.421623 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.421672 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.421689 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.422822 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.921880 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.921916 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.921933 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.921962 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:03.922001 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.421905 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.421989 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.422010 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.422074 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.422087 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.921383 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.921401 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.921383 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.922479 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:04.922500 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.421789 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.421813 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.421823 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.421832 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.422381 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.921046 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.922264 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.922323 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.922354 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:05.922419 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.421584 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.421599 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.421626 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.422754 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.422828 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.921382 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.921419 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.921471 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.922610 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:06.922719 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.420971 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.422152 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.422208 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.422256 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.422274 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.921791 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.921815 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.921862 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.921880 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:07.921901 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.421805 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.421867 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.421903 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.421943 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.421984 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.921580 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.921617 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.921651 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.921709 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:08.921896 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.421026 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.421306 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.422389 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.422406 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.422429 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.921578 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.921593 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.921587 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.922653 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:09.922653 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.422007 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.422103 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.422110 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.422129 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.422183 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.921594 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.921594 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.921635 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.922755 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:10.922793 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.421637 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.421650 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.421705 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.421670 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.422813 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.920991 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.921177 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.922256 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.922264 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:11.922268 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.421440 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.421471 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.421537 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.421826 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.421906 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.921290 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.921290 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.922037 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.922085 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:12.922159 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.421832 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.421892 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.421908 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.421950 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.421939 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.921781 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.921849 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.921879 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.921879 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:13.921918 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.421279 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.421376 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.421442 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.422000 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.421986 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.921322 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.921433 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.921522 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.922679 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:14.922732 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.421859 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.421905 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.421926 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.421942 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.421964 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.921248 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.921278 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.922406 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.922531 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:15.922612 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.420946 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.421321 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.421583 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.421755 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.421950 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.921191 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.921191 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.922259 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.922261 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:16.922276 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.421092 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.421230 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.421472 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.421745 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.422337 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.921812 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.921822 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.921887 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.921850 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:17.921942 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.421248 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.421261 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.422374 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.422412 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.422452 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.921935 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.921943 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.922026 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.922027 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:18.922039 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.421140 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.421161 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.422191 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.422200 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.422208 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.920962 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.922145 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.922188 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.922206 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:19.922225 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.421418 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.421445 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.421506 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.422607 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.422730 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.921169 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.921283 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.921567 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.922395 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:20.922909 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.421386 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.421457 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.421474 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.422637 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.422705 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.921196 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.921237 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.922384 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.922391 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:21.922397 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.421279 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.421376 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.421550 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.421943 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.422017 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.921448 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.921487 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.921539 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.921750 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:22.922736 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:23.422017 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:23.422172 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:23.422059 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:23.422124 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:23.422066 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:58:23 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2763742153/kv/00000001.sst: open /tmp/test-raftstore2763742153/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:58:23 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore394785585/kv/00000001.sst: open /tmp/test-raftstore394785585/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:58:23 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1562932518/kv/00000001.sst: open /tmp/test-raftstore1562932518/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:58:23 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3612219631/kv/00000001.sst: open /tmp/test-raftstore3612219631/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:58:23 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3705736819/kv/00000001.sst: open /tmp/test-raftstore3705736819/kv/00000001.sst: no such file or directory[0m
--- PASS: TestSnapshotUnreliable2C (40.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.266s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:58:33.107362 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:58:33.647932 test_test.go:264: [0;33m[warning] restart servers
[0m
226 210 211 211 226
226 210 211 211 226
226 210 211 211 226
226 210 211 211 226
226 210 211 211 226
2022/08/03 11:58:47.566031 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:58:48.096364 test_test.go:264: [0;33m[warning] restart servers
[0m
577 517 518 518 577
577 517 518 518 577
577 517 518 518 577
577 517 518 518 577
577 517 518 518 577
2022/08/03 11:59:01.857227 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:59:02.394821 test_test.go:264: [0;33m[warning] restart servers
[0m
916 824 825 825 916
916 824 825 825 916
916 824 825 825 916
916 824 825 825 916
916 824 825 825 916
--- PASS: TestSnapshotUnreliableRecover2C (45.68s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	45.775s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 11:59:19.257524 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:59:19.757952 test_test.go:264: [0;33m[warning] restart servers
[0m
59 5 6 6 59
59 5 6 6 59
59 5 6 6 59
59 5 6 6 59
59 5 6 6 59
2022/08/03 11:59:30.252008 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:59:30.798863 test_test.go:264: [0;33m[warning] restart servers
[0m
232 208 209 209 232
232 227 228 228 232
232 208 209 209 232
232 208 209 209 232
232 216 217 217 232
2022/08/03 11:59:36.799882 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:36.799929 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:36.799971 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:36.800146 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:36.800296 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.300156 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.300235 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.300245 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.300240 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.300307 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.800281 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.800329 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.800345 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.800389 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:37.800410 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.300070 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.300092 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.300098 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.300103 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.301283 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.800290 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.800290 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.800331 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.800386 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:38.800420 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.299376 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.299615 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.299793 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.300000 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.300254 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.799355 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.799611 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.799819 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.800009 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:39.800172 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.299696 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.299709 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.299778 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.300314 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.300340 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.800326 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.800392 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.800485 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.800651 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:40.800866 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:41.299445 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:41.300612 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:41.300703 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:41.300745 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:41.300783 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:41.472922 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 11:59:42.031364 test_test.go:264: [0;33m[warning] restart servers
[0m
388 309 310 310 388
388 309 310 310 388
388 309 310 310 388
388 309 310 310 388
388 309 310 310 388
2022/08/03 11:59:42.532909 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:42.533954 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:42.535007 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:42.536043 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:42.536972 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.033754 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.034977 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.035024 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.036069 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.037321 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.532877 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.535015 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.535218 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.536758 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:43.536962 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.033626 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.034701 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.035942 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.037062 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.037076 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.533770 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.534027 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.536132 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.536145 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:44.537326 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.032976 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.034274 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.035450 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.036666 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.037772 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.533875 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.533954 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.535150 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.536439 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45.537596 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 11:59:45 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore839161515/kv/00000001.sst: open /tmp/test-raftstore839161515/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:59:45 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1959004030/kv/00000003.sst: open /tmp/test-raftstore1959004030/kv/00000003.sst: no such file or directory[0m
2022/08/03 11:59:45 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore4091219724/kv/00000001.sst: open /tmp/test-raftstore4091219724/kv/00000001.sst: no such file or directory[0m
2022/08/03 11:59:45 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2018937735/kv/00000003.sst: open /tmp/test-raftstore2018937735/kv/00000003.sst: no such file or directory[0m
2022/08/03 11:59:45 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore847541575/kv/00000001.sst: open /tmp/test-raftstore847541575/kv/00000001.sst: no such file or directory[0m
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (34.60s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.715s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.02s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.026s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestBasic2B (25.13s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.176s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestConcurrent2B (38.69s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.744s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestUnreliable2B (37.22s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	37.243s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestOnePartition2B (5.19s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.231s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:01:37.783286 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:37.783365 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:37.785389 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:37.785398 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:37.786534 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:38.282998 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:38.284208 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:38.285346 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:38.285360 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:38.286464 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:01:38.463319 snap.go:697: [0;31m[error] ingest sst failed (first 0 files succeeded): While opening directory: /tmp/test-raftstore31009882/kv.: open /tmp/test-raftstore31009882/kv: no such file or directory[0m
2022/08/03 12:01:38.463361 region_task.go:126: [0;31m[fatal] failed to apply snap!!!. err: While opening directory: /tmp/test-raftstore31009882/kv.: open /tmp/test-raftstore31009882/kv: no such file or directory[0m
FAIL	github.com/pingcap-incubator/tinykv/kv/test_raftstore	2.328s
FAIL
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsManyClients2B (33.15s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.230s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:02:21.184710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:02:21.731926 test_test.go:264: [0;33m[warning] restart servers
[0m
103 5 6 6 103
103 5 6 6 103
103 5 6 6 103
103 5 6 6 103
103 5 6 6 103
2022/08/03 12:02:29.760333 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:02:30.295236 test_test.go:264: [0;33m[warning] restart servers
[0m
254 5 6 6 254
254 5 6 6 254
254 5 6 6 254
254 5 6 6 254
254 5 6 6 254
2022/08/03 12:02:38.161937 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:02:38.685210 test_test.go:264: [0;33m[warning] restart servers
[0m
398 5 6 6 398
398 5 6 6 398
398 5 6 6 398
398 5 6 6 398
398 5 6 6 398
--- PASS: TestPersistOneClient2B (29.91s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.000s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:02:51.300897 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:02:51.835116 test_test.go:264: [0;33m[warning] restart servers
[0m
280 5 6 6 280
280 5 6 6 280
280 5 6 6 280
280 5 6 6 280
280 5 6 6 280
2022/08/03 12:03:03.954881 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:03:04.513371 test_test.go:264: [0;33m[warning] restart servers
[0m
691 5 6 6 691
691 5 6 6 691
691 5 6 6 691
691 5 6 6 691
691 5 6 6 691
2022/08/03 12:03:16.610360 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:03:17.162607 test_test.go:264: [0;33m[warning] restart servers
[0m
1100 5 6 6 1100
1100 5 6 6 1100
1100 5 6 6 1100
1100 5 6 6 1100
1100 5 6 6 1100
--- PASS: TestPersistConcurrent2B (40.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	40.985s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:03:34.085566 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:03:34.586574 test_test.go:264: [0;33m[warning] restart servers
[0m
251 5 6 6 251
251 5 6 6 251
251 5 6 6 251
251 5 6 6 251
251 5 6 6 251
2022/08/03 12:03:45.839469 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:03:46.365187 test_test.go:264: [0;33m[warning] restart servers
[0m
580 5 6 6 580
580 5 6 6 580
580 5 6 6 580
580 5 6 6 580
580 5 6 6 580
2022/08/03 12:03:57.060237 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:03:57.560482 test_test.go:264: [0;33m[warning] restart servers
[0m
915 5 6 6 915
915 5 6 6 915
915 5 6 6 915
915 5 6 6 915
915 5 6 6 915
--- PASS: TestPersistConcurrentUnreliable2B (38.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.397s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:04:13.317796 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:04:14.112294 test_test.go:264: [0;33m[warning] restart servers
[0m
110 5 6 6 110
110 5 6 6 110
110 5 6 6 110
110 5 6 6 110
110 5 6 6 110
2022/08/03 12:04:23.875372 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:04:24.525723 test_test.go:264: [0;33m[warning] restart servers
[0m
308 5 6 6 308
309 5 6 6 309
309 5 6 6 309
309 5 6 6 309
309 5 6 6 309
2022/08/03 12:04:34.637470 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:04:35.164844 test_test.go:264: [0;33m[warning] restart servers
[0m
473 5 6 6 473
471 5 6 6 471
484 5 6 6 484
484 5 6 6 484
484 5 6 6 484
--- PASS: TestPersistPartition2B (34.24s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	34.339s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:04:49.216154 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:04:49.778894 test_test.go:264: [0;33m[warning] restart servers
[0m
130 5 6 6 130
130 5 6 6 130
130 5 6 6 130
130 5 6 6 130
130 5 6 6 130
2022/08/03 12:04:59.224015 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:04:59.759662 test_test.go:264: [0;33m[warning] restart servers
[0m
214 5 6 6 214
306 5 6 6 306
278 5 6 6 278
306 5 6 6 306
306 5 6 6 306
2022/08/03 12:05:09.111549 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:05:09.612632 test_test.go:264: [0;33m[warning] restart servers
[0m
460 5 6 6 460
460 5 6 6 460
460 5 6 6 460
460 5 6 6 460
460 5 6 6 460
--- PASS: TestPersistPartitionUnreliable2B (33.46s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	33.579s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
28 28 29 29 28
--- PASS: TestOneSnapshot2C (5.08s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.109s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:05:27.799370 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:05:28.322217 test_test.go:264: [0;33m[warning] restart servers
[0m
117 105 106 106 117
117 105 106 106 117
117 105 106 106 117
117 105 106 106 117
117 105 106 106 117
2022/08/03 12:05:37.715850 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:05:38.251751 test_test.go:264: [0;33m[warning] restart servers
[0m
284 205 206 206 284
284 205 206 206 284
284 205 206 206 284
284 205 206 206 284
284 205 206 206 284
2022/08/03 12:05:47.223870 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:05:47.735722 test_test.go:264: [0;33m[warning] restart servers
[0m
444 405 406 406 444
444 405 406 406 444
444 405 406 406 444
444 405 406 406 444
444 405 406 406 444
--- PASS: TestSnapshotRecover2C (32.79s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.882s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:06:02.042757 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:06:02.651416 test_test.go:264: [0;33m[warning] restart servers
[0m
412 345 346 346 412
412 345 346 346 412
412 345 346 346 412
412 345 346 346 412
412 345 346 346 412
2022/08/03 12:06:20.096812 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:06:20.740478 test_test.go:264: [0;33m[warning] restart servers
[0m
1090 1084 1085 1085 1090
1090 1084 1085 1085 1090
1090 1084 1085 1085 1090
1090 1084 1085 1085 1090
1090 1084 1085 1085 1090
2022/08/03 12:06:37.123823 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:06:37.682089 test_test.go:264: [0;33m[warning] restart servers
[0m
1728 1628 1629 1629 1728
1728 1628 1629 1629 1728
1728 1628 1629 1629 1728
1728 1628 1629 1629 1728
1728 1628 1629 1629 1728
--- PASS: TestSnapshotRecoverManyClients2C (55.32s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	55.412s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:07:16.103701 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.104839 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.104850 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.105925 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.105946 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.603361 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.604319 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.605503 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.605523 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:16.606591 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.104179 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.104184 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.105385 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.105414 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.106510 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.604021 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.604044 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.605190 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.606323 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:17.606367 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.103928 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.104009 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.105057 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.105484 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.106013 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.603116 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.604318 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.605499 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.605529 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:18.606749 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.103758 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.105031 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.105060 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.106236 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.106260 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.603634 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.604842 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.604867 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.606271 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:19.606323 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.103671 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.104072 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.104941 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.106092 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.106155 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.603922 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.603992 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.605168 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.606549 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:20.606622 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.103097 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.103904 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.104567 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.105318 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.105910 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.603095 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.603927 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.604552 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.605335 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:21.605892 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.103518 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.105162 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.105216 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.105563 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.106783 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.603784 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.603906 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.604972 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.606298 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:22.606354 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.103840 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.104428 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.104916 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.106019 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.106019 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.603245 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.604372 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.605539 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.605603 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:23.606755 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.103991 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.104019 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.105253 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.105421 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.106414 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.603287 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.604188 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.605604 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.605664 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:24.606791 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.103239 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.104798 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.104917 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.105975 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.106099 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.603470 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.604634 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.604733 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.605795 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:25.606966 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.103782 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.103931 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.104943 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.106198 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.106292 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.603378 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.604632 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.604689 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.605919 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26.606063 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:07:26 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore786398484/kv/00000001.sst: open /tmp/test-raftstore786398484/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:07:26 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3822618411/kv/00000001.sst: open /tmp/test-raftstore3822618411/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:07:26 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore4283175674/kv/00000001.sst: open /tmp/test-raftstore4283175674/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:07:26 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore4086795535/kv/00000001.sst: open /tmp/test-raftstore4086795535/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:07:26 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2964928221/kv/00000001.sst: open /tmp/test-raftstore2964928221/kv/00000001.sst: no such file or directory[0m
--- PASS: TestSnapshotUnreliable2C (36.37s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.440s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:07:37.376987 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:07:38.109927 test_test.go:264: [0;33m[warning] restart servers
[0m
215 110 111 111 215
224 210 211 211 224
224 210 211 211 224
224 210 211 211 224
224 210 211 211 224
2022/08/03 12:07:54.304660 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:07:54.844675 test_test.go:264: [0;33m[warning] restart servers
[0m
449 418 419 419 449
449 418 419 419 449
449 418 419 419 449
449 418 419 419 449
449 418 419 419 449
2022/08/03 12:08:07.308066 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:08:07.842382 test_test.go:264: [0;33m[warning] restart servers
[0m
733 724 725 725 733
733 724 725 725 733
733 724 725 725 733
733 724 725 725 733
733 724 725 725 733
--- PASS: TestSnapshotUnreliableRecover2C (48.55s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	48.644s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:08:26.728475 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:08:27.240803 test_test.go:264: [0;33m[warning] restart servers
[0m
55 5 6 6 55
55 5 6 6 55
55 5 6 6 55
55 5 6 6 55
55 5 6 6 55
2022/08/03 12:08:36.421428 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:08:37.131125 test_test.go:264: [0;33m[warning] restart servers
[0m
146 107 108 108 146
146 107 108 108 146
143 107 108 108 143
146 118 119 119 146
143 118 119 119 143
2022/08/03 12:08:46.160996 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:08:46.667958 test_test.go:264: [0;33m[warning] restart servers
[0m
264 221 222 222 264
286 258 259 259 286
286 221 222 222 286
286 221 222 222 286
191 118 119 119 191
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (35.31s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	35.416s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2A
=== RUN   TestFollowerUpdateTermFromMessage2AA
--- PASS: TestFollowerUpdateTermFromMessage2AA (0.00s)
=== RUN   TestCandidateUpdateTermFromMessage2AA
--- PASS: TestCandidateUpdateTermFromMessage2AA (0.00s)
=== RUN   TestLeaderUpdateTermFromMessage2AA
--- PASS: TestLeaderUpdateTermFromMessage2AA (0.00s)
=== RUN   TestStartAsFollower2AA
--- PASS: TestStartAsFollower2AA (0.00s)
=== RUN   TestLeaderBcastBeat2AA
--- PASS: TestLeaderBcastBeat2AA (0.00s)
=== RUN   TestFollowerStartElection2AA
--- PASS: TestFollowerStartElection2AA (0.00s)
=== RUN   TestCandidateStartNewElection2AA
--- PASS: TestCandidateStartNewElection2AA (0.00s)
=== RUN   TestLeaderElectionInOneRoundRPC2AA
--- PASS: TestLeaderElectionInOneRoundRPC2AA (0.00s)
=== RUN   TestFollowerVote2AA
--- PASS: TestFollowerVote2AA (0.00s)
=== RUN   TestCandidateFallback2AA
--- PASS: TestCandidateFallback2AA (0.00s)
=== RUN   TestFollowerElectionTimeoutRandomized2AA
--- PASS: TestFollowerElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestCandidateElectionTimeoutRandomized2AA
--- PASS: TestCandidateElectionTimeoutRandomized2AA (0.00s)
=== RUN   TestFollowersElectionTimeoutNonconflict2AA
--- PASS: TestFollowersElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestCandidatesElectionTimeoutNonconflict2AA
--- PASS: TestCandidatesElectionTimeoutNonconflict2AA (0.00s)
=== RUN   TestLeaderStartReplication2AB
--- PASS: TestLeaderStartReplication2AB (0.00s)
=== RUN   TestLeaderCommitEntry2AB
--- PASS: TestLeaderCommitEntry2AB (0.00s)
=== RUN   TestLeaderAcknowledgeCommit2AB
--- PASS: TestLeaderAcknowledgeCommit2AB (0.00s)
=== RUN   TestLeaderCommitPrecedingEntries2AB
--- PASS: TestLeaderCommitPrecedingEntries2AB (0.00s)
=== RUN   TestFollowerCommitEntry2AB
--- PASS: TestFollowerCommitEntry2AB (0.00s)
=== RUN   TestFollowerCheckMessageType_MsgAppend2AB
--- PASS: TestFollowerCheckMessageType_MsgAppend2AB (0.00s)
=== RUN   TestFollowerAppendEntries2AB
--- PASS: TestFollowerAppendEntries2AB (0.00s)
=== RUN   TestLeaderSyncFollowerLog2AB
--- PASS: TestLeaderSyncFollowerLog2AB (0.00s)
=== RUN   TestVoteRequest2AB
--- PASS: TestVoteRequest2AB (0.00s)
=== RUN   TestVoter2AB
--- PASS: TestVoter2AB (0.00s)
=== RUN   TestLeaderOnlyCommitsLogFromCurrentTerm2AB
--- PASS: TestLeaderOnlyCommitsLogFromCurrentTerm2AB (0.00s)
=== RUN   TestProgressLeader2AB
--- PASS: TestProgressLeader2AB (0.00s)
=== RUN   TestLeaderElection2AA
--- PASS: TestLeaderElection2AA (0.00s)
=== RUN   TestLeaderCycle2AA
--- PASS: TestLeaderCycle2AA (0.00s)
=== RUN   TestLeaderElectionOverwriteNewerLogs2AB
--- PASS: TestLeaderElectionOverwriteNewerLogs2AB (0.00s)
=== RUN   TestVoteFromAnyState2AA
--- PASS: TestVoteFromAnyState2AA (0.00s)
=== RUN   TestLogReplication2AB
--- PASS: TestLogReplication2AB (0.00s)
=== RUN   TestSingleNodeCommit2AB
--- PASS: TestSingleNodeCommit2AB (0.00s)
=== RUN   TestCommitWithoutNewTermEntry2AB
--- PASS: TestCommitWithoutNewTermEntry2AB (0.00s)
=== RUN   TestCommitWithHeartbeat2AB
--- PASS: TestCommitWithHeartbeat2AB (0.00s)
=== RUN   TestDuelingCandidates2AB
--- PASS: TestDuelingCandidates2AB (0.00s)
=== RUN   TestCandidateConcede2AB
--- PASS: TestCandidateConcede2AB (0.00s)
=== RUN   TestSingleNodeCandidate2AA
--- PASS: TestSingleNodeCandidate2AA (0.00s)
=== RUN   TestOldMessages2AB
--- PASS: TestOldMessages2AB (0.00s)
=== RUN   TestProposal2AB
--- PASS: TestProposal2AB (0.00s)
=== RUN   TestHandleMessageType_MsgAppend2AB
--- PASS: TestHandleMessageType_MsgAppend2AB (0.00s)
=== RUN   TestRecvMessageType_MsgRequestVote2AB
--- PASS: TestRecvMessageType_MsgRequestVote2AB (0.00s)
=== RUN   TestAllServerStepdown2AB
--- PASS: TestAllServerStepdown2AB (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgHeartbeat2AA
--- PASS: TestCandidateResetTermMessageType_MsgHeartbeat2AA (0.00s)
=== RUN   TestCandidateResetTermMessageType_MsgAppend2AA
--- PASS: TestCandidateResetTermMessageType_MsgAppend2AA (0.00s)
=== RUN   TestDisruptiveFollower2AA
--- PASS: TestDisruptiveFollower2AA (0.00s)
=== RUN   TestHeartbeatUpdateCommit2AB
--- PASS: TestHeartbeatUpdateCommit2AB (0.00s)
=== RUN   TestRecvMessageType_MsgBeat2AA
--- PASS: TestRecvMessageType_MsgBeat2AA (0.00s)
=== RUN   TestLeaderIncreaseNext2AB
--- PASS: TestLeaderIncreaseNext2AB (0.00s)
=== RUN   TestCampaignWhileLeader2AA
--- PASS: TestCampaignWhileLeader2AA (0.00s)
=== RUN   TestSplitVote2AA
--- PASS: TestSplitVote2AA (0.00s)
=== RUN   TestRawNodeStart2AC
--- PASS: TestRawNodeStart2AC (0.00s)
=== RUN   TestRawNodeRestart2AC
--- PASS: TestRawNodeRestart2AC (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.009s
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestBasic2B|| true
=== RUN   TestBasic2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestBasic2B (25.76s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	25.809s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestConcurrent2B|| true
=== RUN   TestConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestConcurrent2B (36.09s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.137s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestUnreliable2B|| true
=== RUN   TestUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestUnreliable2B (38.66s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.689s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOnePartition2B|| true
=== RUN   TestOnePartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestOnePartition2B (4.92s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	4.961s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsOneClient2B|| true
=== RUN   TestManyPartitionsOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsOneClient2B (24.72s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	24.744s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestManyPartitionsManyClients2B|| true
=== RUN   TestManyPartitionsManyClients2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
--- PASS: TestManyPartitionsManyClients2B (31.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	31.513s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistOneClient2B|| true
=== RUN   TestPersistOneClient2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:11:47.802959 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:11:48.348258 test_test.go:264: [0;33m[warning] restart servers
[0m
103 5 6 6 103
103 5 6 6 103
103 5 6 6 103
103 5 6 6 103
103 5 6 6 103
2022/08/03 12:11:56.477712 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:11:56.996441 test_test.go:264: [0;33m[warning] restart servers
[0m
256 5 6 6 256
256 5 6 6 256
256 5 6 6 256
256 5 6 6 256
256 5 6 6 256
2022/08/03 12:12:05.430497 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:12:05.959038 test_test.go:264: [0;33m[warning] restart servers
[0m
417 5 6 6 417
417 5 6 6 417
417 5 6 6 417
417 5 6 6 417
417 5 6 6 417
--- PASS: TestPersistOneClient2B (30.23s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	30.311s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrent2B|| true
=== RUN   TestPersistConcurrent2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:12:18.324445 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:12:18.897014 test_test.go:264: [0;33m[warning] restart servers
[0m
279 5 6 6 279
279 5 6 6 279
279 5 6 6 279
279 5 6 6 279
279 5 6 6 279
2022/08/03 12:12:31.212823 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:12:31.748130 test_test.go:264: [0;33m[warning] restart servers
[0m
701 5 6 6 701
701 5 6 6 701
701 5 6 6 701
701 5 6 6 701
701 5 6 6 701
2022/08/03 12:12:44.039745 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:12:44.581408 test_test.go:264: [0;33m[warning] restart servers
[0m
1109 5 6 6 1109
1109 5 6 6 1109
1109 5 6 6 1109
1109 5 6 6 1109
1109 5 6 6 1109
--- PASS: TestPersistConcurrent2B (41.16s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	41.242s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistConcurrentUnreliable2B|| true
=== RUN   TestPersistConcurrentUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:13:02.157783 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:13:02.717398 test_test.go:264: [0;33m[warning] restart servers
[0m
186 5 6 6 186
186 5 6 6 186
186 5 6 6 186
186 5 6 6 186
186 5 6 6 186
2022/08/03 12:13:12.989832 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:13:13.552733 test_test.go:264: [0;33m[warning] restart servers
[0m
504 5 6 6 504
504 5 6 6 504
504 5 6 6 504
504 5 6 6 504
504 5 6 6 504
2022/08/03 12:13:25.177363 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:13:25.677980 test_test.go:264: [0;33m[warning] restart servers
[0m
869 5 6 6 869
869 5 6 6 869
869 5 6 6 869
869 5 6 6 869
869 5 6 6 869
--- PASS: TestPersistConcurrentUnreliable2B (38.84s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.920s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartition2B|| true
=== RUN   TestPersistPartition2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:13:41.582991 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:13:42.279188 test_test.go:264: [0;33m[warning] restart servers
[0m
114 5 6 6 114
114 5 6 6 114
114 5 6 6 114
114 5 6 6 114
114 5 6 6 114
2022/08/03 12:13:53.588537 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:13:54.088794 test_test.go:264: [0;33m[warning] restart servers
[0m
275 5 6 6 275
275 5 6 6 275
275 5 6 6 275
275 5 6 6 275
275 5 6 6 275
2022/08/03 12:14:04.646088 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:14:05.276576 test_test.go:264: [0;33m[warning] restart servers
[0m
412 5 6 6 412
409 407 408 408 409
412 5 6 6 412
412 5 6 6 412
412 5 6 6 412
--- PASS: TestPersistPartition2B (36.74s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	36.857s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestPersistPartitionUnreliable2B|| true
=== RUN   TestPersistPartitionUnreliable2B
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:14:19.632751 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:14:20.189600 test_test.go:264: [0;33m[warning] restart servers
[0m
65 5 6 6 65
65 5 6 6 65
65 5 6 6 65
65 5 6 6 65
65 5 6 6 65
2022/08/03 12:14:28.147943 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:14:28.648886 test_test.go:264: [0;33m[warning] restart servers
[0m
236 5 6 6 236
236 5 6 6 236
236 5 6 6 236
236 5 6 6 236
236 5 6 6 236
2022/08/03 12:14:38.224768 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:14:39.033973 test_test.go:264: [0;33m[warning] restart servers
[0m
399 5 6 6 399
399 5 6 6 399
399 5 6 6 399
399 5 6 6 399
399 5 6 6 399
--- PASS: TestPersistPartitionUnreliable2B (32.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.603s
rm -rf /tmp/*test-raftstore*
rm -rf /tmp/*test-raftstore*
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./raft -run 2C || true
=== RUN   TestRestoreSnapshot2C
--- PASS: TestRestoreSnapshot2C (0.00s)
=== RUN   TestRestoreIgnoreSnapshot2C
--- PASS: TestRestoreIgnoreSnapshot2C (0.00s)
=== RUN   TestProvideSnap2C
--- PASS: TestProvideSnap2C (0.00s)
=== RUN   TestRestoreFromSnapMsg2C
--- PASS: TestRestoreFromSnapMsg2C (0.00s)
=== RUN   TestSlowNodeRestore2C
--- PASS: TestSlowNodeRestore2C (0.00s)
=== RUN   TestRawNodeRestartFromSnapshot2C
--- PASS: TestRawNodeRestartFromSnapshot2C (0.00s)
PASS
ok  	github.com/pingcap-incubator/tinykv/raft	0.002s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestOneSnapshot2C|| true
=== RUN   TestOneSnapshot2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
27 27 28 28 27
--- PASS: TestOneSnapshot2C (5.44s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	5.464s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecover2C|| true
=== RUN   TestSnapshotRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:14:57.642975 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:14:58.183186 test_test.go:264: [0;33m[warning] restart servers
[0m
109 105 106 106 109
109 105 106 106 109
109 105 106 106 109
109 105 106 106 109
109 105 106 106 109
2022/08/03 12:15:06.720903 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:15:07.261105 test_test.go:264: [0;33m[warning] restart servers
[0m
261 205 206 206 261
261 205 206 206 261
261 205 206 206 261
261 205 206 206 261
261 205 206 206 261
2022/08/03 12:15:16.337743 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:15:16.861602 test_test.go:264: [0;33m[warning] restart servers
[0m
421 405 406 406 421
421 405 406 406 421
421 405 406 406 421
421 405 406 406 421
421 405 406 406 421
--- PASS: TestSnapshotRecover2C (32.25s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	32.332s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotRecoverManyClients2C|| true
=== RUN   TestSnapshotRecoverManyClients2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:15:30.792406 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:15:31.368354 test_test.go:264: [0;33m[warning] restart servers
[0m
401 343 344 344 401
401 343 344 344 401
401 343 344 344 401
401 343 344 344 401
401 343 344 344 401
2022/08/03 12:15:47.273710 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:15:47.841747 test_test.go:264: [0;33m[warning] restart servers
[0m
1034 1002 1003 1003 1034
1034 1002 1003 1003 1034
1034 1002 1003 1003 1034
1034 1002 1003 1003 1034
1034 1002 1003 1003 1034
2022/08/03 12:16:04.434132 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:16:05.031385 test_test.go:264: [0;33m[warning] restart servers
[0m
1686 1641 1642 1642 1686
1686 1641 1642 1642 1686
1686 1641 1642 1642 1686
1686 1641 1642 1642 1686
1686 1641 1642 1642 1686
--- PASS: TestSnapshotRecoverManyClients2C (54.10s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	54.191s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliable2C|| true
=== RUN   TestSnapshotUnreliable2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:16:44.532969 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:44.532973 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:44.532970 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:44.532994 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:44.534020 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.032719 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.032750 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.032820 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.033948 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.033968 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.533087 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.533144 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.533192 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.533250 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:45.533391 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.032773 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.032840 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.032873 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.034040 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.034129 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.532747 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.532833 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.532903 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.534007 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:46.534076 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.032227 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.032653 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.032713 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.033828 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.033851 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.532801 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.532801 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.532863 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.534008 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:47.534120 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.032933 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.033002 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.033015 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.033038 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.034269 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.533049 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.533159 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.533179 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.533235 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:48.533241 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.032475 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.032510 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.032868 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.033629 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.033748 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.533144 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.533225 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.533225 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.533256 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:49.533290 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.032684 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.032689 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.032763 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.033903 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.034025 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.532607 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.532644 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.532719 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.533136 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:50.533191 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.032761 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.032783 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.032837 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.034046 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.034067 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.532602 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.532701 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.532787 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.533056 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:51.534085 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.032207 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.032608 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.033692 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.033774 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.033803 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.532266 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.532448 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.532720 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.534086 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:52.534187 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.032530 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.032537 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.033680 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.033739 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.033765 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.532569 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.532674 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.532794 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.533725 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:53.533844 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.033155 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.033200 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.033221 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.033233 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.033243 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.532671 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.532728 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.532812 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.533116 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:54.533282 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.032303 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.033553 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.033619 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.033655 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.033671 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.532819 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.532830 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.532829 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.533092 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:55.533373 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.033006 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.033132 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.033188 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.033190 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.033247 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.532907 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.532907 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.532978 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.532994 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:56.534055 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.032267 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.032559 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.032853 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.033461 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.033507 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.532744 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.532818 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.532948 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.533027 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57.533263 log.go:116: [0;31m[error] [no such file or directory]
[0m
2022/08/03 12:16:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore905237427/kv/00000001.sst: open /tmp/test-raftstore905237427/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:16:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore1461954497/kv/00000001.sst: open /tmp/test-raftstore1461954497/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:16:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore2445879730/kv/00000001.sst: open /tmp/test-raftstore2445879730/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:16:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore3684910686/kv/00000001.sst: open /tmp/test-raftstore3684910686/kv/00000001.sst: no such file or directory[0m
2022/08/03 12:16:57 db.go:930: [0;31m[error] ERROR while opening file/tmp/test-raftstore475475721/kv/00000001.sst: open /tmp/test-raftstore475475721/kv/00000001.sst: no such file or directory[0m
--- PASS: TestSnapshotUnreliable2C (39.05s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	39.098s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecover2C|| true
=== RUN   TestSnapshotUnreliableRecover2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:17:06.506717 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:17:07.007738 test_test.go:264: [0;33m[warning] restart servers
[0m
260 214 215 215 260
260 214 215 215 260
260 214 215 215 260
260 214 215 215 260
260 214 215 215 260
2022/08/03 12:17:20.665058 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:17:21.166282 test_test.go:264: [0;33m[warning] restart servers
[0m
600 519 520 520 600
600 519 520 520 600
600 519 520 520 600
600 519 520 520 600
600 519 520 520 600
2022/08/03 12:17:33.390313 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:17:34.071372 test_test.go:264: [0;33m[warning] restart servers
[0m
931 830 831 831 931
935 930 931 931 935
935 930 931 931 935
935 930 931 931 935
935 930 931 931 935
--- PASS: TestSnapshotUnreliableRecover2C (43.88s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	43.967s
GO111MODULE=on go test -v --count=1 --parallel=1 -p=1 ./kv/test_raftstore -run ^TestSnapshotUnreliableRecoverConcurrentPartition2C|| true
=== RUN   TestSnapshotUnreliableRecoverConcurrentPartition2C
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
5 5 6 6 5
2022/08/03 12:17:51.233893 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:17:52.348036 test_test.go:264: [0;33m[warning] restart servers
[0m
77 5 6 6 77
77 5 6 6 77
77 5 6 6 77
77 5 6 6 77
77 5 6 6 77
2022/08/03 12:18:01.821603 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:18:02.321834 test_test.go:264: [0;33m[warning] restart servers
[0m
242 207 208 208 242
242 239 240 240 242
242 207 208 208 242
242 207 208 208 242
242 219 220 220 242
2022/08/03 12:18:13.270270 test_test.go:257: [0;33m[warning] shutdown servers
[0m
2022/08/03 12:18:13.819893 test_test.go:264: [0;33m[warning] restart servers
[0m
470 422 423 423 470
470 464 465 465 470
470 422 423 423 470
470 422 423 423 470
470 422 423 423 470
--- PASS: TestSnapshotUnreliableRecoverConcurrentPartition2C (37.90s)
PASS
ok  	github.com/pingcap-incubator/tinykv/kv/test_raftstore	38.042s
rm -rf /tmp/*test-raftstore*
